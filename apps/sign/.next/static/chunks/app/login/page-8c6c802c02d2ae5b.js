(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8371:function(e,n,i){Promise.resolve().then(i.bind(i,9892))},9892:function(e,n,i){"use strict";let o,t;i.r(n),i.d(n,{default:function(){return p}});var s=i(7437),a=i(2265),r=i(9376),l=i(4111),c=i(2848),u=i(554);let d={apiKey:"AIzaSyBCgq3y9WjS8ZkB-q_lnkFM2BuUdLp2M-g",authDomain:"freedi-test.firebaseapp.com",projectId:"freedi-test",storageBucket:"freedi-test.firebasestorage.app",messagingSenderId:"47037334917",appId:"1:47037334917:web:f9bce2dd772b5efd29f0ec",measurementId:i(257).env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID};function g(){return t||(o||((0,c.C6)().length>0?o=(0,c.C6)()[0]:(o=(0,c.ZF)(d),console.info("[Firebase Client - Sign] Initialized"))),t=(0,u.v0)(o)),t}async function f(){try{let e=g(),n=new u.hJ,i=await (0,u.rh)(e,n);return console.info("[Firebase Auth] User signed in with Google",{userId:i.user.uid}),_(i.user),i.user}catch(e){throw console.error("[Firebase Auth] Google login failed",e),e}}async function h(){try{let e=g(),n=await (0,u.XB)(e);return console.info("[Firebase Auth] User signed in anonymously",{userId:n.user.uid}),_(n.user),n.user}catch(e){throw console.error("[Firebase Auth] Anonymous login failed",e),e}}function _(e){document.cookie="userId=".concat(e.uid,"; path=/; max-age=").concat(2592e3,"; SameSite=Lax"),e.displayName&&(document.cookie="userDisplayName=".concat(encodeURIComponent(e.displayName),"; path=/; max-age=").concat(2592e3,"; SameSite=Lax"))}var m=i(3397),b=i.n(m);function p(){let{t:e}=(0,l.$G)(),n=(0,r.useRouter)(),i=(0,r.useSearchParams)(),[o,t]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),d=i.get("redirect")||"/",g=(0,a.useCallback)(async(i,o)=>{t(!0),u(null);try{let t=await i();t?(console.info("[Login] User signed in via ".concat(o),{userId:t.uid}),n.push(d)):u(e("Login failed. Please try again."))}catch(n){console.error("[Login] ".concat(o," login failed"),n),u(e("Login failed. Please try again."))}finally{t(!1)}},[n,d,e]),_=(0,a.useCallback)(()=>{g(f,"Google")},[g]),m=(0,a.useCallback)(()=>{g(h,"anonymous")},[g]);return(0,s.jsx)("div",{className:b().container,children:(0,s.jsxs)("div",{className:b().card,children:[(0,s.jsx)("h1",{className:b().title,children:"Freedi Sign"}),(0,s.jsx)("p",{className:b().subtitle,children:e("Sign in to view and sign documents")}),c&&(0,s.jsx)("p",{className:b().error,children:c}),(0,s.jsxs)("div",{className:b().buttons,children:[(0,s.jsxs)("button",{type:"button",className:b().googleButton,onClick:_,disabled:o,children:[(0,s.jsxs)("svg",{className:b().icon,viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o?e("Signing in..."):e("Sign in with Google")]}),(0,s.jsx)("div",{className:b().divider,children:(0,s.jsx)("span",{children:e("or")})}),(0,s.jsx)("button",{type:"button",className:b().anonymousButton,onClick:m,disabled:o,children:o?e("Signing in..."):e("Continue as guest")})]})]})})}},4111:function(e,n,i){"use strict";i.d(n,{$G:function(){return o.useTranslation}}),i(6810),i(5334),i(1288);var o=i(4566)},3397:function(e){e.exports={container:"login_container__Wwxfo",card:"login_card__eudsd",title:"login_title__Yo5Fx",subtitle:"login_subtitle__rH5bb",error:"login_error__6ynW7",buttons:"login_buttons__saxZx",googleButton:"login_googleButton__OqLbR",icon:"login_icon__gTPf2",divider:"login_divider__Q88L1",anonymousButton:"login_anonymousButton__f34vF"}}},function(e){e.O(0,[632,787,684,566,971,117,744],function(){return e(e.s=8371)}),_N_E=e.O()}]);