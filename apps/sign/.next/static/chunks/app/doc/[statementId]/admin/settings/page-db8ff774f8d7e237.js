(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[855],{6147:function(e,s,t){Promise.resolve().then(t.bind(t,5120))},5120:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var a=t(7437),i=t(2265),n=t(9376),o=t(4111),c=t(9717),l=t.n(c);function r(){let e=(0,n.useParams)().statementId,{t:s}=(0,o.$G)(),[t,c]=(0,i.useState)({allowComments:!0,allowApprovals:!0,requireLogin:!1,showHeatMap:!0,showViewCounts:!0,isPublic:!0}),[r,d]=(0,i.useState)(!0),[_,m]=(0,i.useState)(!1),[u,g]=(0,i.useState)(!1),h=(0,i.useCallback)(async()=>{try{d(!0);let s=await fetch("/api/admin/settings/".concat(e));if(s.ok){let e=await s.json();c(e)}}catch(e){console.error("Failed to fetch settings:",e)}finally{d(!1)}},[e]);(0,i.useEffect)(()=>{h()},[h]);let p=e=>{c(s=>({...s,[e]:!s[e]})),g(!1)},b=async()=>{try{m(!0),(await fetch("/api/admin/settings/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(g(!0),setTimeout(()=>g(!1),3e3))}catch(e){console.error("Failed to save settings:",e)}finally{m(!1)}};return r?(0,a.jsx)("div",{className:l().settingsPage,children:(0,a.jsx)("p",{style:{textAlign:"center",padding:"var(--spacing-xl)",color:"var(--text-secondary)"},children:s("Loading...")})}):(0,a.jsxs)("div",{className:l().settingsPage,children:[(0,a.jsxs)("header",{className:l().dashboardHeader,children:[(0,a.jsx)("h1",{className:l().dashboardTitle,children:s("Settings")}),(0,a.jsx)("p",{className:l().dashboardSubtitle,children:s("Configure document visibility and interactions")})]}),(0,a.jsxs)("section",{className:l().settingsSection,children:[(0,a.jsx)("h2",{className:l().settingsSectionTitle,children:s("Visibility")}),(0,a.jsxs)("div",{className:l().settingRow,children:[(0,a.jsxs)("div",{className:l().settingInfo,children:[(0,a.jsx)("p",{className:l().settingLabel,children:s("Public Document")}),(0,a.jsx)("p",{className:l().settingDescription,children:s("Allow anyone with the link to view this document")})]}),(0,a.jsx)("button",{type:"button",className:"".concat(l().toggle," ").concat(t.isPublic?l().active:""),onClick:()=>p("isPublic"),"aria-pressed":t.isPublic})]}),(0,a.jsxs)("div",{className:l().settingRow,children:[(0,a.jsxs)("div",{className:l().settingInfo,children:[(0,a.jsx)("p",{className:l().settingLabel,children:s("Require Login")}),(0,a.jsx)("p",{className:l().settingDescription,children:s("Users must be logged in to view and interact")})]}),(0,a.jsx)("button",{type:"button",className:"".concat(l().toggle," ").concat(t.requireLogin?l().active:""),onClick:()=>p("requireLogin"),"aria-pressed":t.requireLogin})]})]}),(0,a.jsxs)("section",{className:l().settingsSection,children:[(0,a.jsx)("h2",{className:l().settingsSectionTitle,children:s("Interactions")}),(0,a.jsxs)("div",{className:l().settingRow,children:[(0,a.jsxs)("div",{className:l().settingInfo,children:[(0,a.jsx)("p",{className:l().settingLabel,children:s("Allow Comments")}),(0,a.jsx)("p",{className:l().settingDescription,children:s("Users can add comments to paragraphs")})]}),(0,a.jsx)("button",{type:"button",className:"".concat(l().toggle," ").concat(t.allowComments?l().active:""),onClick:()=>p("allowComments"),"aria-pressed":t.allowComments})]}),(0,a.jsxs)("div",{className:l().settingRow,children:[(0,a.jsxs)("div",{className:l().settingInfo,children:[(0,a.jsx)("p",{className:l().settingLabel,children:s("Allow Approvals")}),(0,a.jsx)("p",{className:l().settingDescription,children:s("Users can approve or disapprove paragraphs")})]}),(0,a.jsx)("button",{type:"button",className:"".concat(l().toggle," ").concat(t.allowApprovals?l().active:""),onClick:()=>p("allowApprovals"),"aria-pressed":t.allowApprovals})]})]}),(0,a.jsxs)("section",{className:l().settingsSection,children:[(0,a.jsx)("h2",{className:l().settingsSectionTitle,children:s("Display")}),(0,a.jsxs)("div",{className:l().settingRow,children:[(0,a.jsxs)("div",{className:l().settingInfo,children:[(0,a.jsx)("p",{className:l().settingLabel,children:s("Show Heat Map")}),(0,a.jsx)("p",{className:l().settingDescription,children:s("Display approval ratings as color indicators")})]}),(0,a.jsx)("button",{type:"button",className:"".concat(l().toggle," ").concat(t.showHeatMap?l().active:""),onClick:()=>p("showHeatMap"),"aria-pressed":t.showHeatMap})]}),(0,a.jsxs)("div",{className:l().settingRow,children:[(0,a.jsxs)("div",{className:l().settingInfo,children:[(0,a.jsx)("p",{className:l().settingLabel,children:s("Show View Counts")}),(0,a.jsx)("p",{className:l().settingDescription,children:s("Display how many users have viewed each section")})]}),(0,a.jsx)("button",{type:"button",className:"".concat(l().toggle," ").concat(t.showViewCounts?l().active:""),onClick:()=>p("showViewCounts"),"aria-pressed":t.showViewCounts})]})]}),(0,a.jsx)("button",{className:l().saveButton,onClick:b,disabled:_,children:s(_?"Saving...":u?"Saved!":"Save Settings")})]})}},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},4111:function(e,s,t){"use strict";t.d(s,{$G:function(){return a.useTranslation}}),t(6810),t(5334),t(1288);var a=t(4566)},9717:function(e){e.exports={adminLayout:"admin_adminLayout__1MVcB",sidebar:"admin_sidebar__mZCpf",sidebarHeader:"admin_sidebarHeader__Z3kk2",sidebarTitle:"admin_sidebarTitle__uU8zJ",documentTitle:"admin_documentTitle__lrZ_l",nav:"admin_nav__M_3kB",navLink:"admin_navLink__CFUuZ",sidebarFooter:"admin_sidebarFooter__NGLgJ",backLink:"admin_backLink__Gfv40",main:"admin_main__F9VHN",dashboard:"admin_dashboard__NpR5F",dashboardHeader:"admin_dashboardHeader__be8ww",dashboardTitle:"admin_dashboardTitle__oV8_R",dashboardSubtitle:"admin_dashboardSubtitle__fpPjZ",statsGrid:"admin_statsGrid__nmnuH",statCard:"admin_statCard__S6jgD",statLabel:"admin_statLabel__BdXql",statValue:"admin_statValue__tHjoa",statChange:"admin_statChange__LfzdD",positive:"admin_positive__6thQ6",negative:"admin_negative__OpX3G",section:"admin_section__RTcYl",sectionTitle:"admin_sectionTitle__EsOS5",usersPage:"admin_usersPage__JK6aG",toolbar:"admin_toolbar__y_BGr",searchInput:"admin_searchInput__WS1_4",filterSelect:"admin_filterSelect__LWKSW",exportButton:"admin_exportButton__mgv5Z",usersTable:"admin_usersTable__YyjV7",statusBadge:"admin_statusBadge__6E9Rr",signed:"admin_signed__ey_ej",rejected:"admin_rejected__NznPm",viewed:"admin_viewed__YSLt_",pending:"admin_pending__n4kRq",settingsPage:"admin_settingsPage__AATSK",settingsSection:"admin_settingsSection__07yQ5",settingsSectionTitle:"admin_settingsSectionTitle__Je3qb",settingRow:"admin_settingRow__uJYZC",settingInfo:"admin_settingInfo__Q3ci7",settingLabel:"admin_settingLabel__ZsRUl",settingDescription:"admin_settingDescription__YDapz",toggle:"admin_toggle__FaYY_",active:"admin_active__wqnXv",saveButton:"admin_saveButton__p2JKC"}}},function(e){e.O(0,[817,566,971,117,744],function(){return e(e.s=6147)}),_N_E=e.O()}]);