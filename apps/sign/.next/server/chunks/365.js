exports.id=365,exports.ids=[365],exports.modules={7355:()=>{},2826:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,9404,23))},286:e=>{e.exports={container:"loading_container__06cI5",header:"loading_header__5Rk2C",titleSkeleton:"loading_titleSkeleton__Tsxgj",subtitleSkeleton:"loading_subtitleSkeleton__opg6z",content:"loading_content___6qHA",paragraphSkeleton:"loading_paragraphSkeleton__G7xpC",textSkeleton:"loading_textSkeleton__Xm8F5",actionsSkeleton:"loading_actionsSkeleton__prJqd",buttonSkeleton:"loading_buttonSkeleton__4u3Ut"}},9321:e=>{e.exports={container:"not-found_container__05_y5",content:"not-found_content__hkmxb",title:"not-found_title__JZHCG",subtitle:"not-found_subtitle__vRSgc",description:"not-found_description__BKIqL",link:"not-found_link__K1hhr"}},4484:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(9510),o=n(286),i=n.n(o);function a(){return(0,r.jsxs)("div",{className:i().container,children:[(0,r.jsxs)("div",{className:i().header,children:[r.jsx("div",{className:`skeleton ${i().titleSkeleton}`}),r.jsx("div",{className:`skeleton ${i().subtitleSkeleton}`})]}),r.jsx("div",{className:i().content,children:[1,2,3,4,5].map(e=>(0,r.jsxs)("div",{className:i().paragraphSkeleton,children:[r.jsx("div",{className:`skeleton ${i().textSkeleton}`}),r.jsx("div",{className:`skeleton ${i().textSkeleton}`,style:{width:"80%"}}),r.jsx("div",{className:`skeleton ${i().textSkeleton}`,style:{width:"60%"}}),(0,r.jsxs)("div",{className:i().actionsSkeleton,children:[r.jsx("div",{className:`skeleton ${i().buttonSkeleton}`}),r.jsx("div",{className:`skeleton ${i().buttonSkeleton}`})]})]},e))})]})}},1430:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(9510),o=n(7371),i=n(9321),a=n.n(i);function s(){return r.jsx("div",{className:a().container,children:(0,r.jsxs)("div",{className:a().content,children:[r.jsx("h1",{className:a().title,children:"404"}),r.jsx("h2",{className:a().subtitle,children:"Document Not Found"}),r.jsx("p",{className:a().description,children:"The document you're looking for doesn't exist or has been removed."}),r.jsx(o.default,{href:"/",className:a().link,children:"Go back home"})]})})}},1433:(e,t,n)=>{"use strict";n.d(t,{nW:()=>r.nW,ur:()=>r.ur});var r=n(3704)},6128:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{let d,u;n.d(t,{IW:()=>c,Rx:()=>l});var o=n(3263),i=n(2929),a=e([o,i]);function s(){if((0,o.getApps)().length>0)return d=(0,o.getApps)()[0];try{let e=process.env.FIREBASE_CLIENT_EMAIL&&process.env.FIREBASE_PRIVATE_KEY,t=process.env.GOOGLE_APPLICATION_CREDENTIALS;if(e)d=(0,o.initializeApp)({credential:(0,o.cert)({projectId:process.env.FIREBASE_PROJECT_ID,clientEmail:process.env.FIREBASE_CLIENT_EMAIL,privateKey:process.env.FIREBASE_PRIVATE_KEY?.replace(/\\n/g,"\n")}),projectId:process.env.FIREBASE_PROJECT_ID}),console.info("[Firebase Admin - Sign] Initialized with explicit credentials");else if(t){let e=n(2048),r=JSON.parse(e.readFileSync(t,"utf8"));d=(0,o.initializeApp)({credential:(0,o.cert)(r),projectId:r.project_id}),console.info("[Firebase Admin - Sign] Initialized with service account file")}else d=(0,o.initializeApp)({projectId:process.env.FIREBASE_PROJECT_ID}),console.info("[Firebase Admin - Sign] Initialized with default credentials");return d}catch(e){throw console.error("[Firebase Admin - Sign] Initialization failed:",e),e}}function l(){if(!u){d||s(),u=(0,i.getFirestore)(d);let e=process.env.FIRESTORE_EMULATOR_HOST;e?console.info("[Firebase Admin - Sign] Connected to Firestore emulator:",e):console.info("[Firebase Admin - Sign] Connected to production Firestore")}return u}function c(){return d||s(),{db:l(),app:d}}[o,i]=a.then?(await a)():a,"true"===process.env.USE_FIREBASE_EMULATOR&&process.env.FIRESTORE_EMULATOR_HOST&&(process.env.FIRESTORE_EMULATOR_HOST=process.env.FIRESTORE_EMULATOR_HOST),r()}catch(e){r(e)}})},8894:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{AD:()=>l,SR:()=>s,V_:()=>u,_g:()=>c,dQ:()=>d});var o=n(6128),i=n(1433),a=e([o]);async function s(e){try{let t=(0,o.Rx)(),n=await t.collection(i.nW.statements).doc(e).get();if(!n.exists)return console.info(`[Sign Queries] Document not found: ${e}`),null;let r=n.data();if(![i.ur.question,i.ur.option,i.ur.document].includes(r.statementType))return console.info(`[Sign Queries] Statement type not signable: ${r.statementType}`),null;return r}catch(e){throw console.error("[Sign Queries] Error getting document:",e),e}}async function l(e){try{let t=(0,o.Rx)(),n=(await t.collection(i.nW.statements).where("parentId","==",e).where("statementType","==",i.ur.option).orderBy("createdAt","asc").limit(200).get()).docs.map(e=>e.data()).filter(e=>!e.hide);return console.info(`[Sign Queries] Found ${n.length} paragraphs for parent: ${e}`),n}catch(e){throw console.error("[Sign Queries] Error getting paragraphs:",e),e}}async function c(e,t){try{let n=(0,o.Rx)(),r=`${t}--${e}`,a=await n.collection(i.nW.signatures).doc(r).get();if(!a.exists)return null;return a.data()}catch(e){throw console.error("[Sign Queries] Error getting signature:",e),e}}async function d(e,t){try{let n=(0,o.Rx)();return(await n.collection(i.nW.approval).where("documentId","==",e).where("userId","==",t).get()).docs.map(e=>e.data())}catch(e){throw console.error("[Sign Queries] Error getting user approvals:",e),e}}async function u(e){try{let t=(0,o.Rx)(),n=(await t.collection(i.nW.signatures).where("documentId","==",e).get()).docs.map(e=>e.data()),r=n.filter(e=>"signed"===e.signed).length,a=n.filter(e=>"rejected"===e.signed).length,s=n.filter(e=>"viewed"===e.signed).length,l=(await t.collection(i.nW.statements).where("topParentId","==",e).where("statementType","==",i.ur.option).get()).docs.map(e=>({id:e.id,...e.data()})),c=await t.collection(i.nW.statements).where("topParentId","==",e).where("statementType","==",i.ur.statement).count().get(),d=(await t.collection(i.nW.approval).where("documentId","==",e).get()).docs.map(e=>e.data()),u=d.reduce((e,t)=>e+(t.approval?1:0),0),p=d.length>0?u/d.length*5:0,g=l.map(e=>{let t=d.filter(t=>t.statementId===e.statementId),n=t.length,r=t.reduce((e,t)=>e+(t.approval?1:0),0);return{paragraphId:e.statementId,statement:e.statement||"",approvalCount:n,commentCount:0,avgApproval:n>0?r/n*5:0}});return g.sort((e,t)=>t.approvalCount-e.approvalCount),{totalParticipants:n.length,signedCount:r,rejectedCount:a,viewedCount:s,totalComments:c.data().count,averageApproval:Math.round(100*p)/100,topParagraphs:g.slice(0,10)}}catch(e){return console.error("[Sign Queries] Error getting document stats:",e),{totalParticipants:0,signedCount:0,rejectedCount:0,viewedCount:0,totalComments:0,averageApproval:0,topParagraphs:[]}}}o=(a.then?(await a)():a)[0],r()}catch(e){r(e)}})},5734:(e,t,n)=>{"use strict";function r(e){if(!e)return null;let t=e.match(/userId=([^;]+)/);return t?t[1]:null}function o(e){if(!e)return null;let t=e.match(/userDisplayName=([^;]+)/);return t?decodeURIComponent(t[1]):null}function i(e){let t=e.match(/anon_(\d+)_/);if(t){let e=parseInt(t[1]);return`User ${e.toString().slice(-6)}`}return"Anonymous User"}function a(e){let t=function(e){let t=e.get("userId");return t?.value??null}(e);if(!t)return null;let n=e.get("userDisplayName"),r=n?.value?decodeURIComponent(n.value):i(t);return{uid:t,displayName:r,isAnonymous:t.startsWith("anon_")}}n.d(t,{BD:()=>o,CV:()=>i,N5:()=>a,ld:()=>r})}};