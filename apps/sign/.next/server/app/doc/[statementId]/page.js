(()=>{var e={};e.id=410,e.ids=[410],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2048:e=>{"use strict";e.exports=require("fs")},3263:e=>{"use strict";e.exports=import("firebase-admin/app")},2929:e=>{"use strict";e.exports=import("firebase-admin/firestore")},6070:(e,t,n)=>{"use strict";n.a(e,async(e,a)=>{try{n.r(t),n.d(t,{GlobalError:()=>u.a,__next_app__:()=>y,originalPathname:()=>h,pages:()=>m,routeModule:()=>f,tree:()=>d});var s=n(7902);n(4484),n(1430),n(7093),n(5866);var r=n(3191),i=n(8716),o=n(7922),u=n.n(o),l=n(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);n.d(t,c);var p=e([s]);s=(p.then?(await p)():p)[0];let d=["",{children:["doc",{children:["[statementId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,7902)),"/Users/talyaron/Documents/Freedi-app/apps/sign/app/doc/[statementId]/page.tsx"]}]},{loading:[()=>Promise.resolve().then(n.bind(n,4484)),"/Users/talyaron/Documents/Freedi-app/apps/sign/app/doc/[statementId]/loading.tsx"],"not-found":[()=>Promise.resolve().then(n.bind(n,1430)),"/Users/talyaron/Documents/Freedi-app/apps/sign/app/doc/[statementId]/not-found.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,7093)),"/Users/talyaron/Documents/Freedi-app/apps/sign/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,5866,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/talyaron/Documents/Freedi-app/apps/sign/app/doc/[statementId]/page.tsx"],h="/doc/[statementId]/page",y={require:n,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/doc/[statementId]/page",pathname:"/doc/[statementId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}});a()}catch(e){a(e)}})},6887:(e,t,n)=>{Promise.resolve().then(n.bind(n,4776)),Promise.resolve().then(n.bind(n,1629))},7675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSubscription=function({statement:e,user:t,role:n=r.Role.member,getInAppNotification:i=!0,getEmailNotification:o=!1,getPushNotification:u=!1}){try{let r=(0,s.getStatementSubscriptionId)(e.statementId,t);if(!r)throw Error("No newStatementSubscriptionId");let l={statementId:e.statementId,role:n,lastUpdate:Date.now(),statement:e,statementsSubscribeId:r,user:e.creator,userId:t.uid,getInAppNotification:i,getEmailNotification:o,getPushNotification:u};return(0,a.parse)(s.StatementSubscriptionSchema,l)}catch(e){console.error(e);return}},t.updateArray=function(e,t,n){if(void 0===t[n])return console.error(`Item doesn't have property ${n}`),e;let a=e.findIndex(e=>e[n]===t[n]);if(-1===a)return[...e,t];let s=e[a],r=!1;for(let e in t)if(s[e]!==t[e]){r=!0;break}if(!r)return e;let i=[...e];return i[a]={...s,...t},i};let a=n(896),s=n(8060),r=n(9278)},69:(e,t,n)=>{"use strict";t.NJ=void 0;var a=n(5839);Object.defineProperty(t,"NJ",{enumerable:!0,get:function(){return a.ParagraphType}}),n(7525),n(6977),n(3627),n(789),n(4495),n(1784),n(2892),n(7309),n(7811),n(6505),n(2830),n(4884),n(6844),n(4799),n(1569),n(8060),n(7789),n(6426),n(879),n(9278),n(7675),n(8545),n(3594),n(2703),n(2738),n(9003),n(6881),n(6053),n(3241),n(3818),n(1555)},6977:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.functionConfig=void 0,t.functionConfig={region:"me-west1",timeoutSeconds:300}},5839:(e,t)=>{"use strict";var n,a,s,r,i,o,u,l,c,p,d,m,h,y;Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionStep=t.SortType=t.Screen=t.StepType=t.DeliberationType=t.DocumentType=t.QuestionStagesType=t.QuestionType=t.membersAllowed=t.Access=t.QuestionStage=t.DeliberativeElement=t.ParagraphType=t.StatementType=void 0,function(e){e.statement="statement",e.option="option",e.question="question",e.document="document",e.group="group",e.comment="comment"}(n||(t.StatementType=n={})),function(e){e.paragraph="paragraph",e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e.li="li",e.image="image"}(a||(t.ParagraphType=a={})),function(e){e.explanation="explanation",e.needs="needs",e.resource="resource",e.consideration="consideration",e.research="research",e.option="option",e.general="general"}(s||(t.DeliberativeElement=s={})),function(e){e.explanation="explanation",e.suggestion="suggestion",e.firstEvaluation="firstEvaluation",e.secondEvaluation="secondEvaluation",e.voting="voting",e.finished="finished"}(r||(t.QuestionStage=r={})),function(e){e.public="public",e.open="open",e.openToAll="openToAll",e.openForRegistered="openForRegistered",e.moderated="moderated",e.secret="secret"}(i||(t.Access=i={})),function(e){e.all="all",e.nonAnonymous="nonAnonymous"}(o||(t.membersAllowed=o={})),function(e){e.simple="simple",e.massConsensus="mass-consensus",e.multiStage="multi-stage",e.questionnaire="questionnaire"}(u||(t.QuestionType=u={})),function(e){e.singleStage="singleStage",e.document="document"}(l||(t.QuestionStagesType=l={})),function(e){e.paragraph="paragraph",e.section="section",e.comment="comment"}(c||(t.DocumentType=c={})),function(e){e.chat="chat",e.options="options",e.voting="voting"}(p||(t.DeliberationType=p={})),function(e){e.chat="chat",e.options="options",e.addOptions="addOptions",e.randomOptions="randomOptions",e.topOptions="topOptions",e.voting="voting"}(d||(t.StepType=d={})),function(e){e.team="team",e.doc="doc",e.home="home",e.statement="statement",e.chat="chat",e.options="options",e.settings="settings",e.mindMap="mind-map",e.agreementMap="agreement-map",e.polarizationIndex="polarization-index"}(m||(t.Screen=m={})),function(e){e.newest="newest",e.mostUpdated="mostUpdated",e.random="random",e.accepted="accepted",e.backendOrder="backend-order"}(h||(t.SortType=h={})),function(e){e.explanation="explanation",e.suggestion="suggestion",e.randomEvaluation="random-evaluation",e.topEvaluation="top-evaluation",e.voting="voting",e.finished="finished",e.other="other"}(y||(t.QuestionStep=y={}))},7525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMember=function(e){return e===a.Role.admin||e===a.Role.member||e===a.Role.creator},t.maxKeyInObject=function(e){try{if(void 0===e)throw Error("obj is undefined");let t=Object.keys(e)[0],n=e[t];for(let a in e)e[a]>n&&(n=e[a],t=a);return t}catch(e){return console.error(e),""}},t.getRandomUID=function(e=12){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-0123456789",n="";for(let a=0;a<e;a++)n+=t.charAt(Math.floor(Math.random()*t.length));return n};let a=n(9278)},3627:(e,t,n)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentImportanceSchema=t.DocumentApprovalSchema=t.ImportanceSchema=t.AgreeSchema=t.AgreeDisagreeSchema=t.AgreeDisagreeEnum=t.AgreementSchema=void 0;let s=n(896);t.AgreementSchema=(0,s.object)({text:(0,s.string)(),date:(0,s.number)(),version:(0,s.string)()}),function(e){e.Agree="agree",e.Disagree="disagree",e.NoOpinion="noOpinion"}(a||(t.AgreeDisagreeEnum=a={})),t.AgreeDisagreeSchema=(0,s.object)({agreeId:(0,s.string)(),statementId:(0,s.string)(),documentId:(0,s.string)(),topParentId:(0,s.string)(),userId:(0,s.string)(),agree:(0,s.number)()}),t.AgreeSchema=(0,s.object)({agree:(0,s.optional)((0,s.number)()),disagree:(0,s.optional)((0,s.number)()),avgAgree:(0,s.optional)((0,s.number)())}),t.ImportanceSchema=(0,s.object)({topParentId:(0,s.string)(),documentId:(0,s.string)(),parentId:(0,s.string)(),statementId:(0,s.string)(),importance:(0,s.number)(),userId:(0,s.string)()}),t.DocumentApprovalSchema=(0,s.object)({approved:(0,s.number)(),totalVoters:(0,s.number)(),averageApproval:(0,s.number)()}),t.DocumentImportanceSchema=(0,s.object)({numberOfUsers:(0,s.number)(),averageImportance:(0,s.number)(),sumImportance:(0,s.number)()})},789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApprovalSchema=void 0;let a=n(896);t.ApprovalSchema=(0,a.object)({approvalId:(0,a.string)(),statementId:(0,a.string)(),documentId:(0,a.string)(),topParentId:(0,a.string)(),userId:(0,a.string)(),approval:(0,a.boolean)()})},4495:(e,t,n)=>{"use strict";var a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.ChoseBySchema=t.ChoseByEvaluationType=t.CutoffType=void 0,t.defaultChoseBySettings=function(e){return{number:1,cutoffType:a.topOptions,choseByEvaluationType:s.consensus,statementId:e}};let r=n(896);(function(e){e.topOptions="topOptions",e.cutoffValue="cutoffValue"})(a||(t.CutoffType=a={})),function(e){e.consensus="consensus",e.likes="likes",e.likesDislikes="likesDislikes"}(s||(t.ChoseByEvaluationType=s={})),t.ChoseBySchema=(0,r.object)({statementId:(0,r.string)(),cutoffType:(0,r.enum_)(a),choseByEvaluationType:(0,r.enum_)(s),number:(0,r.number)()})},2738:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Collections=void 0,function(e){e.statements="statements",e.statementSnapShots="statementSnapshots",e.termsOfUseAcceptance="termsOfUseAcceptance",e.statementsSettings="statementsSettings",e.statementsMetaData="statementsMeta",e.statementsPasswords="statementsPasswords",e.statementsSubscribe="statementsSubscribe",e.massConsensus="massConsensus",e.massConsensusMembers="massConsensusMembers",e.massConsensusProcesses="massConsensusProcesses",e.choseBy="choseBy",e.participants="participants",e.rooms="rooms",e.roomParticipants="roomParticipants",e.roomsSettings="roomsSettings",e.evaluations="evaluations",e.votes="votes",e.users="usersV2",e.usersData="usersData",e.userDemographicQuestions="userDemographicQuestions",e.usersSettings="usersSettings",e.resultsTriggers="resultsTriggers",e.results="results",e.maps="maps",e.agreements="agreements",e.timers="timers-settings",e.timersRooms="timers-rooms",e.invitations="invitations",e.evaluators="evaluators",e.documents="documents",e.importance="importance",e.approval="approval",e.awaitingUsers="awaitingUsers",e.agrees="agrees",e.documentsSigns="documentsSigns",e.signatures="signatures",e.stages="stages",e.steps="steps",e.signUsers="signUsers",e.statementViews="statementViews",e.statementSegments="statementSegments",e.inAppNotifications="inAppNotifications",e.pushNotifications="pushNotifications",e.emailNotifications="emailNotifications",e.askedToBeNotified="askedToBeNotified",e.polarizationIndex="polarizationIndex",e.userDemographicEvaluations="userDemographicEvaluations",e.online="online",e.questionnaires="questionnaires",e.questionnaireQuestions="questionnaireQuestions",e.fairDivision="fairDivision",e.feedback="feedback",e.refinementSessions="refinementSessions",e.evidencePosts="evidencePosts",e.evidenceVotes="evidenceVotes",e.userEvaluations="userEvaluations"}(n||(t.Collections=n={}))},1784:(e,t,n)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureSchema=t.SignatureType=t.DocumentSignsSchema=void 0;let s=n(896);t.DocumentSignsSchema=(0,s.object)({documentId:(0,s.string)(),viewed:(0,s.number)(),signed:(0,s.number)(),rejected:(0,s.number)(),avgSignatures:(0,s.number)(),totalSignaturesLevel:(0,s.number)()}),function(e){e.signed="signed",e.rejected="rejected",e.viewed="viewed"}(a||(t.SignatureType=a={})),t.SignatureSchema=(0,s.object)({signatureId:(0,s.string)(),documentId:(0,s.string)(),userId:(0,s.string)(),signed:(0,s.enum_)(a),date:(0,s.string)(),levelOfSignature:(0,s.number)()})},2892:(e,t,n)=>{"use strict";var a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.UserEvaluationSchema=t.StatementEvaluationSettingsSchema=t.EvaluationUI=t.StatementEvaluationSchema=t.SelectionFunction=t.EvaluatorSchema=t.EvaluationSchema=void 0;let r=n(896),i=n(879);t.EvaluationSchema=(0,r.object)({parentId:(0,r.string)(),evaluationId:(0,r.string)(),statementId:(0,r.string)(),evaluatorId:(0,r.string)(),updatedAt:(0,r.number)(),evaluation:(0,r.number)(),evaluator:(0,r.optional)(i.UserSchema)}),t.EvaluatorSchema=(0,r.object)({evaluatorId:(0,r.optional)((0,r.string)()),statementId:(0,r.optional)((0,r.string)()),evaluated:(0,r.optional)((0,r.boolean)()),suggested:(0,r.optional)((0,r.boolean)()),firstEvaluation:(0,r.optional)((0,r.boolean)()),secondEvaluation:(0,r.optional)((0,r.boolean)()),voted:(0,r.optional)((0,r.boolean)())}),function(e){e.random="random",e.top="top",e.vote="vote"}(a||(t.SelectionFunction=a={})),t.StatementEvaluationSchema=(0,r.object)({sumEvaluations:(0,r.number)(),asParentTotalEvaluators:(0,r.optional)((0,r.number)()),agreement:(0,r.number)(),numberOfEvaluators:(0,r.number)(),sumPro:(0,r.optional)((0,r.number)()),sumCon:(0,r.optional)((0,r.number)()),averageEvaluation:(0,r.optional)((0,r.number)()),sumSquaredEvaluations:(0,r.optional)((0,r.number)()),standardDeviation:(0,r.optional)((0,r.number)()),viewed:(0,r.optional)((0,r.number)()),evaluationRandomNumber:(0,r.optional)((0,r.number)()),selectionFunction:(0,r.optional)((0,r.enum_)(a))}),function(e){e.suggestions="suggestions",e.voting="voting",e.checkbox="checkbox",e.clustering="clustering"}(s||(t.EvaluationUI=s={})),t.StatementEvaluationSettingsSchema=(0,r.object)({maxVotesPerUser:(0,r.optional)((0,r.number)()),evaluationUI:(0,r.enum_)(s),anchored:(0,r.optional)((0,r.object)({anchored:(0,r.optional)((0,r.boolean)()),numberOfAnchoredStatements:(0,r.optional)((0,r.number)()),differentiateBetweenAnchoredAndNot:(0,r.optional)((0,r.boolean)()),anchorIcon:(0,r.optional)((0,r.string)()),anchorDescription:(0,r.optional)((0,r.string)()),anchorLabel:(0,r.optional)((0,r.string)())}))}),t.UserEvaluationSchema=(0,r.object)({userEvaluationId:(0,r.string)(),userId:(0,r.string)(),parentStatementId:(0,r.string)(),evaluatedOptionsIds:(0,r.array)((0,r.string)()),createdAt:(0,r.number)(),lastUpdated:(0,r.number)(),evaluatedCount:(0,r.optional)((0,r.number)()),totalOptionsAvailable:(0,r.optional)((0,r.number)()),completedAt:(0,r.optional)((0,r.number)())})},9650:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EvidenceType=void 0,function(e){e.data="data",e.testimony="testimony",e.argument="argument",e.anecdote="anecdote",e.fallacy="fallacy"}(n||(t.EvidenceType=n={}))},3818:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackSchema=void 0;let a=n(896),s=n(879);t.FeedbackSchema=(0,a.object)({feedbackId:(0,a.string)(),statementId:(0,a.string)(),statementTitle:(0,a.string)(),feedbackText:(0,a.string)(),createdAt:(0,a.number)(),creator:s.CreatorSchema,email:(0,a.optional)((0,a.string)())})},7309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvitationSchema=void 0;let a=n(896);t.InvitationSchema=(0,a.object)({pathname:(0,a.string)(),statementId:(0,a.string)(),lastUpdate:(0,a.number)(),number:(0,a.number)()})},7811:(e,t,n)=>{"use strict";var a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStageTemplates=t.MassConsensusMemberSchema=t.MassConsensusProcessSchema=t.MassConsensusStageSchema=t.PostActionConfigSchema=t.ExplanationConfigSchema=t.ExplanationDisplayModeSchema=t.MassConsensusPageUrlsSchema=t.MassConsensusPageUrls=t.MassConsensusStageTypeSchema=t.MassConsensusStageType=void 0;let r=n(896),i=n(879);(function(e){e.introduction="introduction",e.userDemographics="user-demographics",e.question="question",e.randomSuggestions="random-suggestions",e.topSuggestions="top-suggestions",e.voting="voting",e.leaveFeedback="leave-feedback",e.thankYou="thank-you",e.mySuggestions="my-suggestions",e.results="results",e.discussion="discussion",e.prioritization="prioritization",e.review="review"})(a||(t.MassConsensusStageType=a={})),t.MassConsensusStageTypeSchema=(0,r.enum_)(a),function(e){e.introduction="introduction",e.userDemographics="user-demographics",e.initialQuestion="initial-question",e.question="question",e.randomSuggestions="random-suggestions",e.topSuggestions="top-suggestions",e.voting="voting",e.leaveFeedback="leave-feedback",e.thankYou="thank-you",e.mySuggestions="my-suggestions",e.results="results"}(s||(t.MassConsensusPageUrls=s={})),t.MassConsensusPageUrlsSchema=(0,r.enum_)(s),t.ExplanationDisplayModeSchema=(0,r.union)([(0,r.literal)("card"),(0,r.literal)("tooltip"),(0,r.literal)("modal"),(0,r.literal)("inline"),(0,r.literal)("toast"),(0,r.literal)("banner"),(0,r.literal)("drawer")]),t.ExplanationConfigSchema=(0,r.object)({enabled:(0,r.optional)((0,r.boolean)()),title:(0,r.optional)((0,r.string)()),content:(0,r.string)(),displayMode:(0,r.optional)(t.ExplanationDisplayModeSchema),showOnlyFirstTime:(0,r.optional)((0,r.boolean)()),dismissible:(0,r.optional)((0,r.boolean)()),displayDuration:(0,r.optional)((0,r.number)()),icon:(0,r.optional)((0,r.string)()),customClass:(0,r.optional)((0,r.string)())}),t.PostActionConfigSchema=(0,r.object)({enabled:(0,r.optional)((0,r.boolean)()),content:(0,r.string)(),successMessage:(0,r.optional)((0,r.string)()),errorMessage:(0,r.optional)((0,r.string)()),buttons:(0,r.optional)((0,r.array)((0,r.object)({label:(0,r.string)(),action:(0,r.union)([(0,r.literal)("continue"),(0,r.literal)("viewMySuggestions"),(0,r.literal)("addAnother"),(0,r.literal)("skip"),(0,r.literal)("custom")]),primary:(0,r.optional)((0,r.boolean)()),customUrl:(0,r.optional)((0,r.string)())}))),autoAdvance:(0,r.optional)((0,r.object)({enabled:(0,r.boolean)(),delay:(0,r.number)(),target:(0,r.optional)((0,r.union)([(0,r.literal)("next"),(0,r.literal)("specific")])),targetStageId:(0,r.optional)((0,r.string)())})),displayMode:(0,r.optional)(t.ExplanationDisplayModeSchema)}),t.MassConsensusStageSchema=(0,r.object)({id:(0,r.string)(),type:t.MassConsensusStageTypeSchema,title:(0,r.optional)((0,r.string)()),description:(0,r.optional)((0,r.string)()),url:(0,r.optional)((0,r.string)()),order:(0,r.number)(),skipable:(0,r.optional)((0,r.boolean)()),required:(0,r.optional)((0,r.boolean)()),condition:(0,r.optional)((0,r.string)()),beforeStage:(0,r.optional)(t.ExplanationConfigSchema),afterAction:(0,r.optional)(t.PostActionConfigSchema),config:(0,r.optional)((0,r.object)({questionText:(0,r.optional)((0,r.string)()),maxSuggestions:(0,r.optional)((0,r.number)()),minCharacters:(0,r.optional)((0,r.number)()),maxCharacters:(0,r.optional)((0,r.number)()),proposalsPerBatch:(0,r.optional)((0,r.number)()),evaluationType:(0,r.optional)((0,r.union)([(0,r.literal)("rating"),(0,r.literal)("ranking"),(0,r.literal)("comparison")])),votingMethod:(0,r.optional)((0,r.union)([(0,r.literal)("single"),(0,r.literal)("multiple"),(0,r.literal)("ranked")])),maxVotes:(0,r.optional)((0,r.number)()),timeLimit:(0,r.optional)((0,r.number)()),customData:(0,r.optional)((0,r.record)((0,r.string)(),(0,r.string)()))})),analytics:(0,r.optional)((0,r.object)({trackEntry:(0,r.optional)((0,r.boolean)()),trackExit:(0,r.optional)((0,r.boolean)()),trackDuration:(0,r.optional)((0,r.boolean)()),customEvents:(0,r.optional)((0,r.array)((0,r.string)()))}))}),t.MassConsensusProcessSchema=(0,r.object)({statementId:(0,r.string)(),version:(0,r.string)(),stages:(0,r.array)(t.MassConsensusStageSchema),loginTypeOverrides:(0,r.optional)((0,r.record)((0,r.enum_)(i.LoginType),(0,r.object)({stageOverrides:(0,r.optional)((0,r.record)((0,r.string)(),t.MassConsensusStageSchema)),excludeStages:(0,r.optional)((0,r.array)((0,r.string)())),additionalStages:(0,r.optional)((0,r.array)(t.MassConsensusStageSchema))}))),settings:(0,r.optional)((0,r.object)({explanationsEnabled:(0,r.optional)((0,r.boolean)()),defaultExplanationMode:(0,r.optional)(t.ExplanationDisplayModeSchema),progressIndicator:(0,r.optional)((0,r.boolean)()),allowBackNavigation:(0,r.optional)((0,r.boolean)()),saveProgress:(0,r.optional)((0,r.boolean)()),resumeFromLastStage:(0,r.optional)((0,r.boolean)()),completionRedirectUrl:(0,r.optional)((0,r.string)())})),createdAt:(0,r.number)(),updatedAt:(0,r.optional)((0,r.number)()),createdBy:(0,r.string)(),updatedBy:(0,r.optional)((0,r.string)())}),t.MassConsensusMemberSchema=(0,r.object)({statementId:(0,r.string)(),lastUpdate:(0,r.number)(),email:(0,r.optional)((0,r.nullable)((0,r.string)())),creator:i.CreatorSchema,progress:(0,r.optional)((0,r.object)({currentStageId:(0,r.string)(),completedStages:(0,r.array)((0,r.object)({stageId:(0,r.string)(),completedAt:(0,r.number)(),duration:(0,r.optional)((0,r.number)())})),seenExplanations:(0,r.array)((0,r.string)()),skippedStages:(0,r.optional)((0,r.array)((0,r.string)()))})),preferences:(0,r.optional)((0,r.object)({dontShowExplanations:(0,r.optional)((0,r.boolean)()),preferredExplanationMode:(0,r.optional)(t.ExplanationDisplayModeSchema)}))}),t.defaultStageTemplates={[a.introduction]:{type:a.introduction,title:"Welcome",skipable:!0,beforeStage:{enabled:!0,title:"Welcome to Mass Consensus",content:"This process helps identify the best ideas through collective evaluation.",displayMode:"card",showOnlyFirstTime:!1}},[a.userDemographics]:{type:a.userDemographics,title:"About You",skipable:!0,beforeStage:{content:"Help us understand the diversity of participants (optional).",displayMode:"inline",showOnlyFirstTime:!0}},[a.question]:{type:a.question,title:"Your Suggestion",required:!1,skipable:!0,beforeStage:{title:"Share Your Ideas",content:"Submit your suggestion. It will be randomly shown to others for evaluation.",displayMode:"tooltip",showOnlyFirstTime:!0},afterAction:{enabled:!0,content:"Your suggestion has been added!",successMessage:"It will be evaluated by other participants.",buttons:[{label:"View My Suggestions",action:"viewMySuggestions",primary:!1},{label:"Add Another",action:"addAnother",primary:!1},{label:"Continue",action:"continue",primary:!0}],displayMode:"modal"},config:{minCharacters:10,maxCharacters:500,maxSuggestions:3}},[a.randomSuggestions]:{type:a.randomSuggestions,title:"Evaluate Suggestions",skipable:!1,beforeStage:{title:"Random Evaluation",content:"Rate 6 random suggestions. Everyone sees different ones for fairness.",displayMode:"card",showOnlyFirstTime:!0},afterAction:{content:"Great job! All suggestions evaluated.",displayMode:"toast",autoAdvance:{enabled:!0,delay:2e3,target:"next"}},config:{proposalsPerBatch:6,evaluationType:"rating"}},[a.topSuggestions]:{type:a.topSuggestions,title:"Top Suggestions",skipable:!0,beforeStage:{content:"Review the highest-rated suggestions.",displayMode:"inline"}},[a.voting]:{type:a.voting,title:"Final Vote",required:!0,beforeStage:{content:"Cast your vote for the best suggestion.",displayMode:"tooltip"},afterAction:{content:"Thank you for voting!",displayMode:"toast",autoAdvance:{enabled:!0,delay:1500,target:"next"}},config:{votingMethod:"single",maxVotes:1}},[a.results]:{type:a.results,title:"Results",skipable:!1,beforeStage:{content:"See how everyone voted.",displayMode:"inline"}},[a.leaveFeedback]:{type:a.leaveFeedback,title:"Feedback",skipable:!0,beforeStage:{content:"Help us improve this process.",displayMode:"inline"}},[a.thankYou]:{type:a.thankYou,title:"Thank You",skipable:!1},[a.mySuggestions]:{type:a.mySuggestions,title:"My Suggestions",skipable:!0},[a.discussion]:{type:a.discussion,title:"Discussion",skipable:!0},[a.prioritization]:{type:a.prioritization,title:"Prioritize",skipable:!1},[a.review]:{type:a.review,title:"Review",skipable:!0}}},6505:(e,t,n)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationReadStatusSchema=t.ReadContext=t.NotificationSchema=void 0;let s=n(896),r=n(5839);t.NotificationSchema=(0,s.object)({userId:(0,s.string)(),parentId:(0,s.string)(),statementId:(0,s.string)(),statementType:(0,s.enum_)(r.StatementType),parentStatement:(0,s.optional)((0,s.string)()),questionType:(0,s.optional)((0,s.enum_)(r.QuestionType)),text:(0,s.string)(),creatorId:(0,s.string)(),creatorName:(0,s.string)(),creatorImage:(0,s.optional)((0,s.nullable)((0,s.string)())),createdAt:(0,s.number)(),read:(0,s.boolean)(),notificationId:(0,s.string)(),readAt:(0,s.optional)((0,s.number)()),viewedInList:(0,s.optional)((0,s.boolean)()),viewedInContext:(0,s.optional)((0,s.boolean)())}),function(e){e.LIST="list",e.CHAT="chat",e.STATEMENT="statement"}(a||(t.ReadContext=a={})),t.NotificationReadStatusSchema=(0,s.object)({userId:(0,s.string)(),notificationId:(0,s.string)(),statementId:(0,s.string)(),readAt:(0,s.number)(),readContext:(0,s.enum_)(a)})},9003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PolarizationIndexSchema=t.AxesItemSchema=t.DemographicGroupSchema=void 0;let a=n(896),s=n(2703);t.DemographicGroupSchema=(0,a.object)({mad:(0,a.number)(),mean:(0,a.number)(),n:(0,a.number)(),option:s.DemographicOptionSchema}),t.AxesItemSchema=(0,a.object)({axId:(0,a.string)(),groups:(0,a.array)(t.DemographicGroupSchema),question:(0,a.string)(),groupsMAD:(0,a.number)()}),t.PolarizationIndexSchema=(0,a.object)({averageAgreement:(0,a.number)(),lastUpdated:(0,a.number)(),overallMAD:(0,a.number)(),overallMean:(0,a.number)(),overallN:(0,a.number)(),parentId:(0,a.string)(),statement:(0,a.string)(),statementId:(0,a.string)(),color:(0,a.string)(),axes:(0,a.array)(t.AxesItemSchema)})},9891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopperHebbianScoreSchema=void 0;let a=n(896);t.PopperHebbianScoreSchema=(0,a.object)({statementId:(0,a.string)(),totalScore:(0,a.number)(),corroborationLevel:(0,a.number)(),evidenceCount:(0,a.number)(),status:(0,a.picklist)(["looking-good","under-discussion","needs-fixing"]),lastCalculated:(0,a.number)()})},2830:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionSettingsSchema=void 0;let a=n(896),s=n(5839);t.QuestionSettingsSchema=(0,a.object)({isTopQuestion:(0,a.optional)((0,a.boolean)()),questionType:(0,a.optional)((0,a.enum_)(s.QuestionType)),askUserForASolutionBeforeEvaluation:(0,a.optional)((0,a.boolean)()),steps:(0,a.optional)((0,a.enum_)(s.QuestionStagesType)),stepsAllowed:(0,a.optional)((0,a.array)((0,a.enum_)(s.QuestionStep))),currentStep:(0,a.optional)((0,a.enum_)(s.QuestionStep)),currentStage:(0,a.optional)((0,a.enum_)(s.QuestionStage))})},6053:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionnaireSchema=t.QuestionnaireQuestionSchema=void 0;let a=n(896),s=n(2892);t.QuestionnaireQuestionSchema=(0,a.object)({questionnaireId:(0,a.string)(),statementId:(0,a.string)(),evaluationUI:(0,a.optional)((0,a.enum_)(s.EvaluationUI)),order:(0,a.number)()}),t.QuestionnaireSchema=(0,a.object)({questionnaireId:(0,a.string)(),createdAt:(0,a.optional)((0,a.number)()),updatedAt:(0,a.optional)((0,a.number)()),questions:(0,a.array)(t.QuestionnaireQuestionSchema)})},4884:(e,t,n)=>{"use strict";var a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.defaultResultsSettings=t.ResultsSettingsSchema=t.CutoffBy=t.ResultsBy=void 0;let r=n(896);(function(e){e.consensus="consensus",e.mostLiked="mostLiked",e.averageLikesDislikes="averageLikesDislikes",e.topOptions="topOptions"})(a||(t.ResultsBy=a={})),function(e){e.topOptions="topOptions",e.aboveThreshold="aboveThreshold"}(s||(t.CutoffBy=s={})),t.ResultsSettingsSchema=(0,r.object)({resultsBy:(0,r.enum_)(a),cutoffNumber:(0,r.optional)((0,r.number)()),cutoffBy:(0,r.optional)((0,r.enum_)(s)),numberOfResults:(0,r.optional)((0,r.number)()),numberOfSelections:(0,r.optional)((0,r.number)()),deep:(0,r.optional)((0,r.number)()),minConsensus:(0,r.optional)((0,r.number)())}),t.defaultResultsSettings={resultsBy:a.consensus,cutoffNumber:0,cutoffBy:s.topOptions,numberOfResults:5,numberOfSelections:1,deep:2,minConsensus:.5}},1555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomParticipantSchema=t.RoomSchema=t.RoomSettingsSchema=t.RoomSettingsStatusSchema=t.DemographicTagSchema=void 0;let a=n(896),s=n(879);t.DemographicTagSchema=(0,a.object)({questionId:(0,a.string)(),questionText:(0,a.string)(),answer:(0,a.string)(),color:(0,a.optional)((0,a.string)())}),t.RoomSettingsStatusSchema=(0,a.picklist)(["draft","active","archived"]),t.RoomSettingsSchema=(0,a.object)({settingsId:(0,a.string)(),statementId:(0,a.string)(),topParentId:(0,a.string)(),roomSize:(0,a.pipe)((0,a.number)(),(0,a.minValue)(2)),scrambleByQuestions:(0,a.array)((0,a.string)()),createdAt:(0,a.number)(),lastUpdate:(0,a.number)(),createdBy:s.CreatorSchema,status:t.RoomSettingsStatusSchema,totalRooms:(0,a.pipe)((0,a.number)(),(0,a.minValue)(0)),totalParticipants:(0,a.pipe)((0,a.number)(),(0,a.minValue)(0)),notificationSent:(0,a.boolean)(),notificationSentAt:(0,a.optional)((0,a.number)())}),t.RoomSchema=(0,a.object)({roomId:(0,a.string)(),settingsId:(0,a.string)(),statementId:(0,a.string)(),roomNumber:(0,a.pipe)((0,a.number)(),(0,a.minValue)(1)),roomName:(0,a.optional)((0,a.string)()),participants:(0,a.array)((0,a.string)()),createdAt:(0,a.number)()}),t.RoomParticipantSchema=(0,a.object)({participantId:(0,a.string)(),settingsId:(0,a.string)(),statementId:(0,a.string)(),roomId:(0,a.string)(),roomNumber:(0,a.pipe)((0,a.number)(),(0,a.minValue)(1)),userId:(0,a.string)(),userName:(0,a.string)(),demographicTags:(0,a.array)(t.DemographicTagSchema),assignedAt:(0,a.number)(),notified:(0,a.boolean)()})},6844:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StageSelectionType=void 0,function(e){e.consensus="consensus",e.voting="voting",e.checkbox="checkbox"}(n||(t.StageSelectionType=n={}))},4799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleStatementSchema=void 0,t.statementToSimpleStatement=function(e){let t={statementId:e.statementId,statement:e.statement,statementType:e.statementType,description:e.description??"",creatorId:e.creatorId,creator:e.creator,parentId:e.parentId,consensus:e.consensus??0,voted:e.voted??0,lastUpdate:e.lastUpdate??0,createdAt:e.createdAt??0};return e.imagesURL?.main&&(t.imageURL=e.imagesURL?.main),t};let a=n(896),s=n(879),r=n(5839);t.SimpleStatementSchema=(0,a.object)({statementId:(0,a.string)(),statement:(0,a.string)(),statementType:(0,a.enum_)(r.StatementType),description:(0,a.optional)((0,a.string)()),creatorId:(0,a.string)(),creator:s.UserSchema,parentId:(0,a.string)(),consensus:(0,a.number)(),lastUpdate:(0,a.optional)((0,a.number)()),createdAt:(0,a.optional)((0,a.number)()),imageURL:(0,a.optional)((0,a.string)()),voted:(0,a.optional)((0,a.number)()),lastSubStatements:(0,a.optional)((0,a.array)((0,a.lazy)(()=>t.SimpleStatementSchema)))})},1569:(e,t,n)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.StatementSettingsSchema=t.evaluationType=void 0;let s=n(896),r=n(5839);(function(e){e.likeDislike="like-dislike",e.range="range",e.singleLike="single-like"})(a||(t.evaluationType=a={})),t.StatementSettingsSchema=(0,s.object)({subScreens:(0,s.optional)((0,s.array)((0,s.string)())),enableAddEvaluationOption:(0,s.optional)((0,s.boolean)()),enableEvaluation:(0,s.optional)((0,s.boolean)()),enableAddNewSubQuestionsButton:(0,s.optional)((0,s.boolean)()),defaultLookForSimilarities:(0,s.optional)((0,s.boolean)()),isSubmitMode:(0,s.optional)((0,s.boolean)()),enableAddVotingOption:(0,s.optional)((0,s.boolean)()),enhancedEvaluation:(0,s.optional)((0,s.boolean)()),evaluationType:(0,s.optional)((0,s.enum_)(a)),joiningEnabled:(0,s.optional)((0,s.boolean)()),showEvaluation:(0,s.optional)((0,s.boolean)()),inVotingGetOnlyResults:(0,s.optional)((0,s.boolean)()),enableSimilaritiesSearch:(0,s.optional)((0,s.boolean)()),enableNavigationalElements:(0,s.optional)((0,s.boolean)()),show:(0,s.optional)((0,s.boolean)()),deliberationType:(0,s.optional)((0,s.enum_)(r.DeliberationType)),hasChat:(0,s.optional)((0,s.boolean)()),hasChildren:(0,s.optional)((0,s.boolean)()),numberOfOptionsPerUser:(0,s.optional)((0,s.number)()),enableAIImprovement:(0,s.optional)((0,s.boolean)()),popperianDiscussionEnabled:(0,s.optional)((0,s.boolean)()),popperianPreCheckEnabled:(0,s.optional)((0,s.boolean)())})},3594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statementSnapShotSchema=void 0;let a=n(896),s=n(7789);t.statementSnapShotSchema=(0,a.object)({topic:s.StatementSchema,descendants:(0,a.array)(s.StatementSchema),createdAt:(0,a.number)(),clusters:(0,a.array)((0,a.string)()),name:(0,a.optional)((0,a.string)())})},8060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WaitingMemberSchema=t.StatementViewSchema=t.StatementSubscriptionSchema=void 0,t.getStatementSubscriptionId=function(e,t){return`${t.uid}--${e}`};let a=n(896),s=n(879),r=n(9278),i=n(7789),o=n(4799);t.StatementSubscriptionSchema=(0,a.object)({role:(0,a.enum_)(r.Role),userId:(0,a.string)(),statementId:(0,a.string)(),lastUpdate:(0,a.number)(),createdAt:(0,a.optional)((0,a.number)()),statementsSubscribeId:(0,a.string)(),statement:o.SimpleStatementSchema||i.StatementSchema,lastSubStatements:(0,a.optional)((0,a.array)(o.SimpleStatementSchema||i.StatementSchema)),tokens:(0,a.optional)((0,a.array)((0,a.string)())),totalSubStatementsRead:(0,a.optional)((0,a.number)()),lastReadTimestamp:(0,a.optional)((0,a.number)()),user:s.UserSchema||s.CreatorSchema,getInAppNotification:(0,a.optional)((0,a.boolean)()),getEmailNotification:(0,a.optional)((0,a.boolean)()),getPushNotification:(0,a.optional)((0,a.boolean)()),coins:(0,a.optional)((0,a.number)())}),t.StatementViewSchema=(0,a.object)({statementId:(0,a.string)(),userId:(0,a.string)(),viewed:(0,a.number)(),lastViewed:(0,a.number)(),parentDocumentId:(0,a.string)()}),t.WaitingMemberSchema=(0,a.object)({...t.StatementSubscriptionSchema.entries,adminId:(0,a.string)()})},7789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatementMetaDataSchema=t.StatementSchema=t.LastMessageSchema=void 0;let a=n(896),s=n(5839),r=n(879),i=n(4884),o=n(2830),u=n(3627),l=n(6844),c=n(4799),p=n(1569),d=n(9278),m=n(2892),h=n(6053),y=n(3241),f=n(8545),g=n(9650),v=n(9891);t.LastMessageSchema=(0,a.object)({message:(0,a.string)(),creator:(0,a.string)(),createdAt:(0,a.number)()}),t.StatementSchema=(0,a.object)({allowAnonymousLogin:(0,a.optional)((0,a.boolean)()),statement:(0,a.string)(),description:(0,a.optional)((0,a.string)()),statementId:(0,a.string)(),creatorId:(0,a.string)(),creator:r.UserSchema,statementType:(0,a.enum_)(s.StatementType),paragraphType:(0,a.optional)((0,a.enum_)(s.ParagraphType)),evidence:(0,a.optional)((0,a.object)({evidenceType:(0,a.optional)((0,a.enum_)(g.EvidenceType)),support:(0,a.optional)((0,a.number)()),helpfulCount:(0,a.optional)((0,a.number)()),notHelpfulCount:(0,a.optional)((0,a.number)()),netScore:(0,a.optional)((0,a.number)()),evidenceWeight:(0,a.optional)((0,a.number)())})),deliberativeElement:(0,a.optional)((0,a.enum_)(s.DeliberativeElement)),color:(0,a.optional)((0,a.string)()),defaultLanguage:(0,a.optional)((0,a.string)()),forceLanguage:(0,a.optional)((0,a.boolean)()),followMe:(0,a.optional)((0,a.string)()),parentId:(0,a.string)(),parents:(0,a.optional)((0,a.array)((0,a.string)())),topParentId:(0,a.string)(),hasChildren:(0,a.optional)((0,a.boolean)()),lastMessage:(0,a.optional)((0,a.object)({message:(0,a.string)(),creator:(0,a.string)(),createdAt:(0,a.number)()})),lastSubStatements:(0,a.optional)((0,a.array)(c.SimpleStatementSchema)),lastUpdate:(0,a.number)(),lastChildUpdate:(0,a.optional)((0,a.number)()),createdAt:(0,a.number)(),pro:(0,a.optional)((0,a.number)()),con:(0,a.optional)((0,a.number)()),doc:(0,a.optional)((0,a.object)({isDoc:(0,a.boolean)(),order:(0,a.number)()})),numberOfOptions:(0,a.optional)((0,a.number)()),consensus:(0,a.number)(),consensusValid:(0,a.optional)((0,a.number)()),PopperHebbianScore:(0,a.optional)(v.PopperHebbianScoreSchema),order:(0,a.optional)((0,a.number)()),elementHight:(0,a.optional)((0,a.number)()),top:(0,a.optional)((0,a.number)()),suggestions:(0,a.optional)((0,a.number)()),optionContributors:(0,a.optional)((0,a.number)()),massMembers:(0,a.optional)((0,a.number)()),votes:(0,a.optional)((0,a.number)()),topVotedOption:(0,a.optional)(c.SimpleStatementSchema),selections:(0,a.optional)((0,a.any)()),isSelected:(0,a.optional)((0,a.boolean)()),isCluster:(0,a.optional)((0,a.boolean)()),voted:(0,a.optional)((0,a.number)()),totalSubStatements:(0,a.optional)((0,a.number)()),membership:(0,a.optional)(r.MembershipSchema),maxConsensus:(0,a.optional)((0,a.number)()),selected:(0,a.optional)((0,a.boolean)()),isVoted:(0,a.optional)((0,a.boolean)()),results:(0,a.optional)((0,a.array)(c.SimpleStatementSchema)),isResult:(0,a.optional)((0,a.boolean)()),imagesURL:(0,a.optional)((0,a.object)({main:(0,a.optional)((0,a.string)()),more:(0,a.optional)((0,a.array)((0,a.string)()))})),totalEvaluators:(0,a.optional)((0,a.number)()),isInMultiStage:(0,a.optional)((0,a.boolean)()),documentApproval:(0,a.optional)(u.DocumentApprovalSchema),documentImportance:(0,a.optional)(u.DocumentImportanceSchema),documentAgree:(0,a.optional)(u.AgreeSchema),stageId:(0,a.optional)((0,a.nullable)((0,a.string)())),viewed:(0,a.optional)((0,a.object)({individualViews:(0,a.optional)((0,a.number)())})),stageSelectionType:(0,a.optional)((0,a.enum_)(l.StageSelectionType)),creatorData:(0,a.optional)(d.UserDataSchema),isChosen:(0,a.optional)((0,a.boolean)()),chosenSolutions:(0,a.optional)((0,a.array)((0,a.string)())),summary:(0,a.optional)((0,a.string)()),evaluation:(0,a.optional)(m.StatementEvaluationSchema),evaluationSettings:(0,a.optional)(m.StatementEvaluationSettingsSchema),importanceData:(0,a.optional)((0,a.object)({sumImportance:(0,a.number)(),numberOfUsers:(0,a.number)(),numberOfViews:(0,a.number)()})),documentSettings:(0,a.optional)((0,a.object)({parentDocumentId:(0,a.string)(),order:(0,a.number)(),type:(0,a.enum_)(s.DocumentType),isTop:(0,a.boolean)()})),resultsSettings:(0,a.optional)(i.ResultsSettingsSchema),steps:(0,a.optional)((0,a.object)({currentStep:r.StepSchema,allSteps:(0,a.optional)((0,a.array)(r.StepSchema))})),votingSettings:(0,a.optional)(f.VotingSettingsSchema),questionSettings:(0,a.optional)(o.QuestionSettingsSchema),statementSettings:(0,a.optional)(p.StatementSettingsSchema),joined:(0,a.optional)((0,a.array)(r.CreatorSchema)),hide:(0,a.optional)((0,a.boolean)()),questionnaire:(0,a.optional)(h.QuestionnaireSchema),fairDivision:(0,a.optional)(y.FairDivisionSelectionSchema),anchored:(0,a.optional)((0,a.boolean)()),randomSeed:(0,a.optional)((0,a.number)())}),t.StatementMetaDataSchema=(0,a.object)({lastUpdate:(0,a.number)(),numberOfMembers:(0,a.optional)((0,a.number)()),numberOfEvaluators:(0,a.optional)((0,a.number)()),numberOfEvaluatedStatements:(0,a.optional)((0,a.number)()),numberOfFirstSuggesters:(0,a.optional)((0,a.number)()),numberOfFirstEvaluators:(0,a.optional)((0,a.number)()),numberOfSecondEvaluators:(0,a.optional)((0,a.number)()),statementId:(0,a.string)()})},6426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBasicStatement=function({parentStatement:e,user:t,stageSelectionType:n,statementType:u,statement:l,description:c}){try{let p={statement:l,description:c??"",statementType:u??s.StatementType.statement,parentId:e.statementId,stageSelectionType:n??i.StageSelectionType.consensus,creatorId:t.uid,creator:t,consensus:0,voted:0,statementId:(0,r.getRandomUID)(),topParentId:e.topParentId||e.statementId,parents:e.parents?[...e.parents]:[],lastUpdate:new Date().getTime(),createdAt:new Date().getTime()};return(0,o.parse)(a.StatementSchema,p)}catch(e){console.error(e);return}};let a=n(7789),s=n(5839),r=n(7525),i=n(6844),o=n(896)},3241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FairDivisionUserSelectionSchema=t.FairDivisionSelectionSchema=void 0;let a=n(896);t.FairDivisionSelectionSchema=(0,a.object)({asOption:(0,a.object)({costCoins:(0,a.optional)((0,a.number)()),selected:(0,a.boolean)(),updatedAt:(0,a.optional)((0,a.number)())}),asParent:(0,a.object)({isFairDivision:(0,a.boolean)()})}),t.FairDivisionUserSelectionSchema=(0,a.object)({userId:(0,a.string)(),statementId:(0,a.string)(),investment:(0,a.number)(),parentId:(0,a.string)()})},6881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnlineSchema=void 0;let a=n(896),s=n(879);t.OnlineSchema=(0,a.object)({statementId:(0,a.string)(),onlineId:(0,a.string)(),user:s.CreatorSchema,lastUpdated:(0,a.number)(),tabInFocus:(0,a.boolean)()})},879:(e,t,n)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.LoginType=t.CreatorSchema=t.StepSchema=t.MembershipSchema=t.UserSchema=void 0;let s=n(896),r=n(5839),i=n(3627);t.UserSchema=(0,s.object)({displayName:(0,s.string)(),defaultLanguage:(0,s.optional)((0,s.string)()),email:(0,s.optional)((0,s.nullable)((0,s.string)())),photoURL:(0,s.optional)((0,s.nullable)((0,s.string)())),uid:(0,s.string)(),isAnonymous:(0,s.optional)((0,s.boolean)()),fontSize:(0,s.optional)((0,s.nullable)((0,s.number)())),color:(0,s.optional)((0,s.string)()),agreement:(0,s.optional)((0,s.nullable)(i.AgreementSchema)),role:(0,s.optional)((0,s.string)())}),t.MembershipSchema=(0,s.object)({adminApproveMembers:(0,s.optional)((0,s.boolean)()),access:(0,s.optional)((0,s.enum_)(r.Access)),typeOfMembersAllowed:(0,s.optional)((0,s.enum_)(r.membersAllowed))}),t.StepSchema=(0,s.object)({stepId:(0,s.string)(),stepType:(0,s.enum_)(r.StepType),instructions:(0,s.optional)((0,s.string)()),duration:(0,s.optional)((0,s.number)()),endTime:(0,s.optional)((0,s.number)()),order:(0,s.optional)((0,s.number)())}),t.CreatorSchema=(0,s.object)({displayName:(0,s.string)(),photoURL:(0,s.optional)((0,s.nullable)((0,s.string)())),uid:(0,s.string)(),isAnonymous:(0,s.optional)((0,s.boolean)()),email:(0,s.optional)((0,s.nullable)((0,s.string)())),advanceUser:(0,s.optional)((0,s.boolean)())}),function(e){e.default="default",e.google="google",e.anonymous="anonymous"}(a||(t.LoginType=a={}))},9278:(e,t,n)=>{"use strict";var a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.UserDataSchema=t.userSettingsSchema=t.Languages=t.Role=void 0;let r=n(896),i=n(3627);(function(e){e.admin="admin",e.member="member",e.banned="banned",e.waiting="waiting",e.unsubscribed="unsubscribed",e.creator="statement-creator"})(a||(t.Role=a={})),function(e){e.english="en",e.hebrew="he",e.arabic="ar"}(s||(t.Languages=s={})),t.userSettingsSchema=(0,r.object)({userId:(0,r.string)(),fontSize:(0,r.optional)((0,r.number)()),color:(0,r.optional)((0,r.string)()),defaultLanguage:(0,r.optional)((0,r.enum_)(s)),ent:(0,r.optional)((0,r.nullable)(i.AgreementSchema)),role:(0,r.optional)((0,r.enum_)(a)),learning:(0,r.optional)((0,r.object)({evaluation:(0,r.optional)((0,r.number)()),addOptions:(0,r.optional)((0,r.number)())}))}),t.UserDataSchema=(0,r.object)({userId:(0,r.string)(),email:(0,r.optional)((0,r.string)()),displayName:(0,r.optional)((0,r.string)()),city:(0,r.optional)((0,r.string)()),country:(0,r.optional)((0,r.string)()),dateOfBirth:(0,r.optional)((0,r.number)())})},2703:(e,t,n)=>{"use strict";var a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.UserDemographicQuestionSchema=t.DemographicOptionSchema=t.UserQuestionTypeSchema=t.DemographicQuestionScopeSchema=t.DemographicQuestionScope=t.UserDemographicQuestionType=void 0;let r=n(896);(function(e){e.text="text",e.textarea="textarea",e.checkbox="checkbox",e.radio="radio"})(a||(t.UserDemographicQuestionType=a={})),function(e){e.group="group",e.statement="statement"}(s||(t.DemographicQuestionScope=s={})),t.DemographicQuestionScopeSchema=(0,r.enum_)(s),t.UserQuestionTypeSchema=(0,r.enum_)(a),t.DemographicOptionSchema=(0,r.object)({option:(0,r.string)(),color:(0,r.optional)((0,r.string)())}),t.UserDemographicQuestionSchema=(0,r.object)({question:(0,r.string)(),userId:(0,r.optional)((0,r.string)()),type:t.UserQuestionTypeSchema,options:(0,r.array)(t.DemographicOptionSchema),answerOptions:(0,r.optional)((0,r.array)((0,r.string)())),answer:(0,r.optional)((0,r.string)()),statementId:(0,r.string)(),order:(0,r.optional)((0,r.number)()),required:(0,r.optional)((0,r.boolean)()),userQuestionId:(0,r.optional)((0,r.string)()),topParentId:(0,r.optional)((0,r.string)()),scope:(0,r.optional)(t.DemographicQuestionScopeSchema)})},8545:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VotingSettingsSchema=t.VoteSchema=void 0,t.getVoteId=function(e,t){return`${e}--${t}`};let a=n(896),s=n(879);t.VoteSchema=(0,a.object)({voteId:(0,a.string)(),statementId:(0,a.string)(),userId:(0,a.string)(),parentId:(0,a.string)(),lastUpdate:(0,a.number)(),createdAt:(0,a.number)(),voter:(0,a.optional)(s.UserSchema)}),t.VotingSettingsSchema=(0,a.object)({showPercentages:(0,a.optional)((0,a.boolean)()),showHighetRelativeToViewedOptions:(0,a.optional)((0,a.boolean)())})},5442:(e,t,n)=>{"use strict";var a=n(7577),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=a.useState,i=a.useEffect,o=a.useLayoutEffect,u=a.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!s(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),a=r({inst:{value:n,getSnapshot:t}}),s=a[0].inst,c=a[1];return o(function(){s.value=n,s.getSnapshot=t,l(s)&&c({inst:s})},[e,n,t]),i(function(){return l(s)&&c({inst:s}),e(function(){l(s)&&c({inst:s})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:c},9251:(e,t,n)=>{"use strict";var a=n(7577),s=n(4095),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=s.useSyncExternalStore,o=a.useRef,u=a.useEffect,l=a.useMemo,c=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,a,s){var p=o(null);if(null===p.current){var d={hasValue:!1,value:null};p.current=d}else d=p.current;var m=i(e,(p=l(function(){function e(e){if(!u){if(u=!0,i=e,e=a(e),void 0!==s&&d.hasValue){var t=d.value;if(s(t,e))return o=t}return o=e}if(t=o,r(i,e))return t;var n=a(e);return void 0!==s&&s(t,n)?(i=e,t):(i=e,o=n)}var i,o,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,a,s]))[0],p[1]);return u(function(){d.hasValue=!0,d.value=m},[m]),c(m),m}},4095:(e,t,n)=>{"use strict";e.exports=n(5442)},1508:(e,t,n)=>{"use strict";e.exports=n(9251)},4776:(e,t,n)=>{"use strict";n.d(t,{default:()=>f});var a=n(326),s=n(7577),r=n(741),i=n(8153),o=n.n(i);function u({title:e,onClose:t,children:n,size:r="medium"}){return(0,s.useCallback)(e=>{"Escape"===e.key&&t()},[t]),a.jsx("div",{className:o().backdrop,onClick:e=>{e.target===e.currentTarget&&t()},role:"dialog","aria-modal":"true","aria-labelledby":e?"modal-title":void 0,children:(0,a.jsxs)("div",{className:`${o().modal} ${o()[r]}`,children:[e&&(0,a.jsxs)("header",{className:o().header,children:[a.jsx("h2",{id:"modal-title",className:o().title,children:e}),a.jsx("button",{type:"button",className:o().closeButton,onClick:t,"aria-label":"Close modal",children:(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),a.jsx("div",{className:o().content,children:n})]})})}var l=n(1981),c=n(3421),p=n.n(c);function d({comment:e,onDelete:t}){let{t:n}=(0,l.$G)();return(0,a.jsxs)("article",{className:p().comment,children:[(0,a.jsxs)("header",{className:p().header,children:[a.jsx("div",{className:p().avatar,children:e.creator?.displayName?.charAt(0).toUpperCase()||"?"}),(0,a.jsxs)("div",{className:p().meta,children:[a.jsx("span",{className:p().author,children:e.creator?.displayName||n("Anonymous")}),a.jsx("span",{className:p().date,children:(e=>{let t=new Date(e),a=new Date().getTime()-t.getTime(),s=Math.floor(a/6e4),r=Math.floor(a/36e5),i=Math.floor(a/864e5);return s<1?n("Just now"):s<60?`${s} ${n("minutes ago")}`:r<24?`${r} ${n("hours ago")}`:i<7?`${i} ${n("days ago")}`:t.toLocaleDateString()})(e.createdAt)})]}),!1]}),a.jsx("p",{className:p().content,children:e.statement})]})}var m=n(8134),h=n.n(m);function y({paragraphId:e,documentId:t,isLoggedIn:n}){let{t:r}=(0,l.$G)(),[i,o]=(0,s.useState)([]),[u,c]=(0,s.useState)(!0),[p,m]=(0,s.useState)(!1),[y,f]=(0,s.useState)(""),[g,v]=(0,s.useState)(null);(0,s.useCallback)(async()=>{try{c(!0);let t=await fetch(`/api/comments/${e}`);if(t.ok){let e=await t.json();o(e.comments||[])}else console.error("Failed to fetch comments")}catch(e){console.error("Error fetching comments:",e)}finally{c(!1)}},[e]);let b=async a=>{if(a.preventDefault(),y.trim()&&n){m(!0),v(null);try{let n=await fetch(`/api/comments/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({statement:y.trim(),documentId:t})});if(n.ok){let e=await n.json();o(t=>[...t,e.comment]),f("")}else{let e=await n.json();v(e.error||"Failed to post comment")}}catch(e){console.error("Error posting comment:",e),v("Failed to post comment. Please try again.")}finally{m(!1)}}},S=async t=>{try{(await fetch(`/api/comments/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({commentId:t})})).ok?o(e=>e.filter(e=>e.statementId!==t)):console.error("Failed to delete comment")}catch(e){console.error("Error deleting comment:",e)}};return(0,a.jsxs)("div",{className:h().container,children:[a.jsx("div",{className:h().list,children:u?(0,a.jsxs)("div",{className:h().loading,children:[a.jsx("div",{className:"skeleton",style:{height:"60px",marginBottom:"8px"}}),a.jsx("div",{className:"skeleton",style:{height:"60px",marginBottom:"8px"}})]}):0===i.length?a.jsx("p",{className:h().empty,children:r("No comments yet")}):i.map(e=>a.jsx(d,{comment:e,onDelete:S},e.statementId))}),n?(0,a.jsxs)("form",{className:h().form,onSubmit:b,children:[a.jsx("textarea",{className:h().textarea,value:y,onChange:e=>f(e.target.value),placeholder:r("Add a comment..."),rows:3,disabled:p}),g&&a.jsx("p",{className:h().error,children:g}),a.jsx("button",{type:"submit",className:h().submitButton,disabled:p||!y.trim(),children:r(p?"Posting...":"Post Comment")})]}):a.jsx("p",{className:h().loginPrompt,children:r("Please log in to add comments")})]})}function f({documentId:e,user:t,userSignature:n,children:i}){let{activeModal:o,modalContext:l,closeModal:c,setSubmitting:p}=(0,r.HB)();return(0,s.useCallback)(async n=>{if(!t){window.location.href=`/login?redirect=/doc/${e}`;return}p(!0);try{let t=await fetch(`/api/signatures/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signed:"sign"===n?"signed":"rejected"})});if(t.ok)window.location.reload();else{let e=await t.json();console.error("Failed to submit signature:",e),alert("Failed to submit. Please try again.")}}catch(e){console.error("Error submitting signature:",e),alert("Failed to submit. Please try again.")}finally{p(!1)}},[e,t,p]),(0,a.jsxs)(a.Fragment,{children:[i,"comments"===o&&l?.paragraphId&&a.jsx(u,{title:"Comments",onClose:c,size:"large",children:a.jsx(y,{paragraphId:l.paragraphId,documentId:e,isLoggedIn:!!t})}),"signature"===o&&a.jsx(u,{title:"Confirm Signature",onClose:c,children:a.jsx("p",{children:"Are you sure you want to sign this document?"})})]})}},1629:(e,t,n)=>{"use strict";n.d(t,{default:()=>m});var a=n(326),s=n(69);let r=function(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=function e(t){var n,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var r=t.length;for(n=0;n<r;n++)t[n]&&(a=e(t[n]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a)}return s}(e))&&(a&&(a+=" "),a+=t);return a};var i=n(7577),o=n(741),u=n(1708),l=n.n(u);function c({paragraphId:e,documentId:t,isApproved:n,isLoggedIn:s,commentCount:r}){let[u,c]=(0,i.useState)(!1),[p,d]=(0,i.useState)(n),{openModal:m}=(0,o.HB)(),h=(0,i.useCallback)(async a=>{if(!s){window.location.href=`/login?redirect=/doc/${t}`;return}d(a),c(!0);try{let s=await fetch(`/api/approvals/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({approval:a,documentId:t})});if(!s.ok){d(n);let e=await s.json();console.error("Failed to submit approval:",e)}}catch(e){d(n),console.error("Error submitting approval:",e)}finally{c(!1)}},[e,t,s,n]),y=void 0!==p?p:n;return(0,a.jsxs)("div",{className:l().bar,children:[(0,a.jsxs)("div",{className:l().approvalButtons,children:[(0,a.jsxs)("button",{type:"button",className:`${l().button} ${l().approveButton} ${!0===y?l().active:""}`,onClick:()=>h(!0),disabled:u,"aria-pressed":!0===y,title:"Approve",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("polyline",{points:"20 6 9 17 4 12"})}),a.jsx("span",{className:l().buttonText,children:"Approve"})]}),(0,a.jsxs)("button",{type:"button",className:`${l().button} ${l().rejectButton} ${!1===y?l().active:""}`,onClick:()=>h(!1),disabled:u,"aria-pressed":!1===y,title:"Reject",children:[(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),a.jsx("span",{className:l().buttonText,children:"Reject"})]})]}),(0,a.jsxs)("button",{type:"button",className:`${l().button} ${l().commentButton}`,onClick:()=>{m("comments",{paragraphId:e})},title:"Comments",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),r>0&&a.jsx("span",{className:l().commentCount,children:r})]})]})}var p=n(9),d=n.n(p);function m({paragraph:e,isApproved:t,isLoggedIn:n,heatLevel:i,viewCount:o,isAdmin:u}){let l=e.paragraphType||s.NJ.paragraph,p=void 0===t?"pending":t?"approved":"rejected",m=r(d().card,d()[`type-${l}`],d()[p],i&&d()[`heat-${i}`]);return(0,a.jsxs)("article",{id:`paragraph-${e.statementId}`,className:m,children:[(()=>{let t=e.statement;switch(l){case s.NJ.h1:return a.jsx("h1",{className:d().content,children:t});case s.NJ.h2:return a.jsx("h2",{className:d().content,children:t});case s.NJ.h3:return a.jsx("h3",{className:d().content,children:t});case s.NJ.h4:return a.jsx("h4",{className:d().content,children:t});case s.NJ.h5:return a.jsx("h5",{className:d().content,children:t});case s.NJ.h6:return a.jsx("h6",{className:d().content,children:t});case s.NJ.li:return(0,a.jsxs)("div",{className:d().listItem,children:[a.jsx("span",{className:d().bullet,children:""}),a.jsx("p",{className:d().content,children:t})]});default:return a.jsx("p",{className:d().content,children:t})}})(),a.jsx(c,{paragraphId:e.statementId,documentId:e.topParentId,isApproved:t,isLoggedIn:n,commentCount:0}),u&&void 0!==o&&(0,a.jsxs)("div",{className:d().adminInfo,children:[(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[a.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),a.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),a.jsx("span",{children:o})]})]})}},741:(e,t,n)=>{"use strict";let a;n.d(t,{HB:()=>m});let s=e=>{let t;let n=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach(n=>n(t,e))}},s=()=>t,r={setState:a,getState:s,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(a,s,r);return r},r=e=>e?s(e):s;var i=n(7577),o=n(1508);let{useDebugValue:u}=i,{useSyncExternalStoreWithSelector:l}=o,c=!1,p=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?r(e):e,n=(e,n)=>(function(e,t=p,n){n&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let a=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return u(a),a})(t,e,n);return Object.assign(n,t),n},m=(a=e=>({activeModal:null,modalContext:null,openModal:(t,n)=>e({activeModal:t,modalContext:n??null}),closeModal:()=>e({activeModal:null,modalContext:null}),isEditMode:!1,setEditMode:t=>e({isEditMode:t}),viewMode:"default",setViewMode:t=>e({viewMode:t}),isTocExpanded:!1,toggleToc:()=>e(e=>({isTocExpanded:!e.isTocExpanded})),setTocExpanded:t=>e({isTocExpanded:t}),activeParagraphId:null,setActiveParagraphId:t=>e({activeParagraphId:t}),isSubmitting:!1,setSubmitting:t=>e({isSubmitting:t})}))?d(a):d},1981:(e,t,n)=>{"use strict";n.d(t,{$G:()=>a.useTranslation}),n(1410),n(1956),n(9982);var a=n(6890)},3421:e=>{e.exports={comment:"Comment_comment__VShlm",header:"Comment_header__8o7XI",avatar:"Comment_avatar__L15mg",meta:"Comment_meta__6_bC3",author:"Comment_author__P_20E",date:"Comment_date__8Tvwq",deleteButton:"Comment_deleteButton___DSFa",content:"Comment_content__b2CfN"}},8134:e=>{e.exports={container:"CommentThread_container__Lnd3l",list:"CommentThread_list__7acjP",loading:"CommentThread_loading__K0EYJ",empty:"CommentThread_empty__DuoEJ",form:"CommentThread_form___t0Lp",textarea:"CommentThread_textarea__62jSw",error:"CommentThread_error__bkZvt",submitButton:"CommentThread_submitButton__msIk4",loginPrompt:"CommentThread_loginPrompt__CddXZ"}},1229:e=>{e.exports={container:"DocumentView_container__IlElb",header:"DocumentView_header__uPR63",title:"DocumentView_title__La0ys",description:"DocumentView_description__kC87G",progress:"DocumentView_progress__Fbzt3",progressBar:"DocumentView_progressBar__evjBa",progressFill:"DocumentView_progressFill__mxAGE",progressText:"DocumentView_progressText__nOUx5",content:"DocumentView_content__7StWc",empty:"DocumentView_empty__BEpXH",footer:"DocumentView_footer__URP48",signatureStatus:"DocumentView_signatureStatus__DNq_u",signedStatus:"DocumentView_signedStatus__T3cV_",unsignedStatus:"DocumentView_unsignedStatus__eXtCl",signatureActions:"DocumentView_signatureActions__sHBfU",rejectButton:"DocumentView_rejectButton__qgv5O",signButton:"DocumentView_signButton__fOi0z"}},1708:e=>{e.exports={bar:"InteractionBar_bar__uo6HI",approvalButtons:"InteractionBar_approvalButtons__hZeA6",button:"InteractionBar_button__NB_5N",buttonText:"InteractionBar_buttonText__bL9WD",approveButton:"InteractionBar_approveButton__zMz_v",active:"InteractionBar_active__BDRRz",rejectButton:"InteractionBar_rejectButton__Gi8ll",commentButton:"InteractionBar_commentButton__JRQd0",commentCount:"InteractionBar_commentCount__bCltl"}},9:e=>{e.exports={card:"ParagraphCard_card__uBsup",content:"ParagraphCard_content__eaie7","type-paragraph":"ParagraphCard_type-paragraph__bxFKy","type-h1":"ParagraphCard_type-h1__9k8_b","type-h2":"ParagraphCard_type-h2__RtjiZ","type-h3":"ParagraphCard_type-h3__empY7","type-h4":"ParagraphCard_type-h4__qQCDV","type-h5":"ParagraphCard_type-h5__QwuaH","type-h6":"ParagraphCard_type-h6__9kcCw",listItem:"ParagraphCard_listItem__3v4w7",bullet:"ParagraphCard_bullet__GJHb1","type-li":"ParagraphCard_type-li__1ytTC",approved:"ParagraphCard_approved__Rrcg3",rejected:"ParagraphCard_rejected__YhGOW",pending:"ParagraphCard_pending__MRFO7","heat-low":"ParagraphCard_heat-low__sXzZb","heat-medium":"ParagraphCard_heat-medium__TE1i4","heat-high":"ParagraphCard_heat-high__F8GRc",adminInfo:"ParagraphCard_adminInfo__qovzU"}},8153:e=>{e.exports={backdrop:"Modal_backdrop__853VI",fadeIn:"Modal_fadeIn__3R_gQ",modal:"Modal_modal__mFu9m",slideUp:"Modal_slideUp__r9dAO",small:"Modal_small__8MSLb",medium:"Modal_medium__taiOz",large:"Modal_large__O7Y_E",header:"Modal_header__2oN_U",title:"Modal_title__zwXCi",closeButton:"Modal_closeButton__mDlnv",content:"Modal_content__bLXKl"}},7902:(e,t,n)=>{"use strict";n.a(e,async(e,a)=>{try{n.r(t),n.d(t,{default:()=>d,generateMetadata:()=>p});var s=n(9510),r=n(8585),i=n(1615),o=n(8894),u=n(5734),l=n(2708),c=e([o]);async function p({params:e}){let{statementId:t}=await e,n=await (0,o.SR)(t);return n?{title:`${n.statement.substring(0,50)} - Freedi Sign`,description:n.statement.substring(0,160)}:{title:"Document Not Found - Freedi Sign"}}async function d({params:e}){let{statementId:t}=await e,[n,a]=await Promise.all([(0,o.SR)(t),(0,o.AD)(t)]);n||(0,r.notFound)();let c=await (0,i.cookies)(),p=(0,u.N5)(c),d=null,m=[];p&&([d,m]=await Promise.all([(0,o._g)(t,p.uid),(0,o.dQ)(t,p.uid)]));let h={};return m.forEach(e=>{h[e.statementId]=e.approval}),s.jsx(l.Z,{document:n,paragraphs:a,user:p,userSignature:d,userApprovals:h})}o=(c.then?(await c)():c)[0],a()}catch(e){a(e)}})},2708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(9510),s=n(8570);let r=(0,s.createProxy)(String.raw`/Users/talyaron/Documents/Freedi-app/apps/sign/src/components/document/DocumentClient.tsx#default`),i=(0,s.createProxy)(String.raw`/Users/talyaron/Documents/Freedi-app/apps/sign/src/components/paragraph/ParagraphCard.tsx#default`);var o=n(1229),u=n.n(o);function l({document:e,paragraphs:t,user:n,userSignature:s,userApprovals:o}){let l=t.length,c=Object.values(o).filter(Boolean).length,p=l>0?Math.round(c/l*100):0;return a.jsx(r,{documentId:e.statementId,user:n,userSignature:s,children:(0,a.jsxs)("div",{className:u().container,children:[(0,a.jsxs)("header",{className:u().header,children:[a.jsx("h1",{className:u().title,children:e.statement}),e.description&&a.jsx("p",{className:u().description,children:e.description}),n&&l>0&&(0,a.jsxs)("div",{className:u().progress,children:[a.jsx("div",{className:u().progressBar,children:a.jsx("div",{className:u().progressFill,style:{width:`${p}%`}})}),(0,a.jsxs)("span",{className:u().progressText,children:[c," / ",l," reviewed (",p,"%)"]})]})]}),a.jsx("main",{className:u().content,children:0===t.length?a.jsx("div",{className:u().empty,children:a.jsx("p",{children:"No paragraphs in this document yet."})}):t.map(e=>a.jsx(i,{paragraph:e,isApproved:o[e.statementId],isLoggedIn:!!n},e.statementId))}),n&&t.length>0&&(0,a.jsxs)("footer",{className:u().footer,children:[a.jsx("div",{className:u().signatureStatus,children:s?(0,a.jsxs)("p",{className:u().signedStatus,children:["signed"===s.signed&&"You have signed this document","rejected"===s.signed&&"You have rejected this document","viewed"===s.signed&&"You have viewed this document"]}):a.jsx("p",{className:u().unsignedStatus,children:"Review all paragraphs and sign or reject the document"})}),(0,a.jsxs)("div",{className:u().signatureActions,children:[a.jsx("button",{type:"button",className:u().rejectButton,"data-action":"reject",children:"Reject Document"}),a.jsx("button",{type:"button",className:u().signButton,"data-action":"sign",children:"Sign Document"})]})]})]})})}},896:(e,t)=>{let n,a,s,r,i,o,u;function l(e){return{lang:e?.lang??n?.lang,message:e?.message,abortEarly:e?.abortEarly??n?.abortEarly,abortPipeEarly:e?.abortPipeEarly??n?.abortPipeEarly}}function c(e){return a?.get(e)}function p(e){return s?.get(e)}function d(e,t){return r?.get(e)?.get(t)}function m(e){let t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function h(e,t,n,a,s){let r=s&&"input"in s?s.input:n.value,i=s?.expected??e.expects??null,o=s?.received??m(r),u={kind:e.kind,type:e.type,input:r,expected:i,received:o,message:`Invalid ${t}: ${i?`Expected ${i} but r`:"R"}eceived ${o}`,requirement:e.requirement,path:s?.path,issues:s?.issues,lang:a.lang,abortEarly:a.abortEarly,abortPipeEarly:a.abortPipeEarly},l="schema"===e.kind,h=s?.message??e.message??d(e.reference,u.lang)??(l?p(u.lang):null)??a.message??c(u.lang);void 0!==h&&(u.message="function"==typeof h?h(u):h),l&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function y(e){return i||(i=new TextEncoder),i.encode(e).length}function f(e){o||(o=new Intl.Segmenter);let t=o.segment(e),n=0;for(let e of t)n++;return n}function g(e,t){if("pipe"in e){let n=[];for(let a=e.pipe.length-1;a>=0;a--){let s=e.pipe[a];if("schema"===s.kind&&"pipe"in s)n.push(s);else if("metadata"===s.kind&&s.type===t)return s[t]}for(let e of n){let n=g(e,t);if(void 0!==n)return n}}}function v(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},l())}}function b(e,t){u||(u=new Map),u.get(e)||u.set(e,new Intl.Segmenter(e,{granularity:"word"}));let n=u.get(e).segment(t),a=0;for(let e of n)e.isWordLike&&a++;return a}let S=/\D/gu;function _(e){let t=e.replace(S,""),n=t.length,a=1,s=0;for(;n;){let e=+t[--n];a^=1,s+=a?[0,2,4,6,8,1,3,5,7,9][e]:e}return s%10==0}function k(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}function x(e,t){let n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}function j(e){if(e.path){let t="";for(let n of e.path)if("string"!=typeof n.key&&"number"!=typeof n.key)return null;else t?t+=`.${n.key}`:t+=n.key;return t}return null}var E=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};let w=/^(?:[\da-z+/]{4})*(?:[\da-z+/]{2}==|[\da-z+/]{3}=)?$/iu,I=/^[A-Z]{6}(?!00)[\dA-Z]{2}(?:[\dA-Z]{3})?$/u,A=/^[a-z][\da-z]*$/u,O=/^[+-]?(?:\d*\.)?\d+$/u,M=/^\d+$/u,C=/^[\w+-]+(?:\.[\w+-]+)*@[\da-z]+(?:[.-][\da-z]+)*\.[a-z]{2,}$/iu,P=/^(?:[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[\u{E0061}-\u{E007A}]{2}[\u{E0030}-\u{E0039}\u{E0061}-\u{E007A}]{1,3}\u{E007F}|(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|(?![\p{Emoji_Modifier_Base}\u{1F1E6}-\u{1F1FF}])\p{Emoji_Presentation})(?:\u200D(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|(?![\p{Emoji_Modifier_Base}\u{1F1E6}-\u{1F1FF}])\p{Emoji_Presentation}))*)+$/u,D=/^(?:0[hx])?[\da-fA-F]+$/u,T=/^#(?:[\da-fA-F]{3,4}|[\da-fA-F]{6}|[\da-fA-F]{8})$/u,$=/^\d{15}$|^\d{2}-\d{6}-\d{6}-\d$/u,q=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$/u,N=/^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,R=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$|^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,B=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])$/u,U=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])[T ](?:0\d|1\d|2[0-3]):[0-5]\d$/u,F=/^(?:0\d|1\d|2[0-3]):[0-5]\d$/u,V=/^(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}$/u,z=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])[T ](?:0\d|1\d|2[0-3])(?::[0-5]\d){2}(?:\.\d{1,9})?(?:Z|[+-](?:0\d|1\d|2[0-3])(?::?[0-5]\d)?)$/u,L=/^\d{4}-W(?:0[1-9]|[1-4]\d|5[0-3])$/u,G=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$/iu,Q=/^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,J=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$|^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,X=/^[\w-]+$/u,W=/^(?:0o)?[0-7]+$/u,H=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Z=/^[\da-z]+(?:[-_][\da-z]+)*$/u,Y=/^[\da-hjkmnp-tv-zA-HJKMNP-TV-Z]{26}$/u,K=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu,ee=/^(?:\d{14,19}|\d{4}(?: \d{3,6}){2,4}|\d{4}(?:-\d{3,6}){2,4})$/u,et=/[- ]/gu,en=[/^3[47]\d{13}$/u,/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,/^6(?:011|5\d{2})\d{12,15}$/u,/^(?:2131|1800|35\d{3})\d{11}$/u,/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,/^(?:6[27]\d{14,17}|81\d{14,17})$/u,/^4\d{12}(?:\d{3,6})?$/u],ea={md4:32,md5:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8,adler32:8};function es(e,t){if(e.issues)for(let n of t)for(let t of e.issues){let e=!1,a=Math.min(n.length,t.path?.length??0);for(let s=0;s<a;s++)if(n[s]!==t.path[s].key&&("$"!==n[s]||"array"!==t.path[s].type)){e=!0;break}if(!e)return!1}return!0}function er(e,t,n){return"function"==typeof e.fallback?e.fallback(t,n):e.fallback}function ei(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}async function eo(e){return"entries"in e?Object.fromEntries(await Promise.all(Object.entries(e.entries).map(async([e,t])=>[e,await eo(t)]))):"items"in e?Promise.all(e.items.map(eo)):ei(e)}async function eu(e){return"entries"in e?Object.fromEntries(await Promise.all(Object.entries(e.entries).map(async([e,t])=>[e,await eu(t)]))):"items"in e?Promise.all(e.items.map(eu)):er(e)}function el(e,t){let n=[];for(let t in e)`${+t}`===t&&"string"==typeof e[t]&&Object.is(e[e[t]],+t)||n.push(e[t]);return{kind:"schema",type:"enum",reference:el,expects:x(n.map(m),"|"),async:!1,enum:e,options:n,message:t,get"~standard"(){return v(this)},"~run"(e,t){return this.options.includes(e.value)?e.typed=!0:h(this,"type",e,t),e}}}function ec(e){return{kind:"schema",type:"function",reference:ec,expects:"Function",async:!1,message:e,get"~standard"(){return v(this)},"~run"(e,t){return"function"==typeof e.value?e.typed=!0:h(this,"type",e,t),e}}}function ep(e,t){if(typeof e==typeof t){if(e===t||e instanceof Date&&t instanceof Date&&+e==+t)return{value:e};if(e&&t&&e.constructor===Object&&t.constructor===Object){for(let n in t)if(n in e){let a=ep(e[n],t[n]);if(a.issue)return a;e[n]=a.value}else e[n]=t[n];return{value:e}}if(Array.isArray(e)&&Array.isArray(t)&&e.length===t.length){for(let n=0;n<e.length;n++){let a=ep(e[n],t[n]);if(a.issue)return a;e[n]=a.value}return{value:e}}}return{issue:!0}}function ed(e,t){return{kind:"schema",type:"non_optional",reference:ed,expects:"!undefined",async:!1,wrapped:e,message:t,get"~standard"(){return v(this)},"~run"(e,t){return void 0!==e.value&&(e=this.wrapped["~run"](e,t)),void 0===e.value&&h(this,"type",e,t),e}}}function em(e,t){return{kind:"schema",type:"non_optional",reference:em,expects:"!undefined",async:!0,wrapped:e,message:t,get"~standard"(){return v(this)},async "~run"(e,t){return void 0!==e.value&&(e=await this.wrapped["~run"](e,t)),void 0===e.value&&h(this,"type",e,t),e}}}function eh(e){return{kind:"schema",type:"null",reference:eh,expects:"null",async:!1,message:e,get"~standard"(){return v(this)},"~run"(e,t){return null===e.value?e.typed=!0:h(this,"type",e,t),e}}}function ey(e,t){return{kind:"schema",type:"optional",reference:ey,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return v(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=ei(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function ef(e,t){return{kind:"schema",type:"optional",reference:ef,expects:`(${e.expects} | undefined)`,async:!0,wrapped:e,default:t,get"~standard"(){return v(this)},async "~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=await ei(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function eg(e,t){return{kind:"schema",type:"picklist",reference:eg,expects:x(e.map(m),"|"),async:!1,options:e,message:t,get"~standard"(){return v(this)},"~run"(e,t){return this.options.includes(e.value)?e.typed=!0:h(this,"type",e,t),e}}}function ev(e){return{kind:"schema",type:"undefined",reference:ev,expects:"undefined",async:!1,message:e,get"~standard"(){return v(this)},"~run"(e,t){return void 0===e.value?e.typed=!0:h(this,"type",e,t),e}}}function eb(e){let t;if(e)for(let n of e)t?t.push(...n.issues):t=n.issues;return t}function eS(e){return{kind:"schema",type:"void",reference:eS,expects:"void",async:!1,message:e,get"~standard"(){return v(this)},"~run"(e,t){return void 0===e.value?e.typed=!0:h(this,"type",e,t),e}}}function e_(e,t,n){let a=e["~run"]({value:t},l(n));if(a.issues)throw new E(a.issues);return a.value}async function ek(e,t,n){let a=await e["~run"]({value:t},l(n));if(a.issues)throw new E(a.issues);return a.value}function ex(e,t,n){let a=e["~run"]({value:t},l(n));return{typed:a.typed,success:!a.issues,output:a.value,issues:a.issues}}async function ej(e,t,n){let a=await e["~run"]({value:t},l(n));return{typed:a.typed,success:!a.issues,output:a.value,issues:a.issues}}t.BASE64_REGEX=w,t.BIC_REGEX=I,t.CUID2_REGEX=A,t.DECIMAL_REGEX=O,t.DIGITS_REGEX=M,t.EMAIL_REGEX=C,t.EMOJI_REGEX=P,t.HEXADECIMAL_REGEX=D,t.HEX_COLOR_REGEX=T,t.IMEI_REGEX=$,t.IPV4_REGEX=q,t.IPV6_REGEX=N,t.IP_REGEX=R,t.ISO_DATE_REGEX=B,t.ISO_DATE_TIME_REGEX=U,t.ISO_TIMESTAMP_REGEX=z,t.ISO_TIME_REGEX=F,t.ISO_TIME_SECOND_REGEX=V,t.ISO_WEEK_REGEX=L,t.MAC48_REGEX=G,t.MAC64_REGEX=Q,t.MAC_REGEX=J,t.NANO_ID_REGEX=X,t.OCTAL_REGEX=W,t.RFC_EMAIL_REGEX=H,t.SLUG_REGEX=Z,t.ULID_REGEX=Y,t.UUID_REGEX=K,t.ValiError=E,t._addIssue=h,t._getByteCount=y,t._getGraphemeCount=f,t._getLastMetadata=g,t._getStandardProps=v,t._getWordCount=b,t._isLuhnAlgo=_,t._isValidObjectKey=k,t._joinExpects=x,t._stringify=m,t.any=function e(){return{kind:"schema",type:"any",reference:e,expects:"any",async:!1,get"~standard"(){return v(this)},"~run":e=>(e.typed=!0,e)}},t.args=function e(t){return{kind:"transformation",type:"args",reference:e,async:!1,schema:t,"~run"(e,t){let n=e.value;return e.value=(...e)=>{let a=this.schema["~run"]({value:e},t);if(a.issues)throw new E(a.issues);return n(...a.value)},e}}},t.argsAsync=function e(t){return{kind:"transformation",type:"args",reference:e,async:!1,schema:t,"~run"(e,n){let a=e.value;return e.value=async(...e)=>{let s=await t["~run"]({value:e},n);if(s.issues)throw new E(s.issues);return a(...s.value)},e}}},t.array=function e(t,n){return{kind:"schema",type:"array",reference:e,expects:"Array",async:!1,item:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(let a=0;a<n.length;a++){let s=n[a],r=this.item["~run"]({value:s},t);if(r.issues){let i={type:"array",origin:"value",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}r.typed||(e.typed=!1),e.value.push(r.value)}}else h(this,"type",e,t);return e}}},t.arrayAsync=function e(t,n){return{kind:"schema",type:"array",reference:e,expects:"Array",async:!0,item:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];let a=await Promise.all(n.map(e=>this.item["~run"]({value:e},t)));for(let s=0;s<a.length;s++){let r=a[s];if(r.issues){let a={type:"array",origin:"value",input:n,key:s,value:n[s]};for(let t of r.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}r.typed||(e.typed=!1),e.value.push(r.value)}}else h(this,"type",e,t);return e}}},t.assert=function(e,t){let n=e["~run"]({value:t},{abortEarly:!0}).issues;if(n)throw new E(n)},t.awaitAsync=function e(){return{kind:"transformation",type:"await",reference:e,async:!0,"~run":async e=>(e.value=await e.value,e)}},t.base64=function e(t){return{kind:"validation",type:"base64",reference:e,async:!1,expects:null,requirement:w,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"Base64",e,t),e}}},t.bic=function e(t){return{kind:"validation",type:"bic",reference:e,async:!1,expects:null,requirement:I,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"BIC",e,t),e}}},t.bigint=function e(t){return{kind:"schema",type:"bigint",reference:e,expects:"bigint",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return"bigint"==typeof e.value?e.typed=!0:h(this,"type",e,t),e}}},t.blob=function e(t){return{kind:"schema",type:"blob",reference:e,expects:"Blob",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return e.value instanceof Blob?e.typed=!0:h(this,"type",e,t),e}}},t.boolean=function e(t){return{kind:"schema",type:"boolean",reference:e,expects:"boolean",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:h(this,"type",e,t),e}}},t.brand=function e(t){return{kind:"transformation",type:"brand",reference:e,async:!1,name:t,"~run":e=>e}},t.bytes=function e(t,n){return{kind:"validation",type:"bytes",reference:e,async:!1,expects:`${t}`,requirement:t,message:n,"~run"(e,t){if(e.typed){let n=y(e.value);n!==this.requirement&&h(this,"bytes",e,t,{received:`${n}`})}return e}}},t.check=function e(t,n){return{kind:"validation",type:"check",reference:e,async:!1,expects:null,requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&h(this,"input",e,t),e}}},t.checkAsync=function e(t,n){return{kind:"validation",type:"check",reference:e,async:!0,expects:null,requirement:t,message:n,async "~run"(e,t){return e.typed&&!await this.requirement(e.value)&&h(this,"input",e,t),e}}},t.checkItems=function e(t,n){return{kind:"validation",type:"check_items",reference:e,async:!1,expects:null,requirement:t,message:n,"~run"(e,t){if(e.typed)for(let n=0;n<e.value.length;n++){let a=e.value[n];this.requirement(a,n,e.value)||h(this,"item",e,t,{input:a,path:[{type:"array",origin:"value",input:e.value,key:n,value:a}]})}return e}}},t.checkItemsAsync=function e(t,n){return{kind:"validation",type:"check_items",reference:e,async:!0,expects:null,requirement:t,message:n,async "~run"(e,t){if(e.typed){let n=await Promise.all(e.value.map(this.requirement));for(let a=0;a<e.value.length;a++)if(!n[a]){let n=e.value[a];h(this,"item",e,t,{input:n,path:[{type:"array",origin:"value",input:e.value,key:a,value:n}]})}}return e}}},t.config=function(e,t){return{...e,get"~standard"(){return v(this)},"~run":(n,a)=>e["~run"](n,{...a,...t})}},t.creditCard=function e(t){return{kind:"validation",type:"credit_card",reference:e,async:!1,expects:null,requirement(e){let t;return ee.test(e)&&(t=e.replace(et,""))&&en.some(e=>e.test(t))&&_(t)},message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&h(this,"credit card",e,t),e}}},t.cuid2=function e(t){return{kind:"validation",type:"cuid2",reference:e,async:!1,expects:null,requirement:A,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"Cuid2",e,t),e}}},t.custom=function e(t,n){return{kind:"schema",type:"custom",reference:e,expects:"unknown",async:!1,check:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){return this.check(e.value)?e.typed=!0:h(this,"type",e,t),e}}},t.customAsync=function e(t,n){return{kind:"schema",type:"custom",reference:e,expects:"unknown",async:!0,check:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){return await this.check(e.value)?e.typed=!0:h(this,"type",e,t),e}}},t.date=function e(t){return{kind:"schema",type:"date",reference:e,expects:"Date",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?h(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:h(this,"type",e,t),e}}},t.decimal=function e(t){return{kind:"validation",type:"decimal",reference:e,async:!1,expects:null,requirement:O,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"decimal",e,t),e}}},t.deleteGlobalConfig=function(){n=void 0},t.deleteGlobalMessage=function(e){a?.delete(e)},t.deleteSchemaMessage=function(e){s?.delete(e)},t.deleteSpecificMessage=function(e,t){r?.get(e)?.delete(t)},t.description=function e(t){return{kind:"metadata",type:"description",reference:e,description:t}},t.digits=function e(t){return{kind:"validation",type:"digits",reference:e,async:!1,expects:null,requirement:M,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"digits",e,t),e}}},t.email=function e(t){return{kind:"validation",type:"email",reference:e,expects:null,async:!1,requirement:C,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"email",e,t),e}}},t.emoji=function e(t){return{kind:"validation",type:"emoji",reference:e,async:!1,expects:null,requirement:P,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"emoji",e,t),e}}},t.empty=function e(t){return{kind:"validation",type:"empty",reference:e,async:!1,expects:"0",message:t,"~run"(e,t){return e.typed&&e.value.length>0&&h(this,"length",e,t,{received:`${e.value.length}`}),e}}},t.endsWith=function e(t,n){return{kind:"validation",type:"ends_with",reference:e,async:!1,expects:`"${t}"`,requirement:t,message:n,"~run"(e,t){return e.typed&&!e.value.endsWith(this.requirement)&&h(this,"end",e,t,{received:`"${e.value.slice(-this.requirement.length)}"`}),e}}},t.entries=function e(t,n){return{kind:"validation",type:"entries",reference:e,async:!1,expects:`${t}`,requirement:t,message:n,"~run"(e,t){if(!e.typed)return e;let n=Object.keys(e.value).length;return e.typed&&n!==this.requirement&&h(this,"entries",e,t,{received:`${n}`}),e}}},t.entriesFromList=function(e,t){let n={};for(let a of e)n[a]=t;return n},t.entriesFromObjects=function(e){let t={};for(let n of e)Object.assign(t,n.entries);return t},t.enum=el,t.enum_=el,t.everyItem=function e(t,n){return{kind:"validation",type:"every_item",reference:e,async:!1,expects:null,requirement:t,message:n,"~run"(e,t){return e.typed&&!e.value.every(this.requirement)&&h(this,"item",e,t),e}}},t.exactOptional=function e(t,n){return{kind:"schema",type:"exact_optional",reference:e,expects:t.expects,async:!1,wrapped:t,default:n,get"~standard"(){return v(this)},"~run"(e,t){return this.wrapped["~run"](e,t)}}},t.exactOptionalAsync=function e(t,n){return{kind:"schema",type:"exact_optional",reference:e,expects:t.expects,async:!0,wrapped:t,default:n,get"~standard"(){return v(this)},async "~run"(e,t){return this.wrapped["~run"](e,t)}}},t.examples=function e(t){return{kind:"metadata",type:"examples",reference:e,examples:t}},t.excludes=function e(t,n){let a=m(t);return{kind:"validation",type:"excludes",reference:e,async:!1,expects:`!${a}`,requirement:t,message:n,"~run"(e,t){return e.typed&&e.value.includes(this.requirement)&&h(this,"content",e,t,{received:a}),e}}},t.fallback=function(e,t){return{...e,fallback:t,get"~standard"(){return v(this)},"~run"(t,n){let a=e["~run"](t,n);return a.issues?{typed:!0,value:er(this,a,n)}:a}}},t.fallbackAsync=function(e,t){return{...e,fallback:t,async:!0,get"~standard"(){return v(this)},async "~run"(t,n){let a=await e["~run"](t,n);return a.issues?{typed:!0,value:await er(this,a,n)}:a}}},t.file=function e(t){return{kind:"schema",type:"file",reference:e,expects:"File",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return e.value instanceof File?e.typed=!0:h(this,"type",e,t),e}}},t.filterItems=function e(t){return{kind:"transformation",type:"filter_items",reference:e,async:!1,operation:t,"~run"(e){return e.value=e.value.filter(this.operation),e}}},t.findItem=function e(t){return{kind:"transformation",type:"find_item",reference:e,async:!1,operation:t,"~run"(e){return e.value=e.value.find(this.operation),e}}},t.finite=function e(t){return{kind:"validation",type:"finite",reference:e,async:!1,expects:null,requirement:Number.isFinite,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&h(this,"finite",e,t),e}}},t.flatten=function(e){let t={};for(let n of e)if(n.path){let e=j(n);e?(t.nested||(t.nested={}),t.nested[e]?t.nested[e].push(n.message):t.nested[e]=[n.message]):t.other?t.other.push(n.message):t.other=[n.message]}else t.root?t.root.push(n.message):t.root=[n.message];return t},t.flavor=function e(t){return{kind:"transformation",type:"flavor",reference:e,async:!1,name:t,"~run":e=>e}},t.forward=function(e,t){return{...e,"~run"(n,a){let s=n.issues&&[...n.issues];if((n=e["~run"](n,a)).issues){for(let e of n.issues)if(!s?.includes(e)){let a=n.value;for(let n of t){let t=a[n],s={type:"unknown",origin:"value",input:a,key:n,value:t};if(e.path?e.path.push(s):e.path=[s],!t)break;a=t}}}return n}}},t.forwardAsync=function(e,t){return{...e,async:!0,async "~run"(n,a){let s=n.issues&&[...n.issues];if((n=await e["~run"](n,a)).issues){for(let e of n.issues)if(!s?.includes(e)){let a=n.value;for(let n of t){let t=a[n],s={type:"unknown",origin:"value",input:a,key:n,value:t};if(e.path?e.path.push(s):e.path=[s],!t)break;a=t}}}return n}}},t.function=ec,t.function_=ec,t.getDefault=ei,t.getDefaults=function e(t){if("entries"in t){let n={};for(let a in t.entries)n[a]=e(t.entries[a]);return n}return"items"in t?t.items.map(e):ei(t)},t.getDefaultsAsync=eo,t.getDescription=function(e){return g(e,"description")},t.getDotPath=j,t.getExamples=function(e){let t=[];return function e(n){if("pipe"in n)for(let a of n.pipe)"schema"===a.kind&&"pipe"in a?e(a):"metadata"===a.kind&&"examples"===a.type&&t.push(...a.examples)}(e),t},t.getFallback=er,t.getFallbacks=function e(t){if("entries"in t){let n={};for(let a in t.entries)n[a]=e(t.entries[a]);return n}return"items"in t?t.items.map(e):er(t)},t.getFallbacksAsync=eu,t.getGlobalConfig=l,t.getGlobalMessage=c,t.getMetadata=function(e){let t={};return function e(n){if("pipe"in n)for(let a of n.pipe)"schema"===a.kind&&"pipe"in a?e(a):"metadata"===a.kind&&"metadata"===a.type&&Object.assign(t,a.metadata)}(e),t},t.getSchemaMessage=p,t.getSpecificMessage=d,t.getTitle=function(e){return g(e,"title")},t.graphemes=function e(t,n){return{kind:"validation",type:"graphemes",reference:e,async:!1,expects:`${t}`,requirement:t,message:n,"~run"(e,t){if(e.typed){let n=f(e.value);n!==this.requirement&&h(this,"graphemes",e,t,{received:`${n}`})}return e}}},t.gtValue=function e(t,n){return{kind:"validation",type:"gt_value",reference:e,async:!1,expects:`>${t instanceof Date?t.toJSON():m(t)}`,requirement:t,message:n,"~run"(e,t){return e.typed&&!(e.value>this.requirement)&&h(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():m(e.value)}),e}}},t.hash=function e(t,n){return{kind:"validation",type:"hash",reference:e,expects:null,async:!1,requirement:RegExp(t.map(e=>`^[a-f0-9]{${ea[e]}}$`).join("|"),"iu"),message:n,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"hash",e,t),e}}},t.hexColor=function e(t){return{kind:"validation",type:"hex_color",reference:e,async:!1,expects:null,requirement:T,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"hex color",e,t),e}}},t.hexadecimal=function e(t){return{kind:"validation",type:"hexadecimal",reference:e,async:!1,expects:null,requirement:D,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"hexadecimal",e,t),e}}},t.imei=function e(t){return{kind:"validation",type:"imei",reference:e,async:!1,expects:null,requirement:e=>$.test(e)&&_(e),message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&h(this,"IMEI",e,t),e}}},t.includes=function e(t,n){let a=m(t);return{kind:"validation",type:"includes",reference:e,async:!1,expects:a,requirement:t,message:n,"~run"(e,t){return e.typed&&!e.value.includes(this.requirement)&&h(this,"content",e,t,{received:`!${a}`}),e}}},t.instance=function e(t,n){return{kind:"schema",type:"instance",reference:e,expects:t.name,async:!1,class:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:h(this,"type",e,t),e}}},t.integer=function e(t){return{kind:"validation",type:"integer",reference:e,async:!1,expects:null,requirement:Number.isInteger,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&h(this,"integer",e,t),e}}},t.intersect=function e(t,n){return{kind:"schema",type:"intersect",reference:e,expects:x(t.map(e=>e.expects),"&"),async:!1,options:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){if(this.options.length){let n;let a=e.value;for(let s of(e.typed=!0,this.options)){let r=s["~run"]({value:a},t);if(r.issues&&(e.issues?e.issues.push(...r.issues):e.issues=r.issues,t.abortEarly)){e.typed=!1;break}r.typed||(e.typed=!1),e.typed&&(n?n.push(r.value):n=[r.value])}if(e.typed){e.value=n[0];for(let a=1;a<n.length;a++){let s=ep(e.value,n[a]);if(s.issue){h(this,"type",e,t,{received:"unknown"});break}e.value=s.value}}}else h(this,"type",e,t);return e}}},t.intersectAsync=function e(t,n){return{kind:"schema",type:"intersect",reference:e,expects:x(t.map(e=>e.expects),"&"),async:!0,options:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){if(this.options.length){let n;let a=e.value;for(let s of(e.typed=!0,await Promise.all(this.options.map(e=>e["~run"]({value:a},t))))){if(s.issues&&(e.issues?e.issues.push(...s.issues):e.issues=s.issues,t.abortEarly)){e.typed=!1;break}s.typed||(e.typed=!1),e.typed&&(n?n.push(s.value):n=[s.value])}if(e.typed){e.value=n[0];for(let a=1;a<n.length;a++){let s=ep(e.value,n[a]);if(s.issue){h(this,"type",e,t,{received:"unknown"});break}e.value=s.value}}}else h(this,"type",e,t);return e}}},t.ip=function e(t){return{kind:"validation",type:"ip",reference:e,async:!1,expects:null,requirement:R,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"IP",e,t),e}}},t.ipv4=function e(t){return{kind:"validation",type:"ipv4",reference:e,async:!1,expects:null,requirement:q,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"IPv4",e,t),e}}},t.ipv6=function e(t){return{kind:"validation",type:"ipv6",reference:e,async:!1,expects:null,requirement:N,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"IPv6",e,t),e}}},t.is=function(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues},t.isOfKind=function(e,t){return t.kind===e},t.isOfType=function(e,t){return t.type===e},t.isValiError=function(e){return e instanceof E},t.isoDate=function e(t){return{kind:"validation",type:"iso_date",reference:e,async:!1,expects:null,requirement:B,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"date",e,t),e}}},t.isoDateTime=function e(t){return{kind:"validation",type:"iso_date_time",reference:e,async:!1,expects:null,requirement:U,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"date-time",e,t),e}}},t.isoTime=function e(t){return{kind:"validation",type:"iso_time",reference:e,async:!1,expects:null,requirement:F,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"time",e,t),e}}},t.isoTimeSecond=function e(t){return{kind:"validation",type:"iso_time_second",reference:e,async:!1,expects:null,requirement:V,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"time-second",e,t),e}}},t.isoTimestamp=function e(t){return{kind:"validation",type:"iso_timestamp",reference:e,async:!1,expects:null,requirement:z,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"timestamp",e,t),e}}},t.isoWeek=function e(t){return{kind:"validation",type:"iso_week",reference:e,async:!1,expects:null,requirement:L,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"week",e,t),e}}},t.keyof=function(e,t){return eg(Object.keys(e.entries),t)},t.lazy=function e(t){return{kind:"schema",type:"lazy",reference:e,expects:"unknown",async:!1,getter:t,get"~standard"(){return v(this)},"~run"(e,t){return this.getter(e.value)["~run"](e,t)}}},t.lazyAsync=function e(t){return{kind:"schema",type:"lazy",reference:e,expects:"unknown",async:!0,getter:t,get"~standard"(){return v(this)},async "~run"(e,t){return(await this.getter(e.value))["~run"](e,t)}}},t.length=function e(t,n){return{kind:"validation",type:"length",reference:e,async:!1,expects:`${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&e.value.length!==this.requirement&&h(this,"length",e,t,{received:`${e.value.length}`}),e}}},t.literal=function e(t,n){return{kind:"schema",type:"literal",reference:e,expects:m(t),async:!1,literal:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){return e.value===this.literal?e.typed=!0:h(this,"type",e,t),e}}},t.looseObject=function e(t,n){return{kind:"schema",type:"loose_object",reference:e,expects:"Object",async:!1,entries:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(n&&"object"==typeof n){for(let a in e.typed=!0,e.value={},this.entries){let s=this.entries[a];if(a in n||("exact_optional"===s.type||"optional"===s.type||"nullish"===s.type)&&void 0!==s.default){let r=a in n?n[a]:ei(s),i=s["~run"]({value:r},t);if(i.issues){let s={type:"object",origin:"value",input:n,key:a,value:r};for(let t of i.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value[a]=i.value}else if(void 0!==s.fallback)e.value[a]=er(s);else if("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type&&(h(this,"key",e,t,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:n,key:a,value:n[a]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in n)!k(n,t)||t in this.entries||(e.value[t]=n[t])}else h(this,"type",e,t);return e}}},t.looseObjectAsync=function e(t,n){return{kind:"schema",type:"loose_object",reference:e,expects:"Object",async:!0,entries:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(n&&"object"==typeof n){for(let[a,s,r,i]of(e.typed=!0,e.value={},await Promise.all(Object.entries(this.entries).map(async([e,a])=>{if(e in n||("exact_optional"===a.type||"optional"===a.type||"nullish"===a.type)&&void 0!==a.default){let s=e in n?n[e]:await ei(a);return[e,s,a,await a["~run"]({value:s},t)]}return[e,n[e],a,null]}))))if(i){if(i.issues){let r={type:"object",origin:"value",input:n,key:a,value:s};for(let t of i.issues)t.path?t.path.unshift(r):t.path=[r],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value[a]=i.value}else if(void 0!==r.fallback)e.value[a]=await er(r);else if("exact_optional"!==r.type&&"optional"!==r.type&&"nullish"!==r.type&&(h(this,"key",e,t,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:n,key:a,value:s}]}),t.abortEarly))break;if(!e.issues||!t.abortEarly)for(let t in n)!k(n,t)||t in this.entries||(e.value[t]=n[t])}else h(this,"type",e,t);return e}}},t.looseTuple=function e(t,n){return{kind:"schema",type:"loose_tuple",reference:e,expects:"Array",async:!1,items:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(let a=0;a<this.items.length;a++){let s=n[a],r=this.items[a]["~run"]({value:s},t);if(r.issues){let i={type:"array",origin:"value",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}r.typed||(e.typed=!1),e.value.push(r.value)}if(!e.issues||!t.abortEarly)for(let t=this.items.length;t<n.length;t++)e.value.push(n[t])}else h(this,"type",e,t);return e}}},t.looseTupleAsync=function e(t,n){return{kind:"schema",type:"loose_tuple",reference:e,expects:"Array",async:!0,items:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(Array.isArray(n)){for(let[a,s,r]of(e.typed=!0,e.value=[],await Promise.all(this.items.map(async(e,a)=>{let s=n[a];return[a,s,await e["~run"]({value:s},t)]})))){if(r.issues){let i={type:"array",origin:"value",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}r.typed||(e.typed=!1),e.value.push(r.value)}if(!e.issues||!t.abortEarly)for(let t=this.items.length;t<n.length;t++)e.value.push(n[t])}else h(this,"type",e,t);return e}}},t.ltValue=function e(t,n){return{kind:"validation",type:"lt_value",reference:e,async:!1,expects:`<${t instanceof Date?t.toJSON():m(t)}`,requirement:t,message:n,"~run"(e,t){return e.typed&&!(e.value<this.requirement)&&h(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():m(e.value)}),e}}},t.mac=function e(t){return{kind:"validation",type:"mac",reference:e,async:!1,expects:null,requirement:J,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"MAC",e,t),e}}},t.mac48=function e(t){return{kind:"validation",type:"mac48",reference:e,async:!1,expects:null,requirement:G,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"48-bit MAC",e,t),e}}},t.mac64=function e(t){return{kind:"validation",type:"mac64",reference:e,async:!1,expects:null,requirement:Q,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"64-bit MAC",e,t),e}}},t.map=function e(t,n,a){return{kind:"schema",type:"map",reference:e,expects:"Map",async:!1,key:t,value:n,message:a,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(n instanceof Map)for(let[a,s]of(e.typed=!0,e.value=new Map,n)){let r=this.key["~run"]({value:a},t);if(r.issues){let i={type:"map",origin:"key",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}let i=this.value["~run"]({value:s},t);if(i.issues){let r={type:"map",origin:"value",input:n,key:a,value:s};for(let t of i.issues)t.path?t.path.unshift(r):t.path=[r],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}r.typed&&i.typed||(e.typed=!1),e.value.set(r.value,i.value)}else h(this,"type",e,t);return e}}},t.mapAsync=function e(t,n,a){return{kind:"schema",type:"map",reference:e,expects:"Map",async:!0,key:t,value:n,message:a,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(n instanceof Map)for(let[a,s,r,i]of(e.typed=!0,e.value=new Map,await Promise.all([...n].map(([e,n])=>Promise.all([e,n,this.key["~run"]({value:e},t),this.value["~run"]({value:n},t)]))))){if(r.issues){let i={type:"map",origin:"key",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}if(i.issues){let r={type:"map",origin:"value",input:n,key:a,value:s};for(let t of i.issues)t.path?t.path.unshift(r):t.path=[r],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}r.typed&&i.typed||(e.typed=!1),e.value.set(r.value,i.value)}else h(this,"type",e,t);return e}}},t.mapItems=function e(t){return{kind:"transformation",type:"map_items",reference:e,async:!1,operation:t,"~run"(e){return e.value=e.value.map(this.operation),e}}},t.maxBytes=function e(t,n){return{kind:"validation",type:"max_bytes",reference:e,async:!1,expects:`<=${t}`,requirement:t,message:n,"~run"(e,t){if(e.typed){let n=y(e.value);n>this.requirement&&h(this,"bytes",e,t,{received:`${n}`})}return e}}},t.maxEntries=function e(t,n){return{kind:"validation",type:"max_entries",reference:e,async:!1,expects:`<=${t}`,requirement:t,message:n,"~run"(e,t){if(!e.typed)return e;let n=Object.keys(e.value).length;return e.typed&&n>this.requirement&&h(this,"entries",e,t,{received:`${n}`}),e}}},t.maxGraphemes=function e(t,n){return{kind:"validation",type:"max_graphemes",reference:e,async:!1,expects:`<=${t}`,requirement:t,message:n,"~run"(e,t){if(e.typed){let n=f(e.value);n>this.requirement&&h(this,"graphemes",e,t,{received:`${n}`})}return e}}},t.maxLength=function e(t,n){return{kind:"validation",type:"max_length",reference:e,async:!1,expects:`<=${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&e.value.length>this.requirement&&h(this,"length",e,t,{received:`${e.value.length}`}),e}}},t.maxSize=function e(t,n){return{kind:"validation",type:"max_size",reference:e,async:!1,expects:`<=${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&e.value.size>this.requirement&&h(this,"size",e,t,{received:`${e.value.size}`}),e}}},t.maxValue=function e(t,n){return{kind:"validation",type:"max_value",reference:e,async:!1,expects:`<=${t instanceof Date?t.toJSON():m(t)}`,requirement:t,message:n,"~run"(e,t){return e.typed&&!(e.value<=this.requirement)&&h(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():m(e.value)}),e}}},t.maxWords=function e(t,n,a){return{kind:"validation",type:"max_words",reference:e,async:!1,expects:`<=${n}`,locales:t,requirement:n,message:a,"~run"(e,t){if(e.typed){let n=b(this.locales,e.value);n>this.requirement&&h(this,"words",e,t,{received:`${n}`})}return e}}},t.message=function(e,t){return{...e,get"~standard"(){return v(this)},"~run":(n,a)=>e["~run"](n,{...a,message:t})}},t.metadata=function e(t){return{kind:"metadata",type:"metadata",reference:e,metadata:t}},t.mimeType=function e(t,n){return{kind:"validation",type:"mime_type",reference:e,async:!1,expects:x(t.map(e=>`"${e}"`),"|"),requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement.includes(e.value.type)&&h(this,"MIME type",e,t,{received:`"${e.value.type}"`}),e}}},t.minBytes=function e(t,n){return{kind:"validation",type:"min_bytes",reference:e,async:!1,expects:`>=${t}`,requirement:t,message:n,"~run"(e,t){if(e.typed){let n=y(e.value);n<this.requirement&&h(this,"bytes",e,t,{received:`${n}`})}return e}}},t.minEntries=function e(t,n){return{kind:"validation",type:"min_entries",reference:e,async:!1,expects:`>=${t}`,requirement:t,message:n,"~run"(e,t){if(!e.typed)return e;let n=Object.keys(e.value).length;return e.typed&&n<this.requirement&&h(this,"entries",e,t,{received:`${n}`}),e}}},t.minGraphemes=function e(t,n){return{kind:"validation",type:"min_graphemes",reference:e,async:!1,expects:`>=${t}`,requirement:t,message:n,"~run"(e,t){if(e.typed){let n=f(e.value);n<this.requirement&&h(this,"graphemes",e,t,{received:`${n}`})}return e}}},t.minLength=function e(t,n){return{kind:"validation",type:"min_length",reference:e,async:!1,expects:`>=${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&e.value.length<this.requirement&&h(this,"length",e,t,{received:`${e.value.length}`}),e}}},t.minSize=function e(t,n){return{kind:"validation",type:"min_size",reference:e,async:!1,expects:`>=${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&e.value.size<this.requirement&&h(this,"size",e,t,{received:`${e.value.size}`}),e}}},t.minValue=function e(t,n){return{kind:"validation",type:"min_value",reference:e,async:!1,expects:`>=${t instanceof Date?t.toJSON():m(t)}`,requirement:t,message:n,"~run"(e,t){return e.typed&&!(e.value>=this.requirement)&&h(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():m(e.value)}),e}}},t.minWords=function e(t,n,a){return{kind:"validation",type:"min_words",reference:e,async:!1,expects:`>=${n}`,locales:t,requirement:n,message:a,"~run"(e,t){if(e.typed){let n=b(this.locales,e.value);n<this.requirement&&h(this,"words",e,t,{received:`${n}`})}return e}}},t.multipleOf=function e(t,n){return{kind:"validation",type:"multiple_of",reference:e,async:!1,expects:`%${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&e.value%this.requirement!=0&&h(this,"multiple",e,t),e}}},t.nan=function e(t){return{kind:"schema",type:"nan",reference:e,expects:"NaN",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return Number.isNaN(e.value)?e.typed=!0:h(this,"type",e,t),e}}},t.nanoid=function e(t){return{kind:"validation",type:"nanoid",reference:e,async:!1,expects:null,requirement:X,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"Nano ID",e,t),e}}},t.never=function e(t){return{kind:"schema",type:"never",reference:e,expects:"never",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return h(this,"type",e,t),e}}},t.nonEmpty=function e(t){return{kind:"validation",type:"non_empty",reference:e,async:!1,expects:"!0",message:t,"~run"(e,t){return e.typed&&0===e.value.length&&h(this,"length",e,t,{received:"0"}),e}}},t.nonNullable=function e(t,n){return{kind:"schema",type:"non_nullable",reference:e,expects:"!null",async:!1,wrapped:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){return null!==e.value&&(e=this.wrapped["~run"](e,t)),null===e.value&&h(this,"type",e,t),e}}},t.nonNullableAsync=function e(t,n){return{kind:"schema",type:"non_nullable",reference:e,expects:"!null",async:!0,wrapped:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){return null!==e.value&&(e=await this.wrapped["~run"](e,t)),null===e.value&&h(this,"type",e,t),e}}},t.nonNullish=function e(t,n){return{kind:"schema",type:"non_nullish",reference:e,expects:"(!null & !undefined)",async:!1,wrapped:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){return null===e.value||void 0===e.value||(e=this.wrapped["~run"](e,t)),(null===e.value||void 0===e.value)&&h(this,"type",e,t),e}}},t.nonNullishAsync=function e(t,n){return{kind:"schema",type:"non_nullish",reference:e,expects:"(!null & !undefined)",async:!0,wrapped:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){return null===e.value||void 0===e.value||(e=await this.wrapped["~run"](e,t)),(null===e.value||void 0===e.value)&&h(this,"type",e,t),e}}},t.nonOptional=ed,t.nonOptionalAsync=em,t.normalize=function e(t){return{kind:"transformation",type:"normalize",reference:e,async:!1,form:t,"~run"(e){return e.value=e.value.normalize(this.form),e}}},t.notBytes=function e(t,n){return{kind:"validation",type:"not_bytes",reference:e,async:!1,expects:`!${t}`,requirement:t,message:n,"~run"(e,t){if(e.typed){let n=y(e.value);n===this.requirement&&h(this,"bytes",e,t,{received:`${n}`})}return e}}},t.notEntries=function e(t,n){return{kind:"validation",type:"not_entries",reference:e,async:!1,expects:`!${t}`,requirement:t,message:n,"~run"(e,t){if(!e.typed)return e;let n=Object.keys(e.value).length;return e.typed&&n===this.requirement&&h(this,"entries",e,t,{received:`${n}`}),e}}},t.notGraphemes=function e(t,n){return{kind:"validation",type:"not_graphemes",reference:e,async:!1,expects:`!${t}`,requirement:t,message:n,"~run"(e,t){if(e.typed){let n=f(e.value);n===this.requirement&&h(this,"graphemes",e,t,{received:`${n}`})}return e}}},t.notLength=function e(t,n){return{kind:"validation",type:"not_length",reference:e,async:!1,expects:`!${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&e.value.length===this.requirement&&h(this,"length",e,t,{received:`${e.value.length}`}),e}}},t.notSize=function e(t,n){return{kind:"validation",type:"not_size",reference:e,async:!1,expects:`!${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&e.value.size===this.requirement&&h(this,"size",e,t,{received:`${e.value.size}`}),e}}},t.notValue=function e(t,n){return{kind:"validation",type:"not_value",reference:e,async:!1,expects:t instanceof Date?`!${t.toJSON()}`:`!${m(t)}`,requirement:t,message:n,"~run"(e,t){return e.typed&&this.requirement<=e.value&&this.requirement>=e.value&&h(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():m(e.value)}),e}}},t.notValues=function e(t,n){return{kind:"validation",type:"not_values",reference:e,async:!1,expects:`!${x(t.map(e=>e instanceof Date?e.toJSON():m(e)),"|")}`,requirement:t,message:n,"~run"(e,t){return e.typed&&this.requirement.some(t=>t<=e.value&&t>=e.value)&&h(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():m(e.value)}),e}}},t.notWords=function e(t,n,a){return{kind:"validation",type:"not_words",reference:e,async:!1,expects:`!${n}`,locales:t,requirement:n,message:a,"~run"(e,t){if(e.typed){let n=b(this.locales,e.value);n===this.requirement&&h(this,"words",e,t,{received:`${n}`})}return e}}},t.null=eh,t.null_=eh,t.nullable=function e(t,n){return{kind:"schema",type:"nullable",reference:e,expects:`(${t.expects} | null)`,async:!1,wrapped:t,default:n,get"~standard"(){return v(this)},"~run"(e,t){return null===e.value&&(void 0!==this.default&&(e.value=ei(this,e,t)),null===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}},t.nullableAsync=function e(t,n){return{kind:"schema",type:"nullable",reference:e,expects:`(${t.expects} | null)`,async:!0,wrapped:t,default:n,get"~standard"(){return v(this)},async "~run"(e,t){return null===e.value&&(void 0!==this.default&&(e.value=await ei(this,e,t)),null===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}},t.nullish=function e(t,n){return{kind:"schema",type:"nullish",reference:e,expects:`(${t.expects} | null | undefined)`,async:!1,wrapped:t,default:n,get"~standard"(){return v(this)},"~run"(e,t){return(null===e.value||void 0===e.value)&&(void 0!==this.default&&(e.value=ei(this,e,t)),null===e.value||void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}},t.nullishAsync=function e(t,n){return{kind:"schema",type:"nullish",reference:e,expects:`(${t.expects} | null | undefined)`,async:!0,wrapped:t,default:n,get"~standard"(){return v(this)},async "~run"(e,t){return(null===e.value||void 0===e.value)&&(void 0!==this.default&&(e.value=await ei(this,e,t)),null===e.value||void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}},t.number=function e(t){return{kind:"schema",type:"number",reference:e,expects:"number",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?h(this,"type",e,t):e.typed=!0,e}}},t.object=function e(t,n){return{kind:"schema",type:"object",reference:e,expects:"Object",async:!1,entries:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(n&&"object"==typeof n)for(let a in e.typed=!0,e.value={},this.entries){let s=this.entries[a];if(a in n||("exact_optional"===s.type||"optional"===s.type||"nullish"===s.type)&&void 0!==s.default){let r=a in n?n[a]:ei(s),i=s["~run"]({value:r},t);if(i.issues){let s={type:"object",origin:"value",input:n,key:a,value:r};for(let t of i.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value[a]=i.value}else if(void 0!==s.fallback)e.value[a]=er(s);else if("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type&&(h(this,"key",e,t,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:n,key:a,value:n[a]}]}),t.abortEarly))break}else h(this,"type",e,t);return e}}},t.objectAsync=function e(t,n){return{kind:"schema",type:"object",reference:e,expects:"Object",async:!0,entries:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(n&&"object"==typeof n){for(let[a,s,r,i]of(e.typed=!0,e.value={},await Promise.all(Object.entries(this.entries).map(async([e,a])=>{if(e in n||("exact_optional"===a.type||"optional"===a.type||"nullish"===a.type)&&void 0!==a.default){let s=e in n?n[e]:await ei(a);return[e,s,a,await a["~run"]({value:s},t)]}return[e,n[e],a,null]}))))if(i){if(i.issues){let r={type:"object",origin:"value",input:n,key:a,value:s};for(let t of i.issues)t.path?t.path.unshift(r):t.path=[r],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value[a]=i.value}else if(void 0!==r.fallback)e.value[a]=await er(r);else if("exact_optional"!==r.type&&"optional"!==r.type&&"nullish"!==r.type&&(h(this,"key",e,t,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:n,key:a,value:s}]}),t.abortEarly))break}else h(this,"type",e,t);return e}}},t.objectWithRest=function e(t,n,a){return{kind:"schema",type:"object_with_rest",reference:e,expects:"Object",async:!1,entries:t,rest:n,message:a,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(n&&"object"==typeof n){for(let a in e.typed=!0,e.value={},this.entries){let s=this.entries[a];if(a in n||("exact_optional"===s.type||"optional"===s.type||"nullish"===s.type)&&void 0!==s.default){let r=a in n?n[a]:ei(s),i=s["~run"]({value:r},t);if(i.issues){let s={type:"object",origin:"value",input:n,key:a,value:r};for(let t of i.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value[a]=i.value}else if(void 0!==s.fallback)e.value[a]=er(s);else if("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type&&(h(this,"key",e,t,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:n,key:a,value:n[a]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly){for(let a in n)if(k(n,a)&&!(a in this.entries)){let s=this.rest["~run"]({value:n[a]},t);if(s.issues){let r={type:"object",origin:"value",input:n,key:a,value:n[a]};for(let t of s.issues)t.path?t.path.unshift(r):t.path=[r],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value[a]=s.value}}}else h(this,"type",e,t);return e}}},t.objectWithRestAsync=function e(t,n,a){return{kind:"schema",type:"object_with_rest",reference:e,expects:"Object",async:!0,entries:t,rest:n,message:a,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(n&&"object"==typeof n){e.typed=!0,e.value={};let[a,s]=await Promise.all([Promise.all(Object.entries(this.entries).map(async([e,a])=>{if(e in n||("exact_optional"===a.type||"optional"===a.type||"nullish"===a.type)&&void 0!==a.default){let s=e in n?n[e]:await ei(a);return[e,s,a,await a["~run"]({value:s},t)]}return[e,n[e],a,null]})),Promise.all(Object.entries(n).filter(([e])=>k(n,e)&&!(e in this.entries)).map(async([e,n])=>[e,n,await this.rest["~run"]({value:n},t)]))]);for(let[s,r,i,o]of a)if(o){if(o.issues){let a={type:"object",origin:"value",input:n,key:s,value:r};for(let t of o.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[s]=o.value}else if(void 0!==i.fallback)e.value[s]=await er(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(h(this,"key",e,t,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:n,key:s,value:r}]}),t.abortEarly))break;if(!e.issues||!t.abortEarly)for(let[a,r,i]of s){if(i.issues){let s={type:"object",origin:"value",input:n,key:a,value:r};for(let t of i.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value[a]=i.value}}else h(this,"type",e,t);return e}}},t.octal=function e(t){return{kind:"validation",type:"octal",reference:e,async:!1,expects:null,requirement:W,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"octal",e,t),e}}},t.omit=function(e,t){let n={...e.entries};for(let e of t)delete n[e];return{...e,entries:n,get"~standard"(){return v(this)}}},t.optional=ey,t.optionalAsync=ef,t.parse=e_,t.parseAsync=ek,t.parseJson=function e(t,n){return{kind:"transformation",type:"parse_json",reference:e,config:t,message:n,async:!1,"~run"(e,t){try{e.value=JSON.parse(e.value,this.config?.reviver)}catch(n){if(n instanceof Error)h(this,"JSON",e,t,{received:`"${n.message}"`}),e.typed=!1;else throw n}return e}}},t.parser=function(e,t){let n=n=>e_(e,n,t);return n.schema=e,n.config=t,n},t.parserAsync=function(e,t){let n=n=>ek(e,n,t);return n.schema=e,n.config=t,n},t.partial=function(e,t){let n={};for(let a in e.entries)n[a]=!t||t.includes(a)?ey(e.entries[a]):e.entries[a];return{...e,entries:n,get"~standard"(){return v(this)}}},t.partialAsync=function(e,t){let n={};for(let a in e.entries)n[a]=!t||t.includes(a)?ef(e.entries[a]):e.entries[a];return{...e,entries:n,get"~standard"(){return v(this)}}},t.partialCheck=function e(t,n,a){return{kind:"validation",type:"partial_check",reference:e,async:!1,expects:null,paths:t,requirement:n,message:a,"~run"(e,n){return(e.typed||es(e,t))&&!this.requirement(e.value)&&h(this,"input",e,n),e}}},t.partialCheckAsync=function e(t,n,a){return{kind:"validation",type:"partial_check",reference:e,async:!0,expects:null,paths:t,requirement:n,message:a,async "~run"(e,n){return(e.typed||es(e,t))&&!await this.requirement(e.value)&&h(this,"input",e,n),e}}},t.pick=function(e,t){let n={};for(let a of t)n[a]=e.entries[a];return{...e,entries:n,get"~standard"(){return v(this)}}},t.picklist=eg,t.pipe=function(...e){return{...e[0],pipe:e,get"~standard"(){return v(this)},"~run"(t,n){for(let a of e)if("metadata"!==a.kind){if(t.issues&&("schema"===a.kind||"transformation"===a.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=a["~run"](t,n))}return t}}},t.pipeAsync=function(...e){return{...e[0],pipe:e,async:!0,get"~standard"(){return v(this)},async "~run"(t,n){for(let a of e)if("metadata"!==a.kind){if(t.issues&&("schema"===a.kind||"transformation"===a.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=await a["~run"](t,n))}return t}}},t.promise=function e(t){return{kind:"schema",type:"promise",reference:e,expects:"Promise",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return e.value instanceof Promise?e.typed=!0:h(this,"type",e,t),e}}},t.rawCheck=function e(t){return{kind:"validation",type:"raw_check",reference:e,async:!1,expects:null,"~run"(e,n){return t({dataset:e,config:n,addIssue:t=>h(this,t?.label??"input",e,n,t)}),e}}},t.rawCheckAsync=function e(t){return{kind:"validation",type:"raw_check",reference:e,async:!0,expects:null,async "~run"(e,n){return await t({dataset:e,config:n,addIssue:t=>h(this,t?.label??"input",e,n,t)}),e}}},t.rawTransform=function e(t){return{kind:"transformation",type:"raw_transform",reference:e,async:!1,"~run"(e,n){let a=t({dataset:e,config:n,addIssue:t=>h(this,t?.label??"input",e,n,t),NEVER:null});return e.issues?e.typed=!1:e.value=a,e}}},t.rawTransformAsync=function e(t){return{kind:"transformation",type:"raw_transform",reference:e,async:!0,async "~run"(e,n){let a=await t({dataset:e,config:n,addIssue:t=>h(this,t?.label??"input",e,n,t),NEVER:null});return e.issues?e.typed=!1:e.value=a,e}}},t.readonly=function e(){return{kind:"transformation",type:"readonly",reference:e,async:!1,"~run":e=>e}},t.record=function e(t,n,a){return{kind:"schema",type:"record",reference:e,expects:"Object",async:!1,key:t,value:n,message:a,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(n&&"object"==typeof n){for(let a in e.typed=!0,e.value={},n)if(k(n,a)){let s=n[a],r=this.key["~run"]({value:a},t);if(r.issues){let i={type:"object",origin:"key",input:n,key:a,value:s};for(let t of r.issues)t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}let i=this.value["~run"]({value:s},t);if(i.issues){let r={type:"object",origin:"value",input:n,key:a,value:s};for(let t of i.issues)t.path?t.path.unshift(r):t.path=[r],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}r.typed&&i.typed||(e.typed=!1),r.typed&&(e.value[r.value]=i.value)}}else h(this,"type",e,t);return e}}},t.recordAsync=function e(t,n,a){return{kind:"schema",type:"record",reference:e,expects:"Object",async:!0,key:t,value:n,message:a,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(n&&"object"==typeof n)for(let[a,s,r,i]of(e.typed=!0,e.value={},await Promise.all(Object.entries(n).filter(([e])=>k(n,e)).map(([e,n])=>Promise.all([e,n,this.key["~run"]({value:e},t),this.value["~run"]({value:n},t)]))))){if(r.issues){let i={type:"object",origin:"key",input:n,key:a,value:s};for(let t of r.issues)t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}if(i.issues){let r={type:"object",origin:"value",input:n,key:a,value:s};for(let t of i.issues)t.path?t.path.unshift(r):t.path=[r],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}r.typed&&i.typed||(e.typed=!1),r.typed&&(e.value[r.value]=i.value)}else h(this,"type",e,t);return e}}},t.reduceItems=function e(t,n){return{kind:"transformation",type:"reduce_items",reference:e,async:!1,operation:t,initial:n,"~run"(e){return e.value=e.value.reduce(this.operation,this.initial),e}}},t.regex=function e(t,n){return{kind:"validation",type:"regex",reference:e,async:!1,expects:`${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"format",e,t),e}}},t.required=function(e,t,n){let a=Array.isArray(t)?t:void 0,s=Array.isArray(t)?n:t,r={};for(let t in e.entries)r[t]=!a||a.includes(t)?ed(e.entries[t],s):e.entries[t];return{...e,entries:r,get"~standard"(){return v(this)}}},t.requiredAsync=function(e,t,n){let a=Array.isArray(t)?t:void 0,s=Array.isArray(t)?n:t,r={};for(let t in e.entries)r[t]=!a||a.includes(t)?em(e.entries[t],s):e.entries[t];return{...e,entries:r,get"~standard"(){return v(this)}}},t.returns=function e(t){return{kind:"transformation",type:"returns",reference:e,async:!1,schema:t,"~run"(e,t){let n=e.value;return e.value=(...e)=>{let a=this.schema["~run"]({value:n(...e)},t);if(a.issues)throw new E(a.issues);return a.value},e}}},t.returnsAsync=function e(t){return{kind:"transformation",type:"returns",reference:e,async:!1,schema:t,"~run"(e,t){let n=e.value;return e.value=async(...e)=>{let a=await this.schema["~run"]({value:await n(...e)},t);if(a.issues)throw new E(a.issues);return a.value},e}}},t.rfcEmail=function e(t){return{kind:"validation",type:"rfc_email",reference:e,expects:null,async:!1,requirement:H,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"email",e,t),e}}},t.safeInteger=function e(t){return{kind:"validation",type:"safe_integer",reference:e,async:!1,expects:null,requirement:Number.isSafeInteger,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&h(this,"safe integer",e,t),e}}},t.safeParse=ex,t.safeParseAsync=ej,t.safeParser=function(e,t){let n=n=>ex(e,n,t);return n.schema=e,n.config=t,n},t.safeParserAsync=function(e,t){let n=n=>ej(e,n,t);return n.schema=e,n.config=t,n},t.set=function e(t,n){return{kind:"schema",type:"set",reference:e,expects:"Set",async:!1,value:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(n instanceof Set)for(let a of(e.typed=!0,e.value=new Set,n)){let s=this.value["~run"]({value:a},t);if(s.issues){let r={type:"set",origin:"value",input:n,key:null,value:a};for(let t of s.issues)t.path?t.path.unshift(r):t.path=[r],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.add(s.value)}else h(this,"type",e,t);return e}}},t.setAsync=function e(t,n){return{kind:"schema",type:"set",reference:e,expects:"Set",async:!0,value:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(n instanceof Set)for(let[a,s]of(e.typed=!0,e.value=new Set,await Promise.all([...n].map(async e=>[e,await this.value["~run"]({value:e},t)])))){if(s.issues){let r={type:"set",origin:"value",input:n,key:null,value:a};for(let t of s.issues)t.path?t.path.unshift(r):t.path=[r],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.add(s.value)}else h(this,"type",e,t);return e}}},t.setGlobalConfig=function(e){n={...n,...e}},t.setGlobalMessage=function(e,t){a||(a=new Map),a.set(t,e)},t.setSchemaMessage=function(e,t){s||(s=new Map),s.set(t,e)},t.setSpecificMessage=function(e,t,n){r||(r=new Map),r.get(e)||r.set(e,new Map),r.get(e).set(n,t)},t.size=function e(t,n){return{kind:"validation",type:"size",reference:e,async:!1,expects:`${t}`,requirement:t,message:n,"~run"(e,t){return e.typed&&e.value.size!==this.requirement&&h(this,"size",e,t,{received:`${e.value.size}`}),e}}},t.slug=function e(t){return{kind:"validation",type:"slug",reference:e,async:!1,expects:null,requirement:Z,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"slug",e,t),e}}},t.someItem=function e(t,n){return{kind:"validation",type:"some_item",reference:e,async:!1,expects:null,requirement:t,message:n,"~run"(e,t){return e.typed&&!e.value.some(this.requirement)&&h(this,"item",e,t),e}}},t.sortItems=function e(t){return{kind:"transformation",type:"sort_items",reference:e,async:!1,operation:t,"~run"(e){return e.value=e.value.sort(this.operation),e}}},t.startsWith=function e(t,n){return{kind:"validation",type:"starts_with",reference:e,async:!1,expects:`"${t}"`,requirement:t,message:n,"~run"(e,t){return e.typed&&!e.value.startsWith(this.requirement)&&h(this,"start",e,t,{received:`"${e.value.slice(0,this.requirement.length)}"`}),e}}},t.strictObject=function e(t,n){return{kind:"schema",type:"strict_object",reference:e,expects:"Object",async:!1,entries:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(n&&"object"==typeof n){for(let a in e.typed=!0,e.value={},this.entries){let s=this.entries[a];if(a in n||("exact_optional"===s.type||"optional"===s.type||"nullish"===s.type)&&void 0!==s.default){let r=a in n?n[a]:ei(s),i=s["~run"]({value:r},t);if(i.issues){let s={type:"object",origin:"value",input:n,key:a,value:r};for(let t of i.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value[a]=i.value}else if(void 0!==s.fallback)e.value[a]=er(s);else if("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type&&(h(this,"key",e,t,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:n,key:a,value:n[a]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly){for(let a in n)if(!(a in this.entries)){h(this,"key",e,t,{input:a,expected:"never",path:[{type:"object",origin:"key",input:n,key:a,value:n[a]}]});break}}}else h(this,"type",e,t);return e}}},t.strictObjectAsync=function e(t,n){return{kind:"schema",type:"strict_object",reference:e,expects:"Object",async:!0,entries:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(n&&"object"==typeof n){for(let[a,s,r,i]of(e.typed=!0,e.value={},await Promise.all(Object.entries(this.entries).map(async([e,a])=>{if(e in n||("exact_optional"===a.type||"optional"===a.type||"nullish"===a.type)&&void 0!==a.default){let s=e in n?n[e]:await ei(a);return[e,s,a,await a["~run"]({value:s},t)]}return[e,n[e],a,null]}))))if(i){if(i.issues){let r={type:"object",origin:"value",input:n,key:a,value:s};for(let t of i.issues)t.path?t.path.unshift(r):t.path=[r],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value[a]=i.value}else if(void 0!==r.fallback)e.value[a]=await er(r);else if("exact_optional"!==r.type&&"optional"!==r.type&&"nullish"!==r.type&&(h(this,"key",e,t,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:n,key:a,value:s}]}),t.abortEarly))break;if(!e.issues||!t.abortEarly){for(let a in n)if(!(a in this.entries)){h(this,"key",e,t,{input:a,expected:"never",path:[{type:"object",origin:"key",input:n,key:a,value:n[a]}]});break}}}else h(this,"type",e,t);return e}}},t.strictTuple=function e(t,n){return{kind:"schema",type:"strict_tuple",reference:e,expects:"Array",async:!1,items:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(let a=0;a<this.items.length;a++){let s=n[a],r=this.items[a]["~run"]({value:s},t);if(r.issues){let i={type:"array",origin:"value",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}r.typed||(e.typed=!1),e.value.push(r.value)}!(e.issues&&t.abortEarly)&&this.items.length<n.length&&h(this,"type",e,t,{input:n[this.items.length],expected:"never",path:[{type:"array",origin:"value",input:n,key:this.items.length,value:n[this.items.length]}]})}else h(this,"type",e,t);return e}}},t.strictTupleAsync=function e(t,n){return{kind:"schema",type:"strict_tuple",reference:e,expects:"Array",async:!0,items:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(Array.isArray(n)){for(let[a,s,r]of(e.typed=!0,e.value=[],await Promise.all(this.items.map(async(e,a)=>{let s=n[a];return[a,s,await e["~run"]({value:s},t)]})))){if(r.issues){let i={type:"array",origin:"value",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}r.typed||(e.typed=!1),e.value.push(r.value)}!(e.issues&&t.abortEarly)&&this.items.length<n.length&&h(this,"type",e,t,{input:n[this.items.length],expected:"never",path:[{type:"array",origin:"value",input:n,key:this.items.length,value:n[this.items.length]}]})}else h(this,"type",e,t);return e}}},t.string=function e(t){return{kind:"schema",type:"string",reference:e,expects:"string",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:h(this,"type",e,t),e}}},t.stringifyJson=function e(t,n){return{kind:"transformation",type:"stringify_json",reference:e,message:n,config:t,async:!1,"~run"(e,t){try{let n=JSON.stringify(e.value,this.config?.replacer,this.config?.space);void 0===n&&(h(this,"JSON",e,t),e.typed=!1),e.value=n}catch(n){if(n instanceof Error)h(this,"JSON",e,t,{received:`"${n.message}"`}),e.typed=!1;else throw n}return e}}},t.summarize=function(e){let t="";for(let n of e){t&&(t+="\n"),t+=`\xd7 ${n.message}`;let e=j(n);e&&(t+=`
   at ${e}`)}return t},t.symbol=function e(t){return{kind:"schema",type:"symbol",reference:e,expects:"symbol",async:!1,message:t,get"~standard"(){return v(this)},"~run"(e,t){return"symbol"==typeof e.value?e.typed=!0:h(this,"type",e,t),e}}},t.title=function e(t){return{kind:"metadata",type:"title",reference:e,title:t}},t.toBigint=function e(t){return{kind:"transformation",type:"to_bigint",reference:e,async:!1,message:t,"~run"(e,t){try{e.value=BigInt(e.value)}catch{h(this,"bigint",e,t),e.typed=!1}return e}}},t.toBoolean=function e(){return{kind:"transformation",type:"to_boolean",reference:e,async:!1,"~run":e=>(e.value=!!e.value,e)}},t.toDate=function e(t){return{kind:"transformation",type:"to_date",reference:e,async:!1,message:t,"~run"(e,t){try{e.value=new Date(e.value),isNaN(e.value)&&(h(this,"date",e,t,{received:'"Invalid Date"'}),e.typed=!1)}catch{h(this,"date",e,t),e.typed=!1}return e}}},t.toLowerCase=function e(){return{kind:"transformation",type:"to_lower_case",reference:e,async:!1,"~run":e=>(e.value=e.value.toLowerCase(),e)}},t.toMaxValue=function e(t){return{kind:"transformation",type:"to_max_value",reference:e,async:!1,requirement:t,"~run"(e){return e.value=e.value>this.requirement?this.requirement:e.value,e}}},t.toMinValue=function e(t){return{kind:"transformation",type:"to_min_value",reference:e,async:!1,requirement:t,"~run"(e){return e.value=e.value<this.requirement?this.requirement:e.value,e}}},t.toNumber=function e(t){return{kind:"transformation",type:"to_number",reference:e,async:!1,message:t,"~run"(e,t){try{e.value=Number(e.value),isNaN(e.value)&&(h(this,"number",e,t),e.typed=!1)}catch{h(this,"number",e,t),e.typed=!1}return e}}},t.toString=function e(t){return{kind:"transformation",type:"to_string",reference:e,async:!1,message:t,"~run"(e,t){try{e.value=String(e.value)}catch{h(this,"string",e,t),e.typed=!1}return e}}},t.toUpperCase=function e(){return{kind:"transformation",type:"to_upper_case",reference:e,async:!1,"~run":e=>(e.value=e.value.toUpperCase(),e)}},t.transform=function e(t){return{kind:"transformation",type:"transform",reference:e,async:!1,operation:t,"~run"(e){return e.value=this.operation(e.value),e}}},t.transformAsync=function e(t){return{kind:"transformation",type:"transform",reference:e,async:!0,operation:t,async "~run"(e){return e.value=await this.operation(e.value),e}}},t.trim=function e(){return{kind:"transformation",type:"trim",reference:e,async:!1,"~run":e=>(e.value=e.value.trim(),e)}},t.trimEnd=function e(){return{kind:"transformation",type:"trim_end",reference:e,async:!1,"~run":e=>(e.value=e.value.trimEnd(),e)}},t.trimStart=function e(){return{kind:"transformation",type:"trim_start",reference:e,async:!1,"~run":e=>(e.value=e.value.trimStart(),e)}},t.tuple=function e(t,n){return{kind:"schema",type:"tuple",reference:e,expects:"Array",async:!1,items:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(let a=0;a<this.items.length;a++){let s=n[a],r=this.items[a]["~run"]({value:s},t);if(r.issues){let i={type:"array",origin:"value",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}r.typed||(e.typed=!1),e.value.push(r.value)}}else h(this,"type",e,t);return e}}},t.tupleAsync=function e(t,n){return{kind:"schema",type:"tuple",reference:e,expects:"Array",async:!0,items:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(Array.isArray(n))for(let[a,s,r]of(e.typed=!0,e.value=[],await Promise.all(this.items.map(async(e,a)=>{let s=n[a];return[a,s,await e["~run"]({value:s},t)]})))){if(r.issues){let i={type:"array",origin:"value",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}r.typed||(e.typed=!1),e.value.push(r.value)}else h(this,"type",e,t);return e}}},t.tupleWithRest=function e(t,n,a){return{kind:"schema",type:"tuple_with_rest",reference:e,expects:"Array",async:!1,items:t,rest:n,message:a,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(let a=0;a<this.items.length;a++){let s=n[a],r=this.items[a]["~run"]({value:s},t);if(r.issues){let i={type:"array",origin:"value",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}r.typed||(e.typed=!1),e.value.push(r.value)}if(!e.issues||!t.abortEarly)for(let a=this.items.length;a<n.length;a++){let s=n[a],r=this.rest["~run"]({value:s},t);if(r.issues){let i={type:"array",origin:"value",input:n,key:a,value:s};for(let t of r.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=r.issues),t.abortEarly){e.typed=!1;break}}r.typed||(e.typed=!1),e.value.push(r.value)}}else h(this,"type",e,t);return e}}},t.tupleWithRestAsync=function e(t,n,a){return{kind:"schema",type:"tuple_with_rest",reference:e,expects:"Array",async:!0,items:t,rest:n,message:a,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];let[a,s]=await Promise.all([Promise.all(this.items.map(async(e,a)=>{let s=n[a];return[a,s,await e["~run"]({value:s},t)]})),Promise.all(n.slice(this.items.length).map(async(e,n)=>[n+this.items.length,e,await this.rest["~run"]({value:e},t)]))]);for(let[s,r,i]of a){if(i.issues){let a={type:"array",origin:"value",input:n,key:s,value:r};for(let t of i.issues)t.path?t.path.unshift(a):t.path=[a],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value.push(i.value)}if(!e.issues||!t.abortEarly)for(let[a,r,i]of s){if(i.issues){let s={type:"array",origin:"value",input:n,key:a,value:r};for(let t of i.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value.push(i.value)}}else h(this,"type",e,t);return e}}},t.ulid=function e(t){return{kind:"validation",type:"ulid",reference:e,async:!1,expects:null,requirement:Y,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"ULID",e,t),e}}},t.undefined=ev,t.undefined_=ev,t.undefinedable=function e(t,n){return{kind:"schema",type:"undefinedable",reference:e,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,default:n,get"~standard"(){return v(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=ei(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}},t.undefinedableAsync=function e(t,n){return{kind:"schema",type:"undefinedable",reference:e,expects:`(${t.expects} | undefined)`,async:!0,wrapped:t,default:n,get"~standard"(){return v(this)},async "~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=await ei(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}},t.union=function e(t,n){return{kind:"schema",type:"union",reference:e,expects:x(t.map(e=>e.expects),"|"),async:!1,options:t,message:n,get"~standard"(){return v(this)},"~run"(e,t){let n,a,s;for(let r of this.options){let i=r["~run"]({value:e.value},t);if(i.typed){if(i.issues)a?a.push(i):a=[i];else{n=i;break}}else s?s.push(i):s=[i]}if(n)return n;if(a){if(1===a.length)return a[0];h(this,"type",e,t,{issues:eb(a)}),e.typed=!0}else{if(s?.length===1)return s[0];h(this,"type",e,t,{issues:eb(s)})}return e}}},t.unionAsync=function e(t,n){return{kind:"schema",type:"union",reference:e,expects:x(t.map(e=>e.expects),"|"),async:!0,options:t,message:n,get"~standard"(){return v(this)},async "~run"(e,t){let n,a,s;for(let r of this.options){let i=await r["~run"]({value:e.value},t);if(i.typed){if(i.issues)a?a.push(i):a=[i];else{n=i;break}}else s?s.push(i):s=[i]}if(n)return n;if(a){if(1===a.length)return a[0];h(this,"type",e,t,{issues:eb(a)}),e.typed=!0}else{if(s?.length===1)return s[0];h(this,"type",e,t,{issues:eb(s)})}return e}}},t.unknown=function e(){return{kind:"schema",type:"unknown",reference:e,expects:"unknown",async:!1,get"~standard"(){return v(this)},"~run":e=>(e.typed=!0,e)}},t.unwrap=function(e){return e.wrapped},t.url=function e(t){return{kind:"validation",type:"url",reference:e,async:!1,expects:null,requirement(e){try{return new URL(e),!0}catch{return!1}},message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&h(this,"URL",e,t),e}}},t.uuid=function e(t){return{kind:"validation",type:"uuid",reference:e,async:!1,expects:null,requirement:K,message:t,"~run"(e,t){return e.typed&&!this.requirement.test(e.value)&&h(this,"UUID",e,t),e}}},t.value=function e(t,n){return{kind:"validation",type:"value",reference:e,async:!1,expects:t instanceof Date?t.toJSON():m(t),requirement:t,message:n,"~run"(e,t){return e.typed&&!(this.requirement<=e.value&&this.requirement>=e.value)&&h(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():m(e.value)}),e}}},t.values=function e(t,n){return{kind:"validation",type:"values",reference:e,async:!1,expects:`${x(t.map(e=>e instanceof Date?e.toJSON():m(e)),"|")}`,requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement.some(t=>t<=e.value&&t>=e.value)&&h(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():m(e.value)}),e}}},t.variant=function e(t,n,a){return{kind:"schema",type:"variant",reference:e,expects:"Object",async:!1,key:t,options:n,message:a,get"~standard"(){return v(this)},"~run"(e,t){let n=e.value;if(n&&"object"==typeof n){let a;let s=0,r=this.key,i=[],o=(e,u)=>{for(let l of e.options){if("variant"===l.type)o(l,new Set(u).add(l.key));else{let e=!0,o=0;for(let t of u){let a=l.entries[t];if(t in n?a["~run"]({typed:!1,value:n[t]},{abortEarly:!0}).issues:"exact_optional"!==a.type&&"optional"!==a.type&&"nullish"!==a.type){e=!1,r!==t&&(s<o||s===o&&t in n&&!(r in n))&&(s=o,r=t,i=[]),r===t&&i.push(l.entries[t].expects);break}o++}if(e){let e=l["~run"]({value:n},t);a&&(a.typed||!e.typed)||(a=e)}}if(a&&!a.issues)break}};if(o(this,new Set([this.key])),a)return a;h(this,"type",e,t,{input:n[r],expected:x(i,"|"),path:[{type:"object",origin:"value",input:n,key:r,value:n[r]}]})}else h(this,"type",e,t);return e}}},t.variantAsync=function e(t,n,a){return{kind:"schema",type:"variant",reference:e,expects:"Object",async:!0,key:t,options:n,message:a,get"~standard"(){return v(this)},async "~run"(e,t){let n=e.value;if(n&&"object"==typeof n){let a;let s=0,r=this.key,i=[],o=async(e,u)=>{for(let l of e.options){if("variant"===l.type)await o(l,new Set(u).add(l.key));else{let e=!0,o=0;for(let t of u){let a=l.entries[t];if(t in n?(await a["~run"]({typed:!1,value:n[t]},{abortEarly:!0})).issues:"exact_optional"!==a.type&&"optional"!==a.type&&"nullish"!==a.type){e=!1,r!==t&&(s<o||s===o&&t in n&&!(r in n))&&(s=o,r=t,i=[]),r===t&&i.push(l.entries[t].expects);break}o++}if(e){let e=await l["~run"]({value:n},t);a&&(a.typed||!e.typed)||(a=e)}}if(a&&!a.issues)break}};if(await o(this,new Set([this.key])),a)return a;h(this,"type",e,t,{input:n[r],expected:x(i,"|"),path:[{type:"object",origin:"value",input:n,key:r,value:n[r]}]})}else h(this,"type",e,t);return e}}},t.void=eS,t.void_=eS,t.words=function e(t,n,a){return{kind:"validation",type:"words",reference:e,async:!1,expects:`${n}`,locales:t,requirement:n,message:a,"~run"(e,t){if(e.typed){let n=b(this.locales,e.value);n!==this.requirement&&h(this,"words",e,t,{received:`${n}`})}return e}}}}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[380,704,552,15,490,365],()=>n(6070));module.exports=a})();