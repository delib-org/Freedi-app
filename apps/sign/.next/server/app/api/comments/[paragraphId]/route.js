"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/comments/[paragraphId]/route";
exports.ids = ["app/api/comments/[paragraphId]/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "firebase-admin/app":
/*!*************************************!*\
  !*** external "firebase-admin/app" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/app");;

/***/ }),

/***/ "firebase-admin/firestore":
/*!*******************************************!*\
  !*** external "firebase-admin/firestore" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/firestore");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute&page=%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute.ts&appDir=%2FUsers%2Ftalyaron%2FDocuments%2FFreedi-app%2Fapps%2Fsign%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftalyaron%2FDocuments%2FFreedi-app%2Fapps%2Fsign&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute&page=%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute.ts&appDir=%2FUsers%2Ftalyaron%2FDocuments%2FFreedi-app%2Fapps%2Fsign%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftalyaron%2FDocuments%2FFreedi-app%2Fapps%2Fsign&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_talyaron_Documents_Freedi_app_apps_sign_app_api_comments_paragraphId_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/comments/[paragraphId]/route.ts */ \"(rsc)/./app/api/comments/[paragraphId]/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Users_talyaron_Documents_Freedi_app_apps_sign_app_api_comments_paragraphId_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_Users_talyaron_Documents_Freedi_app_apps_sign_app_api_comments_paragraphId_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/comments/[paragraphId]/route\",\n        pathname: \"/api/comments/[paragraphId]\",\n        filename: \"route\",\n        bundlePath: \"app/api/comments/[paragraphId]/route\"\n    },\n    resolvedPagePath: \"/Users/talyaron/Documents/Freedi-app/apps/sign/app/api/comments/[paragraphId]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_talyaron_Documents_Freedi_app_apps_sign_app_api_comments_paragraphId_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/comments/[paragraphId]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb21tZW50cyUyRiU1QnBhcmFncmFwaElkJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZjb21tZW50cyUyRiU1QnBhcmFncmFwaElkJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY29tbWVudHMlMkYlNUJwYXJhZ3JhcGhJZCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnRhbHlhcm9uJTJGRG9jdW1lbnRzJTJGRnJlZWRpLWFwcCUyRmFwcHMlMkZzaWduJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnRhbHlhcm9uJTJGRG9jdW1lbnRzJTJGRnJlZWRpLWFwcCUyRmFwcHMlMkZzaWduJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzQztBQUNuSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BmcmVlZGkvc2lnbi8/MzU1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvdGFseWFyb24vRG9jdW1lbnRzL0ZyZWVkaS1hcHAvYXBwcy9zaWduL2FwcC9hcGkvY29tbWVudHMvW3BhcmFncmFwaElkXS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY29tbWVudHMvW3BhcmFncmFwaElkXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NvbW1lbnRzL1twYXJhZ3JhcGhJZF1cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NvbW1lbnRzL1twYXJhZ3JhcGhJZF0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvdGFseWFyb24vRG9jdW1lbnRzL0ZyZWVkaS1hcHAvYXBwcy9zaWduL2FwcC9hcGkvY29tbWVudHMvW3BhcmFncmFwaElkXS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY29tbWVudHMvW3BhcmFncmFwaElkXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute&page=%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute.ts&appDir=%2FUsers%2Ftalyaron%2FDocuments%2FFreedi-app%2Fapps%2Fsign%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftalyaron%2FDocuments%2FFreedi-app%2Fapps%2Fsign&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/comments/[paragraphId]/route.ts":
/*!*************************************************!*\
  !*** ./app/api/comments/[paragraphId]/route.ts ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firebase/admin */ \"(rsc)/./src/lib/firebase/admin.ts\");\n/* harmony import */ var _lib_utils_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils/user */ \"(rsc)/./src/lib/utils/user.ts\");\n/* harmony import */ var _barrel_optimize_names_Collections_StatementType_delib_npm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Collections,StatementType!=!delib-npm */ \"(rsc)/__barrel_optimize__?names=Collections,StatementType!=!./node_modules/delib-npm/dist/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n/**\n * GET /api/comments/[paragraphId]\n * Get comments for a paragraph\n */ async function GET(request, { params }) {\n    try {\n        const { paragraphId } = await params;\n        const db = (0,_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.getFirestoreAdmin)();\n        const snapshot = await db.collection(_barrel_optimize_names_Collections_StatementType_delib_npm__WEBPACK_IMPORTED_MODULE_3__.Collections.statements).where(\"parentId\", \"==\", paragraphId).where(\"statementType\", \"==\", _barrel_optimize_names_Collections_StatementType_delib_npm__WEBPACK_IMPORTED_MODULE_3__.StatementType.statement).orderBy(\"createdAt\", \"asc\").limit(100).get();\n        const comments = snapshot.docs.map((doc)=>doc.data()).filter((c)=>!c.hide);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            comments\n        });\n    } catch (error) {\n        console.error(\"[Comments API] GET error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * POST /api/comments/[paragraphId]\n * Create a new comment on a paragraph\n */ async function POST(request, { params }) {\n    try {\n        const { paragraphId } = await params;\n        const cookieHeader = request.headers.get(\"cookie\");\n        const userId = (0,_lib_utils_user__WEBPACK_IMPORTED_MODULE_2__.getUserIdFromCookie)(cookieHeader);\n        if (!userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User not authenticated\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { statement, documentId } = body;\n        // Validate input\n        if (!statement || statement.trim().length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Comment text is required\"\n            }, {\n                status: 400\n            });\n        }\n        if (!documentId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"documentId is required\"\n            }, {\n                status: 400\n            });\n        }\n        const db = (0,_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.getFirestoreAdmin)();\n        // Get paragraph info for topParentId\n        const paragraphRef = await db.collection(_barrel_optimize_names_Collections_StatementType_delib_npm__WEBPACK_IMPORTED_MODULE_3__.Collections.statements).doc(paragraphId).get();\n        const paragraph = paragraphRef.exists ? paragraphRef.data() : null;\n        // Get display name\n        const displayName = (0,_lib_utils_user__WEBPACK_IMPORTED_MODULE_2__.getUserDisplayNameFromCookie)(cookieHeader) || (0,_lib_utils_user__WEBPACK_IMPORTED_MODULE_2__.getAnonymousDisplayName)(userId);\n        // Generate unique ID\n        const statementId = `${userId}--${Date.now()}--${Math.random().toString(36).substring(2, 9)}`;\n        const comment = {\n            statementId,\n            statement: statement.trim(),\n            statementType: _barrel_optimize_names_Collections_StatementType_delib_npm__WEBPACK_IMPORTED_MODULE_3__.StatementType.statement,\n            parentId: paragraphId,\n            topParentId: paragraph?.topParentId || documentId,\n            creatorId: userId,\n            creator: {\n                displayName,\n                odId: userId\n            },\n            createdAt: Date.now(),\n            lastUpdate: Date.now(),\n            consensus: 0,\n            hide: false\n        };\n        await db.collection(_barrel_optimize_names_Collections_StatementType_delib_npm__WEBPACK_IMPORTED_MODULE_3__.Collections.statements).doc(statementId).set(comment);\n        console.info(`[Comments API] Created comment: ${statementId}`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            comment\n        });\n    } catch (error) {\n        console.error(\"[Comments API] POST error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * DELETE /api/comments/[paragraphId]\n * Delete a comment (requires comment ID in body)\n */ async function DELETE(request, { params }) {\n    try {\n        await params; // Consume params even if not used\n        const userId = (0,_lib_utils_user__WEBPACK_IMPORTED_MODULE_2__.getUserIdFromCookie)(request.headers.get(\"cookie\"));\n        if (!userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User not authenticated\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { commentId } = body;\n        if (!commentId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"commentId is required\"\n            }, {\n                status: 400\n            });\n        }\n        const db = (0,_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.getFirestoreAdmin)();\n        // Verify ownership\n        const commentRef = await db.collection(_barrel_optimize_names_Collections_StatementType_delib_npm__WEBPACK_IMPORTED_MODULE_3__.Collections.statements).doc(commentId).get();\n        if (!commentRef.exists) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Comment not found\"\n            }, {\n                status: 404\n            });\n        }\n        const comment = commentRef.data();\n        if (comment?.creatorId !== userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Not authorized to delete this comment\"\n            }, {\n                status: 403\n            });\n        }\n        // Soft delete by setting hide flag\n        await db.collection(_barrel_optimize_names_Collections_StatementType_delib_npm__WEBPACK_IMPORTED_MODULE_3__.Collections.statements).doc(commentId).update({\n            hide: true,\n            lastUpdate: Date.now()\n        });\n        console.info(`[Comments API] Deleted comment: ${commentId}`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"[Comments API] DELETE error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NvbW1lbnRzL1twYXJhZ3JhcGhJZF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF3RDtBQUNDO0FBQ3FEO0FBQ3ZEO0FBT3ZEOzs7Q0FHQyxHQUNNLGVBQWVPLElBQ3BCQyxPQUFvQixFQUNwQixFQUFFQyxNQUFNLEVBQWdEO0lBRXhELElBQUk7UUFDRixNQUFNLEVBQUVDLFdBQVcsRUFBRSxHQUFHLE1BQU1EO1FBRTlCLE1BQU1FLEtBQUtWLHNFQUFpQkE7UUFFNUIsTUFBTVcsV0FBVyxNQUFNRCxHQUNwQkUsVUFBVSxDQUFDUixtR0FBV0EsQ0FBQ1MsVUFBVSxFQUNqQ0MsS0FBSyxDQUFDLFlBQVksTUFBTUwsYUFDeEJLLEtBQUssQ0FBQyxpQkFBaUIsTUFBTVQscUdBQWFBLENBQUNVLFNBQVMsRUFDcERDLE9BQU8sQ0FBQyxhQUFhLE9BQ3JCQyxLQUFLLENBQUMsS0FDTkMsR0FBRztRQUVOLE1BQU1DLFdBQVdSLFNBQVNTLElBQUksQ0FDM0JDLEdBQUcsQ0FBQyxDQUFDQyxNQUFRQSxJQUFJQyxJQUFJLElBQ3JCQyxNQUFNLENBQUMsQ0FBQ0MsSUFBTSxDQUFDQSxFQUFFQyxJQUFJO1FBRXhCLE9BQU8zQixxREFBWUEsQ0FBQzRCLElBQUksQ0FBQztZQUFFUjtRQUFTO0lBQ3RDLEVBQUUsT0FBT1MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNkJBQTZCQTtRQUUzQyxPQUFPN0IscURBQVlBLENBQUM0QixJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBd0IsR0FDakM7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDTSxlQUFlQyxLQUNwQnhCLE9BQW9CLEVBQ3BCLEVBQUVDLE1BQU0sRUFBZ0Q7SUFFeEQsSUFBSTtRQUNGLE1BQU0sRUFBRUMsV0FBVyxFQUFFLEdBQUcsTUFBTUQ7UUFDOUIsTUFBTXdCLGVBQWV6QixRQUFRMEIsT0FBTyxDQUFDZixHQUFHLENBQUM7UUFDekMs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Ly9AZnJlZWRpL3NpZ24vLi9hcHAvYXBpL2NvbW1lbnRzL1twYXJhZ3JhcGhJZF0vcm91dGUudHM/ZGE0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlQWRtaW4gfSBmcm9tICdAL2xpYi9maXJlYmFzZS9hZG1pbic7XG5pbXBvcnQgeyBnZXRVc2VySWRGcm9tQ29va2llLCBnZXRVc2VyRGlzcGxheU5hbWVGcm9tQ29va2llLCBnZXRBbm9ueW1vdXNEaXNwbGF5TmFtZSB9IGZyb20gJ0AvbGliL3V0aWxzL3VzZXInO1xuaW1wb3J0IHsgQ29sbGVjdGlvbnMsIFN0YXRlbWVudFR5cGUgfSBmcm9tICdkZWxpYi1ucG0nO1xuXG5pbnRlcmZhY2UgQ29tbWVudElucHV0IHtcbiAgc3RhdGVtZW50OiBzdHJpbmc7XG4gIGRvY3VtZW50SWQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBHRVQgL2FwaS9jb21tZW50cy9bcGFyYWdyYXBoSWRdXG4gKiBHZXQgY29tbWVudHMgZm9yIGEgcGFyYWdyYXBoXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogUHJvbWlzZTx7IHBhcmFncmFwaElkOiBzdHJpbmcgfT4gfVxuKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBwYXJhZ3JhcGhJZCB9ID0gYXdhaXQgcGFyYW1zO1xuXG4gICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmVBZG1pbigpO1xuXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYlxuICAgICAgLmNvbGxlY3Rpb24oQ29sbGVjdGlvbnMuc3RhdGVtZW50cylcbiAgICAgIC53aGVyZSgncGFyZW50SWQnLCAnPT0nLCBwYXJhZ3JhcGhJZClcbiAgICAgIC53aGVyZSgnc3RhdGVtZW50VHlwZScsICc9PScsIFN0YXRlbWVudFR5cGUuc3RhdGVtZW50KVxuICAgICAgLm9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdhc2MnKVxuICAgICAgLmxpbWl0KDEwMClcbiAgICAgIC5nZXQoKTtcblxuICAgIGNvbnN0IGNvbW1lbnRzID0gc25hcHNob3QuZG9jc1xuICAgICAgLm1hcCgoZG9jKSA9PiBkb2MuZGF0YSgpKVxuICAgICAgLmZpbHRlcigoYykgPT4gIWMuaGlkZSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBjb21tZW50cyB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbQ29tbWVudHMgQVBJXSBHRVQgZXJyb3I6JywgZXJyb3IpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBQT1NUIC9hcGkvY29tbWVudHMvW3BhcmFncmFwaElkXVxuICogQ3JlYXRlIGEgbmV3IGNvbW1lbnQgb24gYSBwYXJhZ3JhcGhcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogUHJvbWlzZTx7IHBhcmFncmFwaElkOiBzdHJpbmcgfT4gfVxuKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBwYXJhZ3JhcGhJZCB9ID0gYXdhaXQgcGFyYW1zO1xuICAgIGNvbnN0IGNvb2tpZUhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2Nvb2tpZScpO1xuICAgIGNvbnN0IHVzZXJJZCA9IGdldFVzZXJJZEZyb21Db29raWUoY29va2llSGVhZGVyKTtcblxuICAgIGlmICghdXNlcklkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdVc2VyIG5vdCBhdXRoZW50aWNhdGVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgYm9keTogQ29tbWVudElucHV0ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc3QgeyBzdGF0ZW1lbnQsIGRvY3VtZW50SWQgfSA9IGJvZHk7XG5cbiAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgIGlmICghc3RhdGVtZW50IHx8IHN0YXRlbWVudC50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdDb21tZW50IHRleHQgaXMgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIWRvY3VtZW50SWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ2RvY3VtZW50SWQgaXMgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYiA9IGdldEZpcmVzdG9yZUFkbWluKCk7XG5cbiAgICAvLyBHZXQgcGFyYWdyYXBoIGluZm8gZm9yIHRvcFBhcmVudElkXG4gICAgY29uc3QgcGFyYWdyYXBoUmVmID0gYXdhaXQgZGIuY29sbGVjdGlvbihDb2xsZWN0aW9ucy5zdGF0ZW1lbnRzKS5kb2MocGFyYWdyYXBoSWQpLmdldCgpO1xuICAgIGNvbnN0IHBhcmFncmFwaCA9IHBhcmFncmFwaFJlZi5leGlzdHMgPyBwYXJhZ3JhcGhSZWYuZGF0YSgpIDogbnVsbDtcblxuICAgIC8vIEdldCBkaXNwbGF5IG5hbWVcbiAgICBjb25zdCBkaXNwbGF5TmFtZSA9IGdldFVzZXJEaXNwbGF5TmFtZUZyb21Db29raWUoY29va2llSGVhZGVyKSB8fCBnZXRBbm9ueW1vdXNEaXNwbGF5TmFtZSh1c2VySWQpO1xuXG4gICAgLy8gR2VuZXJhdGUgdW5pcXVlIElEXG4gICAgY29uc3Qgc3RhdGVtZW50SWQgPSBgJHt1c2VySWR9LS0ke0RhdGUubm93KCl9LS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KX1gO1xuXG4gICAgY29uc3QgY29tbWVudCA9IHtcbiAgICAgIHN0YXRlbWVudElkLFxuICAgICAgc3RhdGVtZW50OiBzdGF0ZW1lbnQudHJpbSgpLFxuICAgICAgc3RhdGVtZW50VHlwZTogU3RhdGVtZW50VHlwZS5zdGF0ZW1lbnQsXG4gICAgICBwYXJlbnRJZDogcGFyYWdyYXBoSWQsXG4gICAgICB0b3BQYXJlbnRJZDogcGFyYWdyYXBoPy50b3BQYXJlbnRJZCB8fCBkb2N1bWVudElkLFxuICAgICAgY3JlYXRvcklkOiB1c2VySWQsXG4gICAgICBjcmVhdG9yOiB7XG4gICAgICAgIGRpc3BsYXlOYW1lLFxuICAgICAgICBvZElkOiB1c2VySWQsXG4gICAgICB9LFxuICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgbGFzdFVwZGF0ZTogRGF0ZS5ub3coKSxcbiAgICAgIGNvbnNlbnN1czogMCxcbiAgICAgIGhpZGU6IGZhbHNlLFxuICAgIH07XG5cbiAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKENvbGxlY3Rpb25zLnN0YXRlbWVudHMpLmRvYyhzdGF0ZW1lbnRJZCkuc2V0KGNvbW1lbnQpO1xuXG4gICAgY29uc29sZS5pbmZvKGBbQ29tbWVudHMgQVBJXSBDcmVhdGVkIGNvbW1lbnQ6ICR7c3RhdGVtZW50SWR9YCk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBjb21tZW50IH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tDb21tZW50cyBBUEldIFBPU1QgZXJyb3I6JywgZXJyb3IpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBERUxFVEUgL2FwaS9jb21tZW50cy9bcGFyYWdyYXBoSWRdXG4gKiBEZWxldGUgYSBjb21tZW50IChyZXF1aXJlcyBjb21tZW50IElEIGluIGJvZHkpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogUHJvbWlzZTx7IHBhcmFncmFwaElkOiBzdHJpbmcgfT4gfVxuKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgcGFyYW1zOyAvLyBDb25zdW1lIHBhcmFtcyBldmVuIGlmIG5vdCB1c2VkXG4gICAgY29uc3QgdXNlcklkID0gZ2V0VXNlcklkRnJvbUNvb2tpZShyZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb29raWUnKSk7XG5cbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnVXNlciBub3QgYXV0aGVudGljYXRlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB7IGNvbW1lbnRJZCB9ID0gYm9keTtcblxuICAgIGlmICghY29tbWVudElkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdjb21tZW50SWQgaXMgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYiA9IGdldEZpcmVzdG9yZUFkbWluKCk7XG5cbiAgICAvLyBWZXJpZnkgb3duZXJzaGlwXG4gICAgY29uc3QgY29tbWVudFJlZiA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oQ29sbGVjdGlvbnMuc3RhdGVtZW50cykuZG9jKGNvbW1lbnRJZCkuZ2V0KCk7XG4gICAgaWYgKCFjb21tZW50UmVmLmV4aXN0cykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQ29tbWVudCBub3QgZm91bmQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb21tZW50ID0gY29tbWVudFJlZi5kYXRhKCk7XG4gICAgaWYgKGNvbW1lbnQ/LmNyZWF0b3JJZCAhPT0gdXNlcklkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdOb3QgYXV0aG9yaXplZCB0byBkZWxldGUgdGhpcyBjb21tZW50JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAzIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU29mdCBkZWxldGUgYnkgc2V0dGluZyBoaWRlIGZsYWdcbiAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKENvbGxlY3Rpb25zLnN0YXRlbWVudHMpLmRvYyhjb21tZW50SWQpLnVwZGF0ZSh7XG4gICAgICBoaWRlOiB0cnVlLFxuICAgICAgbGFzdFVwZGF0ZTogRGF0ZS5ub3coKSxcbiAgICB9KTtcblxuICAgIGNvbnNvbGUuaW5mbyhgW0NvbW1lbnRzIEFQSV0gRGVsZXRlZCBjb21tZW50OiAke2NvbW1lbnRJZH1gKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW0NvbW1lbnRzIEFQSV0gREVMRVRFIGVycm9yOicsIGVycm9yKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0RmlyZXN0b3JlQWRtaW4iLCJnZXRVc2VySWRGcm9tQ29va2llIiwiZ2V0VXNlckRpc3BsYXlOYW1lRnJvbUNvb2tpZSIsImdldEFub255bW91c0Rpc3BsYXlOYW1lIiwiQ29sbGVjdGlvbnMiLCJTdGF0ZW1lbnRUeXBlIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsInBhcmFncmFwaElkIiwiZGIiLCJzbmFwc2hvdCIsImNvbGxlY3Rpb24iLCJzdGF0ZW1lbnRzIiwid2hlcmUiLCJzdGF0ZW1lbnQiLCJvcmRlckJ5IiwibGltaXQiLCJnZXQiLCJjb21tZW50cyIsImRvY3MiLCJtYXAiLCJkb2MiLCJkYXRhIiwiZmlsdGVyIiwiYyIsImhpZGUiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhdHVzIiwiUE9TVCIsImNvb2tpZUhlYWRlciIsImhlYWRlcnMiLCJ1c2VySWQiLCJib2R5IiwiZG9jdW1lbnRJZCIsInRyaW0iLCJsZW5ndGgiLCJwYXJhZ3JhcGhSZWYiLCJwYXJhZ3JhcGgiLCJleGlzdHMiLCJkaXNwbGF5TmFtZSIsInN0YXRlbWVudElkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImNvbW1lbnQiLCJzdGF0ZW1lbnRUeXBlIiwicGFyZW50SWQiLCJ0b3BQYXJlbnRJZCIsImNyZWF0b3JJZCIsImNyZWF0b3IiLCJvZElkIiwiY3JlYXRlZEF0IiwibGFzdFVwZGF0ZSIsImNvbnNlbnN1cyIsInNldCIsImluZm8iLCJzdWNjZXNzIiwiREVMRVRFIiwiY29tbWVudElkIiwiY29tbWVudFJlZiIsInVwZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/comments/[paragraphId]/route.ts\n");

/***/ }),

/***/ "(rsc)/__barrel_optimize__?names=Collections,StatementType!=!./node_modules/delib-npm/dist/index.js":
/*!****************************************************************************************************!*\
  !*** __barrel_optimize__?names=Collections,StatementType!=!./node_modules/delib-npm/dist/index.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Access: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.Access),
/* harmony export */   AgreeDisagreeEnum: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.AgreeDisagreeEnum),
/* harmony export */   AgreeDisagreeSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.AgreeDisagreeSchema),
/* harmony export */   AgreeSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.AgreeSchema),
/* harmony export */   AgreementSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.AgreementSchema),
/* harmony export */   ApprovalSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.ApprovalSchema),
/* harmony export */   AxesItemSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.AxesItemSchema),
/* harmony export */   ChoseByEvaluationType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.ChoseByEvaluationType),
/* harmony export */   ChoseBySchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.ChoseBySchema),
/* harmony export */   Collections: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.Collections),
/* harmony export */   CreatorSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.CreatorSchema),
/* harmony export */   CutoffBy: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.CutoffBy),
/* harmony export */   CutoffType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.CutoffType),
/* harmony export */   DeliberationType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.DeliberationType),
/* harmony export */   DeliberativeElement: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.DeliberativeElement),
/* harmony export */   DemographicGroupSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.DemographicGroupSchema),
/* harmony export */   DemographicOptionSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.DemographicOptionSchema),
/* harmony export */   DemographicQuestionScopeSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.DemographicQuestionScopeSchema),
/* harmony export */   DemographicTagSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.DemographicTagSchema),
/* harmony export */   DocumentApprovalSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.DocumentApprovalSchema),
/* harmony export */   DocumentImportanceSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.DocumentImportanceSchema),
/* harmony export */   DocumentSignsSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.DocumentSignsSchema),
/* harmony export */   DocumentType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.DocumentType),
/* harmony export */   EvaluationSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.EvaluationSchema),
/* harmony export */   EvaluationUI: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.EvaluationUI),
/* harmony export */   EvaluatorSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.EvaluatorSchema),
/* harmony export */   ExplanationConfigSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.ExplanationConfigSchema),
/* harmony export */   ExplanationDisplayModeSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.ExplanationDisplayModeSchema),
/* harmony export */   FairDivisionSelectionSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.FairDivisionSelectionSchema),
/* harmony export */   FairDivisionUserSelectionSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.FairDivisionUserSelectionSchema),
/* harmony export */   FeedbackSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.FeedbackSchema),
/* harmony export */   ImportanceSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.ImportanceSchema),
/* harmony export */   InvitationSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.InvitationSchema),
/* harmony export */   Languages: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.Languages),
/* harmony export */   LastMessageSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.LastMessageSchema),
/* harmony export */   LoginType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.LoginType),
/* harmony export */   MassConsensusMemberSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.MassConsensusMemberSchema),
/* harmony export */   MassConsensusPageUrls: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.MassConsensusPageUrls),
/* harmony export */   MassConsensusPageUrlsSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.MassConsensusPageUrlsSchema),
/* harmony export */   MassConsensusProcessSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.MassConsensusProcessSchema),
/* harmony export */   MassConsensusStageSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.MassConsensusStageSchema),
/* harmony export */   MassConsensusStageType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.MassConsensusStageType),
/* harmony export */   MassConsensusStageTypeSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.MassConsensusStageTypeSchema),
/* harmony export */   MembershipSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.MembershipSchema),
/* harmony export */   NotificationReadStatusSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.NotificationReadStatusSchema),
/* harmony export */   NotificationSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.NotificationSchema),
/* harmony export */   OnlineSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.OnlineSchema),
/* harmony export */   ParagraphType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.ParagraphType),
/* harmony export */   PolarizationIndexSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.PolarizationIndexSchema),
/* harmony export */   PostActionConfigSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.PostActionConfigSchema),
/* harmony export */   QuestionSettingsSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.QuestionSettingsSchema),
/* harmony export */   QuestionStage: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.QuestionStage),
/* harmony export */   QuestionStagesType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.QuestionStagesType),
/* harmony export */   QuestionStep: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.QuestionStep),
/* harmony export */   QuestionType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.QuestionType),
/* harmony export */   QuestionnaireQuestionSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.QuestionnaireQuestionSchema),
/* harmony export */   QuestionnaireSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.QuestionnaireSchema),
/* harmony export */   ResultsBy: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.ResultsBy),
/* harmony export */   ResultsSettingsSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.ResultsSettingsSchema),
/* harmony export */   Role: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.Role),
/* harmony export */   RoomParticipantSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.RoomParticipantSchema),
/* harmony export */   RoomSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.RoomSchema),
/* harmony export */   RoomSettingsSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.RoomSettingsSchema),
/* harmony export */   Screen: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.Screen),
/* harmony export */   SelectionFunction: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.SelectionFunction),
/* harmony export */   SignatureSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.SignatureSchema),
/* harmony export */   SignatureType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.SignatureType),
/* harmony export */   SimpleStatementSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.SimpleStatementSchema),
/* harmony export */   SortType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.SortType),
/* harmony export */   StageSelectionType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StageSelectionType),
/* harmony export */   StatementEvaluationSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StatementEvaluationSchema),
/* harmony export */   StatementEvaluationSettingsSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StatementEvaluationSettingsSchema),
/* harmony export */   StatementMetaDataSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StatementMetaDataSchema),
/* harmony export */   StatementSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StatementSchema),
/* harmony export */   StatementSettingsSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StatementSettingsSchema),
/* harmony export */   StatementSubscriptionSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StatementSubscriptionSchema),
/* harmony export */   StatementType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StatementType),
/* harmony export */   StatementViewSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StatementViewSchema),
/* harmony export */   StepSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StepSchema),
/* harmony export */   StepType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.StepType),
/* harmony export */   UserDataSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.UserDataSchema),
/* harmony export */   UserDemographicQuestionSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.UserDemographicQuestionSchema),
/* harmony export */   UserDemographicQuestionType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.UserDemographicQuestionType),
/* harmony export */   UserSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.UserSchema),
/* harmony export */   VoteSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.VoteSchema),
/* harmony export */   VotingSettingsSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.VotingSettingsSchema),
/* harmony export */   WaitingMemberSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.WaitingMemberSchema),
/* harmony export */   __esModule: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.__esModule),
/* harmony export */   createBasicStatement: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.createBasicStatement),
/* harmony export */   createSubscription: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.createSubscription),
/* harmony export */   defaultChoseBySettings: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.defaultChoseBySettings),
/* harmony export */   defaultResultsSettings: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.defaultResultsSettings),
/* harmony export */   defaultStageTemplates: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.defaultStageTemplates),
/* harmony export */   evaluationType: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.evaluationType),
/* harmony export */   functionConfig: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.functionConfig),
/* harmony export */   getRandomUID: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.getRandomUID),
/* harmony export */   getStatementSubscriptionId: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.getStatementSubscriptionId),
/* harmony export */   getVoteId: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.getVoteId),
/* harmony export */   isMember: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.isMember),
/* harmony export */   maxKeyInObject: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.maxKeyInObject),
/* harmony export */   membersAllowed: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.membersAllowed),
/* harmony export */   statementSnapShotSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.statementSnapShotSchema),
/* harmony export */   statementToSimpleStatement: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.statementToSimpleStatement),
/* harmony export */   updateArray: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.updateArray),
/* harmony export */   userSettingsSchema: () => (/* reexport safe */ _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__.userSettingsSchema)
/* harmony export */ });
/* harmony import */ var _Users_talyaron_Documents_Freedi_app_apps_sign_node_modules_delib_npm_dist_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/delib-npm/dist/index.js */ "(rsc)/./node_modules/delib-npm/dist/index.js");



/***/ }),

/***/ "(rsc)/./src/lib/firebase/admin.ts":
/*!***********************************!*\
  !*** ./src/lib/firebase/admin.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   admin: () => (/* binding */ admin),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getFirebaseAdmin: () => (/* binding */ getFirebaseAdmin),\n/* harmony export */   getFirestoreAdmin: () => (/* binding */ getFirestoreAdmin),\n/* harmony export */   initializeFirebaseAdmin: () => (/* binding */ initializeFirebaseAdmin)\n/* harmony export */ });\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin/app */ \"firebase-admin/app\");\n/* harmony import */ var firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase-admin/firestore */ \"firebase-admin/firestore\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__, firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__]);\n([firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__, firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n// Set emulator host BEFORE any Firebase initialization\n// This allows Firebase Admin to automatically connect to the emulator\nif (process.env.USE_FIREBASE_EMULATOR === \"true\" && process.env.FIRESTORE_EMULATOR_HOST) {\n    process.env.FIRESTORE_EMULATOR_HOST = process.env.FIRESTORE_EMULATOR_HOST;\n}\nlet app;\nlet firestore;\n/**\n * Initialize Firebase Admin SDK\n * Only initializes once per server instance\n */ function initializeFirebaseAdmin() {\n    if ((0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length > 0) {\n        app = (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n        return app;\n    }\n    try {\n        // Check if we have explicit credentials or should use default\n        const hasExplicitCredentials = process.env.FIREBASE_CLIENT_EMAIL && process.env.FIREBASE_PRIVATE_KEY;\n        const hasServiceAccountFile = process.env.GOOGLE_APPLICATION_CREDENTIALS;\n        if (hasExplicitCredentials) {\n            // Initialize with explicit service account credentials\n            app = (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)({\n                credential: (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.cert)({\n                    projectId: process.env.FIREBASE_PROJECT_ID,\n                    clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n                    privateKey: process.env.FIREBASE_PRIVATE_KEY?.replace(/\\\\n/g, \"\\n\")\n                }),\n                projectId: process.env.FIREBASE_PROJECT_ID\n            });\n            console.info(\"[Firebase Admin - Sign] Initialized with explicit credentials\");\n        } else if (hasServiceAccountFile) {\n            // Initialize with service account file (GOOGLE_APPLICATION_CREDENTIALS)\n            // eslint-disable-next-line @typescript-eslint/no-require-imports\n            const fs = __webpack_require__(/*! fs */ \"fs\");\n            const serviceAccount = JSON.parse(fs.readFileSync(hasServiceAccountFile, \"utf8\"));\n            app = (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)({\n                credential: (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.cert)(serviceAccount),\n                projectId: serviceAccount.project_id\n            });\n            console.info(\"[Firebase Admin - Sign] Initialized with service account file\");\n        } else {\n            // Use default credentials (works in Firebase Functions, Cloud Run, etc.)\n            app = (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)({\n                projectId: process.env.FIREBASE_PROJECT_ID\n            });\n            console.info(\"[Firebase Admin - Sign] Initialized with default credentials\");\n        }\n        return app;\n    } catch (error) {\n        console.error(\"[Firebase Admin - Sign] Initialization failed:\", error);\n        throw error;\n    }\n}\n/**\n * Get Firestore instance\n * Lazy initialization - emulator connection is automatic via FIRESTORE_EMULATOR_HOST env var\n */ function getFirestoreAdmin() {\n    if (!firestore) {\n        if (!app) {\n            initializeFirebaseAdmin();\n        }\n        firestore = (0,firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\n        const emulatorHost = process.env.FIRESTORE_EMULATOR_HOST;\n        if (emulatorHost) {\n            console.info(\"[Firebase Admin - Sign] Connected to Firestore emulator:\", emulatorHost);\n        } else {\n            console.info(\"[Firebase Admin - Sign] Connected to production Firestore\");\n        }\n    }\n    return firestore;\n}\n/**\n * Get Firebase Admin with db access\n * Convenience function for API routes\n */ function getFirebaseAdmin() {\n    if (!app) {\n        initializeFirebaseAdmin();\n    }\n    return {\n        db: getFirestoreAdmin(),\n        app\n    };\n}\n// Export singleton instance\nconst admin = {\n    firestore: getFirestoreAdmin,\n    app: ()=>app || initializeFirebaseAdmin()\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (admin);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0aWFsaXplQXBwLCBnZXRBcHBzLCBjZXJ0LCBBcHAgfSBmcm9tICdmaXJlYmFzZS1hZG1pbi9hcHAnO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlLCBGaXJlc3RvcmUgfSBmcm9tICdmaXJlYmFzZS1hZG1pbi9maXJlc3RvcmUnO1xuXG4vLyBTZXQgZW11bGF0b3IgaG9zdCBCRUZPUkUgYW55IEZpcmViYXNlIGluaXRpYWxpemF0aW9uXG4vLyBUaGlzIGFsbG93cyBGaXJlYmFzZSBBZG1pbiB0byBhdXRvbWF0aWNhbGx5IGNvbm5lY3QgdG8gdGhlIGVtdWxhdG9yXG5pZiAocHJvY2Vzcy5lbnYuVVNFX0ZJUkVCQVNFX0VNVUxBVE9SID09PSAndHJ1ZScgJiYgcHJvY2Vzcy5lbnYuRklSRVNUT1JFX0VNVUxBVE9SX0hPU1QpIHtcbiAgcHJvY2Vzcy5lbnYuRklSRVNUT1JFX0VNVUxBVE9SX0hPU1QgPSBwcm9jZXNzLmVudi5GSVJFU1RPUkVfRU1VTEFUT1JfSE9TVDtcbn1cblxubGV0IGFwcDogQXBwO1xubGV0IGZpcmVzdG9yZTogRmlyZXN0b3JlO1xuXG4vKipcbiAqIEluaXRpYWxpemUgRmlyZWJhc2UgQWRtaW4gU0RLXG4gKiBPbmx5IGluaXRpYWxpemVzIG9uY2UgcGVyIHNlcnZlciBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUZpcmViYXNlQWRtaW4oKTogQXBwIHtcbiAgaWYgKGdldEFwcHMoKS5sZW5ndGggPiAwKSB7XG4gICAgYXBwID0gZ2V0QXBwcygpWzBdITtcblxuICAgIHJldHVybiBhcHA7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgZXhwbGljaXQgY3JlZGVudGlhbHMgb3Igc2hvdWxkIHVzZSBkZWZhdWx0XG4gICAgY29uc3QgaGFzRXhwbGljaXRDcmVkZW50aWFscyA9XG4gICAgICBwcm9jZXNzLmVudi5GSVJFQkFTRV9DTElFTlRfRU1BSUwgJiZcbiAgICAgIHByb2Nlc3MuZW52LkZJUkVCQVNFX1BSSVZBVEVfS0VZO1xuXG4gICAgY29uc3QgaGFzU2VydmljZUFjY291bnRGaWxlID0gcHJvY2Vzcy5lbnYuR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTO1xuXG4gICAgaWYgKGhhc0V4cGxpY2l0Q3JlZGVudGlhbHMpIHtcbiAgICAgIC8vIEluaXRpYWxpemUgd2l0aCBleHBsaWNpdCBzZXJ2aWNlIGFjY291bnQgY3JlZGVudGlhbHNcbiAgICAgIGFwcCA9IGluaXRpYWxpemVBcHAoe1xuICAgICAgICBjcmVkZW50aWFsOiBjZXJ0KHtcbiAgICAgICAgICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQsXG4gICAgICAgICAgY2xpZW50RW1haWw6IHByb2Nlc3MuZW52LkZJUkVCQVNFX0NMSUVOVF9FTUFJTCxcbiAgICAgICAgICBwcml2YXRlS2V5OiBwcm9jZXNzLmVudi5GSVJFQkFTRV9QUklWQVRFX0tFWT8ucmVwbGFjZSgvXFxcXG4vZywgJ1xcbicpLFxuICAgICAgICB9KSxcbiAgICAgICAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9QUk9KRUNUX0lELFxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmluZm8oJ1tGaXJlYmFzZSBBZG1pbiAtIFNpZ25dIEluaXRpYWxpemVkIHdpdGggZXhwbGljaXQgY3JlZGVudGlhbHMnKTtcbiAgICB9IGVsc2UgaWYgKGhhc1NlcnZpY2VBY2NvdW50RmlsZSkge1xuICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIHNlcnZpY2UgYWNjb3VudCBmaWxlIChHT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFMpXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0c1xuICAgICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuICAgICAgY29uc3Qgc2VydmljZUFjY291bnQgPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhoYXNTZXJ2aWNlQWNjb3VudEZpbGUsICd1dGY4JykpO1xuICAgICAgYXBwID0gaW5pdGlhbGl6ZUFwcCh7XG4gICAgICAgIGNyZWRlbnRpYWw6IGNlcnQoc2VydmljZUFjY291bnQpLFxuICAgICAgICBwcm9qZWN0SWQ6IHNlcnZpY2VBY2NvdW50LnByb2plY3RfaWQsXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUuaW5mbygnW0ZpcmViYXNlIEFkbWluIC0gU2lnbl0gSW5pdGlhbGl6ZWQgd2l0aCBzZXJ2aWNlIGFjY291bnQgZmlsZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVc2UgZGVmYXVsdCBjcmVkZW50aWFscyAod29ya3MgaW4gRmlyZWJhc2UgRnVuY3Rpb25zLCBDbG91ZCBSdW4sIGV0Yy4pXG4gICAgICBhcHAgPSBpbml0aWFsaXplQXBwKHtcbiAgICAgICAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9QUk9KRUNUX0lELFxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmluZm8oJ1tGaXJlYmFzZSBBZG1pbiAtIFNpZ25dIEluaXRpYWxpemVkIHdpdGggZGVmYXVsdCBjcmVkZW50aWFscycpO1xuICAgIH1cblxuICAgIHJldHVybiBhcHA7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW0ZpcmViYXNlIEFkbWluIC0gU2lnbl0gSW5pdGlhbGl6YXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBGaXJlc3RvcmUgaW5zdGFuY2VcbiAqIExhenkgaW5pdGlhbGl6YXRpb24gLSBlbXVsYXRvciBjb25uZWN0aW9uIGlzIGF1dG9tYXRpYyB2aWEgRklSRVNUT1JFX0VNVUxBVE9SX0hPU1QgZW52IHZhclxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlyZXN0b3JlQWRtaW4oKTogRmlyZXN0b3JlIHtcbiAgaWYgKCFmaXJlc3RvcmUpIHtcbiAgICBpZiAoIWFwcCkge1xuICAgICAgaW5pdGlhbGl6ZUZpcmViYXNlQWRtaW4oKTtcbiAgICB9XG5cbiAgICBmaXJlc3RvcmUgPSBnZXRGaXJlc3RvcmUoYXBwKTtcblxuICAgIGNvbnN0IGVtdWxhdG9ySG9zdCA9IHByb2Nlc3MuZW52LkZJUkVTVE9SRV9FTVVMQVRPUl9IT1NUO1xuICAgIGlmIChlbXVsYXRvckhvc3QpIHtcbiAgICAgIGNvbnNvbGUuaW5mbygnW0ZpcmViYXNlIEFkbWluIC0gU2lnbl0gQ29ubmVjdGVkIHRvIEZpcmVzdG9yZSBlbXVsYXRvcjonLCBlbXVsYXRvckhvc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmluZm8oJ1tGaXJlYmFzZSBBZG1pbiAtIFNpZ25dIENvbm5lY3RlZCB0byBwcm9kdWN0aW9uIEZpcmVzdG9yZScpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmaXJlc3RvcmU7XG59XG5cbi8qKlxuICogR2V0IEZpcmViYXNlIEFkbWluIHdpdGggZGIgYWNjZXNzXG4gKiBDb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgQVBJIHJvdXRlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlyZWJhc2VBZG1pbigpOiB7IGRiOiBGaXJlc3RvcmU7IGFwcDogQXBwIH0ge1xuICBpZiAoIWFwcCkge1xuICAgIGluaXRpYWxpemVGaXJlYmFzZUFkbWluKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRiOiBnZXRGaXJlc3RvcmVBZG1pbigpLFxuICAgIGFwcCxcbiAgfTtcbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGFkbWluID0ge1xuICBmaXJlc3RvcmU6IGdldEZpcmVzdG9yZUFkbWluLFxuICBhcHA6ICgpID0+IGFwcCB8fCBpbml0aWFsaXplRmlyZWJhc2VBZG1pbigpLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYWRtaW47XG4iXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEFwcHMiLCJjZXJ0IiwiZ2V0RmlyZXN0b3JlIiwicHJvY2VzcyIsImVudiIsIlVTRV9GSVJFQkFTRV9FTVVMQVRPUiIsIkZJUkVTVE9SRV9FTVVMQVRPUl9IT1NUIiwiYXBwIiwiZmlyZXN0b3JlIiwiaW5pdGlhbGl6ZUZpcmViYXNlQWRtaW4iLCJsZW5ndGgiLCJoYXNFeHBsaWNpdENyZWRlbnRpYWxzIiwiRklSRUJBU0VfQ0xJRU5UX0VNQUlMIiwiRklSRUJBU0VfUFJJVkFURV9LRVkiLCJoYXNTZXJ2aWNlQWNjb3VudEZpbGUiLCJHT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFMiLCJjcmVkZW50aWFsIiwicHJvamVjdElkIiwiRklSRUJBU0VfUFJPSkVDVF9JRCIsImNsaWVudEVtYWlsIiwicHJpdmF0ZUtleSIsInJlcGxhY2UiLCJjb25zb2xlIiwiaW5mbyIsImZzIiwicmVxdWlyZSIsInNlcnZpY2VBY2NvdW50IiwiSlNPTiIsInBhcnNlIiwicmVhZEZpbGVTeW5jIiwicHJvamVjdF9pZCIsImVycm9yIiwiZ2V0RmlyZXN0b3JlQWRtaW4iLCJlbXVsYXRvckhvc3QiLCJnZXRGaXJlYmFzZUFkbWluIiwiZGIiLCJhZG1pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/firebase/admin.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils/user.ts":
/*!*******************************!*\
  !*** ./src/lib/utils/user.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearUserData: () => (/* binding */ clearUserData),\n/* harmony export */   generateAnonymousUserId: () => (/* binding */ generateAnonymousUserId),\n/* harmony export */   getAnonymousDisplayName: () => (/* binding */ getAnonymousDisplayName),\n/* harmony export */   getOrCreateAnonymousUser: () => (/* binding */ getOrCreateAnonymousUser),\n/* harmony export */   getUserDisplayNameFromCookie: () => (/* binding */ getUserDisplayNameFromCookie),\n/* harmony export */   getUserFromCookies: () => (/* binding */ getUserFromCookies),\n/* harmony export */   getUserIdFromCookie: () => (/* binding */ getUserIdFromCookie),\n/* harmony export */   getUserIdFromCookies: () => (/* binding */ getUserIdFromCookies),\n/* harmony export */   isAnonymousUser: () => (/* binding */ isAnonymousUser),\n/* harmony export */   setFirebaseUser: () => (/* binding */ setFirebaseUser)\n/* harmony export */ });\n/**\n * User management utilities for Sign app\n * Supports both Firebase Auth and anonymous users\n */ const USER_ID_KEY = \"signUserId\";\nconst FIREBASE_USER_KEY = \"firebaseUser\";\n/**\n * Generate a unique anonymous user ID\n */ function generateAnonymousUserId() {\n    return `anon_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;\n}\n/**\n * Get or create anonymous user ID (client-side only)\n * This function should only be called in client components\n */ function getOrCreateAnonymousUser() {\n    if (true) {\n        throw new Error(\"getOrCreateAnonymousUser can only be called on client-side\");\n    }\n    let userId = localStorage.getItem(USER_ID_KEY);\n    if (!userId) {\n        userId = generateAnonymousUserId();\n        localStorage.setItem(USER_ID_KEY, userId);\n    }\n    // Set cookie for server-side access\n    document.cookie = `userId=${userId}; path=/; max-age=31536000; SameSite=Lax`;\n    return userId;\n}\n/**\n * Store Firebase user info (client-side)\n */ function setFirebaseUser(user) {\n    if (true) return;\n    localStorage.setItem(FIREBASE_USER_KEY, JSON.stringify(user));\n    localStorage.setItem(USER_ID_KEY, user.uid);\n    // Set cookie for server-side access\n    document.cookie = `userId=${user.uid}; path=/; max-age=31536000; SameSite=Lax`;\n    document.cookie = `userDisplayName=${encodeURIComponent(user.displayName || \"\")}; path=/; max-age=31536000; SameSite=Lax`;\n}\n/**\n * Clear user data on logout (client-side)\n */ function clearUserData() {\n    if (true) return;\n    localStorage.removeItem(USER_ID_KEY);\n    localStorage.removeItem(FIREBASE_USER_KEY);\n    // Clear cookies\n    document.cookie = \"userId=; path=/; max-age=0\";\n    document.cookie = \"userDisplayName=; path=/; max-age=0\";\n}\n/**\n * Get user ID from cookies (server-side)\n * @param cookieHeader - Cookie header from request\n */ function getUserIdFromCookie(cookieHeader) {\n    if (!cookieHeader) return null;\n    const match = cookieHeader.match(/userId=([^;]+)/);\n    return match ? match[1] : null;\n}\n/**\n * Get user display name from cookies (server-side)\n * @param cookieHeader - Cookie header from request\n */ function getUserDisplayNameFromCookie(cookieHeader) {\n    if (!cookieHeader) return null;\n    const match = cookieHeader.match(/userDisplayName=([^;]+)/);\n    return match ? decodeURIComponent(match[1]) : null;\n}\n/**\n * Get user ID from Next.js cookies API (server-side)\n * @param cookieStore - Next.js cookies() return value\n */ function getUserIdFromCookies(cookieStore) {\n    const userIdCookie = cookieStore.get(\"userId\");\n    return userIdCookie?.value ?? null;\n}\n/**\n * Generate a display name for anonymous users\n * @param userId - Anonymous user ID\n */ function getAnonymousDisplayName(userId) {\n    // Extract timestamp from userId for consistent naming\n    const match = userId.match(/anon_(\\d+)_/);\n    if (match) {\n        const timestamp = parseInt(match[1]);\n        return `User ${timestamp.toString().slice(-6)}`;\n    }\n    return \"Anonymous User\";\n}\n/**\n * Check if a user ID is anonymous\n */ function isAnonymousUser(userId) {\n    return userId.startsWith(\"anon_\");\n}\n/**\n * Get user info from cookies (server-side)\n */ function getUserFromCookies(cookieStore) {\n    const userId = getUserIdFromCookies(cookieStore);\n    if (!userId) return null;\n    const displayNameCookie = cookieStore.get(\"userDisplayName\");\n    const displayName = displayNameCookie?.value ? decodeURIComponent(displayNameCookie.value) : getAnonymousDisplayName(userId);\n    return {\n        uid: userId,\n        displayName,\n        isAnonymous: isAnonymousUser(userId)\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0JBQW9CWCxZQUFZRSxHQUFHLENBQUM7SUFDMUMsTUFBTVgsY0FBY29CLG1CQUFtQlIsUUFDbkNMLG1CQUFtQmEsa0JBQWtCUixLQUFLLElBQzFDQyx3QkFBd0J6QjtJQUU1QixPQUFPO1FBQ0xVLEtBQUtWO1FBQ0xZO1FBQ0FxQixhQUFhSixnQkFBZ0I3QjtJQUMvQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGZyZWVkaS9zaWduLy4vc3JjL2xpYi91dGlscy91c2VyLnRzP2M0ZmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVc2VyIG1hbmFnZW1lbnQgdXRpbGl0aWVzIGZvciBTaWduIGFwcFxuICogU3VwcG9ydHMgYm90aCBGaXJlYmFzZSBBdXRoIGFuZCBhbm9ueW1vdXMgdXNlcnNcbiAqL1xuXG5jb25zdCBVU0VSX0lEX0tFWSA9ICdzaWduVXNlcklkJztcbmNvbnN0IEZJUkVCQVNFX1VTRVJfS0VZID0gJ2ZpcmViYXNlVXNlcic7XG5cbi8qKlxuICogR2VuZXJhdGUgYSB1bmlxdWUgYW5vbnltb3VzIHVzZXIgSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQW5vbnltb3VzVXNlcklkKCk6IHN0cmluZyB7XG4gIHJldHVybiBgYW5vbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDExKX1gO1xufVxuXG4vKipcbiAqIEdldCBvciBjcmVhdGUgYW5vbnltb3VzIHVzZXIgSUQgKGNsaWVudC1zaWRlIG9ubHkpXG4gKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBpbiBjbGllbnQgY29tcG9uZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3JDcmVhdGVBbm9ueW1vdXNVc2VyKCk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcignZ2V0T3JDcmVhdGVBbm9ueW1vdXNVc2VyIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBjbGllbnQtc2lkZScpO1xuICB9XG5cbiAgbGV0IHVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFVTRVJfSURfS0VZKTtcblxuICBpZiAoIXVzZXJJZCkge1xuICAgIHVzZXJJZCA9IGdlbmVyYXRlQW5vbnltb3VzVXNlcklkKCk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVVNFUl9JRF9LRVksIHVzZXJJZCk7XG4gIH1cblxuICAvLyBTZXQgY29va2llIGZvciBzZXJ2ZXItc2lkZSBhY2Nlc3NcbiAgZG9jdW1lbnQuY29va2llID0gYHVzZXJJZD0ke3VzZXJJZH07IHBhdGg9LzsgbWF4LWFnZT0zMTUzNjAwMDsgU2FtZVNpdGU9TGF4YDtcblxuICByZXR1cm4gdXNlcklkO1xufVxuXG4vKipcbiAqIFN0b3JlIEZpcmViYXNlIHVzZXIgaW5mbyAoY2xpZW50LXNpZGUpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRGaXJlYmFzZVVzZXIodXNlcjogeyB1aWQ6IHN0cmluZzsgZGlzcGxheU5hbWU6IHN0cmluZyB8IG51bGw7IGVtYWlsOiBzdHJpbmcgfCBudWxsIH0pOiB2b2lkIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG5cbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oRklSRUJBU0VfVVNFUl9LRVksIEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVVNFUl9JRF9LRVksIHVzZXIudWlkKTtcblxuICAvLyBTZXQgY29va2llIGZvciBzZXJ2ZXItc2lkZSBhY2Nlc3NcbiAgZG9jdW1lbnQuY29va2llID0gYHVzZXJJZD0ke3VzZXIudWlkfTsgcGF0aD0vOyBtYXgtYWdlPTMxNTM2MDAwOyBTYW1lU2l0ZT1MYXhgO1xuICBkb2N1bWVudC5jb29raWUgPSBgdXNlckRpc3BsYXlOYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHVzZXIuZGlzcGxheU5hbWUgfHwgJycpfTsgcGF0aD0vOyBtYXgtYWdlPTMxNTM2MDAwOyBTYW1lU2l0ZT1MYXhgO1xufVxuXG4vKipcbiAqIENsZWFyIHVzZXIgZGF0YSBvbiBsb2dvdXQgKGNsaWVudC1zaWRlKVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJVc2VyRGF0YSgpOiB2b2lkIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG5cbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVVNFUl9JRF9LRVkpO1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShGSVJFQkFTRV9VU0VSX0tFWSk7XG5cbiAgLy8gQ2xlYXIgY29va2llc1xuICBkb2N1bWVudC5jb29raWUgPSAndXNlcklkPTsgcGF0aD0vOyBtYXgtYWdlPTAnO1xuICBkb2N1bWVudC5jb29raWUgPSAndXNlckRpc3BsYXlOYW1lPTsgcGF0aD0vOyBtYXgtYWdlPTAnO1xufVxuXG4vKipcbiAqIEdldCB1c2VyIElEIGZyb20gY29va2llcyAoc2VydmVyLXNpZGUpXG4gKiBAcGFyYW0gY29va2llSGVhZGVyIC0gQ29va2llIGhlYWRlciBmcm9tIHJlcXVlc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJJZEZyb21Db29raWUoY29va2llSGVhZGVyOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICghY29va2llSGVhZGVyKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBtYXRjaCA9IGNvb2tpZUhlYWRlci5tYXRjaCgvdXNlcklkPShbXjtdKykvKTtcblxuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IG51bGw7XG59XG5cbi8qKlxuICogR2V0IHVzZXIgZGlzcGxheSBuYW1lIGZyb20gY29va2llcyAoc2VydmVyLXNpZGUpXG4gKiBAcGFyYW0gY29va2llSGVhZGVyIC0gQ29va2llIGhlYWRlciBmcm9tIHJlcXVlc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJEaXNwbGF5TmFtZUZyb21Db29raWUoY29va2llSGVhZGVyOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICghY29va2llSGVhZGVyKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBtYXRjaCA9IGNvb2tpZUhlYWRlci5tYXRjaCgvdXNlckRpc3BsYXlOYW1lPShbXjtdKykvKTtcblxuICByZXR1cm4gbWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pIDogbnVsbDtcbn1cblxuLyoqXG4gKiBHZXQgdXNlciBJRCBmcm9tIE5leHQuanMgY29va2llcyBBUEkgKHNlcnZlci1zaWRlKVxuICogQHBhcmFtIGNvb2tpZVN0b3JlIC0gTmV4dC5qcyBjb29raWVzKCkgcmV0dXJuIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VySWRGcm9tQ29va2llcyhcbiAgY29va2llU3RvcmU6IHsgZ2V0OiAobmFtZTogc3RyaW5nKSA9PiB7IHZhbHVlOiBzdHJpbmcgfSB8IHVuZGVmaW5lZCB9XG4pOiBzdHJpbmcgfCBudWxsIHtcbiAgY29uc3QgdXNlcklkQ29va2llID0gY29va2llU3RvcmUuZ2V0KCd1c2VySWQnKTtcblxuICByZXR1cm4gdXNlcklkQ29va2llPy52YWx1ZSA/PyBudWxsO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgZGlzcGxheSBuYW1lIGZvciBhbm9ueW1vdXMgdXNlcnNcbiAqIEBwYXJhbSB1c2VySWQgLSBBbm9ueW1vdXMgdXNlciBJRFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5vbnltb3VzRGlzcGxheU5hbWUodXNlcklkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyBFeHRyYWN0IHRpbWVzdGFtcCBmcm9tIHVzZXJJZCBmb3IgY29uc2lzdGVudCBuYW1pbmdcbiAgY29uc3QgbWF0Y2ggPSB1c2VySWQubWF0Y2goL2Fub25fKFxcZCspXy8pO1xuICBpZiAobWF0Y2gpIHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBwYXJzZUludChtYXRjaFsxXSk7XG5cbiAgICByZXR1cm4gYFVzZXIgJHt0aW1lc3RhbXAudG9TdHJpbmcoKS5zbGljZSgtNil9YDtcbiAgfVxuXG4gIHJldHVybiAnQW5vbnltb3VzIFVzZXInO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgdXNlciBJRCBpcyBhbm9ueW1vdXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQW5vbnltb3VzVXNlcih1c2VySWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gdXNlcklkLnN0YXJ0c1dpdGgoJ2Fub25fJyk7XG59XG5cbi8qKlxuICogVXNlciBpbmZvIHR5cGUgZm9yIHRoZSBTaWduIGFwcFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25Vc2VyIHtcbiAgdWlkOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIGlzQW5vbnltb3VzOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEdldCB1c2VyIGluZm8gZnJvbSBjb29raWVzIChzZXJ2ZXItc2lkZSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJGcm9tQ29va2llcyhcbiAgY29va2llU3RvcmU6IHsgZ2V0OiAobmFtZTogc3RyaW5nKSA9PiB7IHZhbHVlOiBzdHJpbmcgfSB8IHVuZGVmaW5lZCB9XG4pOiBTaWduVXNlciB8IG51bGwge1xuICBjb25zdCB1c2VySWQgPSBnZXRVc2VySWRGcm9tQ29va2llcyhjb29raWVTdG9yZSk7XG4gIGlmICghdXNlcklkKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBkaXNwbGF5TmFtZUNvb2tpZSA9IGNvb2tpZVN0b3JlLmdldCgndXNlckRpc3BsYXlOYW1lJyk7XG4gIGNvbnN0IGRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWVDb29raWU/LnZhbHVlXG4gICAgPyBkZWNvZGVVUklDb21wb25lbnQoZGlzcGxheU5hbWVDb29raWUudmFsdWUpXG4gICAgOiBnZXRBbm9ueW1vdXNEaXNwbGF5TmFtZSh1c2VySWQpO1xuXG4gIHJldHVybiB7XG4gICAgdWlkOiB1c2VySWQsXG4gICAgZGlzcGxheU5hbWUsXG4gICAgaXNBbm9ueW1vdXM6IGlzQW5vbnltb3VzVXNlcih1c2VySWQpLFxuICB9O1xufVxuIl0sIm5hbWVzIjpbIlVTRVJfSURfS0VZIiwiRklSRUJBU0VfVVNFUl9LRVkiLCJnZW5lcmF0ZUFub255bW91c1VzZXJJZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJnZXRPckNyZWF0ZUFub255bW91c1VzZXIiLCJFcnJvciIsInVzZXJJZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwiZG9jdW1lbnQiLCJjb29raWUiLCJzZXRGaXJlYmFzZVVzZXIiLCJ1c2VyIiwiSlNPTiIsInN0cmluZ2lmeSIsInVpZCIsImVuY29kZVVSSUNvbXBvbmVudCIsImRpc3BsYXlOYW1lIiwiY2xlYXJVc2VyRGF0YSIsInJlbW92ZUl0ZW0iLCJnZXRVc2VySWRGcm9tQ29va2llIiwiY29va2llSGVhZGVyIiwibWF0Y2giLCJnZXRVc2VyRGlzcGxheU5hbWVGcm9tQ29va2llIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZ2V0VXNlcklkRnJvbUNvb2tpZXMiLCJjb29raWVTdG9yZSIsInVzZXJJZENvb2tpZSIsImdldCIsInZhbHVlIiwiZ2V0QW5vbnltb3VzRGlzcGxheU5hbWUiLCJ0aW1lc3RhbXAiLCJwYXJzZUludCIsInNsaWNlIiwiaXNBbm9ueW1vdXNVc2VyIiwic3RhcnRzV2l0aCIsImdldFVzZXJGcm9tQ29va2llcyIsImRpc3BsYXlOYW1lQ29va2llIiwiaXNBbm9ueW1vdXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils/user.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/valibot","vendor-chunks/delib-npm"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute&page=%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcomments%2F%5BparagraphId%5D%2Froute.ts&appDir=%2FUsers%2Ftalyaron%2FDocuments%2FFreedi-app%2Fapps%2Fsign%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftalyaron%2FDocuments%2FFreedi-app%2Fapps%2Fsign&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();