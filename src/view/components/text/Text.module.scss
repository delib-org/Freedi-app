// =============================================================================
// TEXT COMPONENT STYLES
// Comprehensive styling for markdown content with clear visual hierarchy
// =============================================================================

.statement {
	font-size: 1rem;
	font-weight: 500;
	color: var(--text-title);
}

.description {
	font-size: 0.95rem;
	font-weight: 400;
	color: var(--text-body);
	line-height: 1.6;
}

// =============================================================================
// MARKDOWN CONTAINER
// =============================================================================

.markdown {
	font-size: 0.95rem;
	font-weight: 400;
	color: var(--text-body);
	line-height: 1.7;

	// Ensure proper spacing between all direct children
	> * + * {
		margin-top: 1rem;
	}

	// Reset first and last child margins for clean container edges
	> *:first-child {
		margin-top: 0;
	}

	> *:last-child {
		margin-bottom: 0;
	}
}

// =============================================================================
// HEADERS - Clear Visual Hierarchy
// =============================================================================

.h1 {
	font-size: 1.875rem;
	font-weight: 800;
	color: var(--text-title);
	margin: 2rem 0 1rem 0;
	line-height: 1.25;
	letter-spacing: -0.02em;

	// Visual separator for major sections
	padding-bottom: 0.625rem;
	border-bottom: 3px solid var(--agree, #57c6b2);

	&:first-child {
		margin-top: 0;
	}
}

.h2 {
	font-size: 1.5rem;
	font-weight: 700;
	color: var(--text-title);
	margin: 1.75rem 0 0.75rem 0;
	line-height: 1.3;
	letter-spacing: -0.01em;

	// Subtle visual indicator
	padding-bottom: 0.5rem;
	border-bottom: 2px solid var(--border-primary, #c6d8f7);

	&:first-child {
		margin-top: 0;
	}
}

.h3 {
	font-size: 1.3rem;
	font-weight: 700;
	color: var(--text-title);
	margin: 1.5rem 0 0.625rem 0;
	line-height: 1.35;

	&:first-child {
		margin-top: 0;
	}
}

.h4 {
	font-size: 1.15rem;
	font-weight: 700;
	color: var(--text-title);
	margin: 1.25rem 0 0.5rem 0;
	line-height: 1.4;

	&:first-child {
		margin-top: 0;
	}
}

// =============================================================================
// PARAGRAPHS
// =============================================================================

.p {
	margin: 0.75rem 0;
	line-height: 1.7;

	&:first-child {
		margin-top: 0;
	}

	&:last-child {
		margin-bottom: 0;
	}

	&--bold {
		font-weight: 500;
	}

	a {
		color: var(--header-question);
		text-decoration: underline;
		text-underline-offset: 2px;

		&:hover {
			color: var(--btn-primary);
		}
	}
}

// =============================================================================
// INLINE FORMATTING
// =============================================================================

.bold {
	font-weight: 700;
	color: var(--text-title);

	// When bold text is the only/first child of a paragraph, treat it like a header
	// This handles AI-generated summaries that use **bold** instead of ## headers
	&:first-child:last-child,
	&:only-child {
		display: block;
		font-size: 1.4rem !important;
		font-weight: 800 !important;
		margin-bottom: 0.625rem;
		margin-top: 1.25rem;
		padding-bottom: 0.375rem;
		border-bottom: 2px solid var(--agree, #57c6b2);
		line-height: 1.35;

		// First bold header shouldn't have top margin
		p:first-child > & {
			margin-top: 0;
		}
	}
}

.italic {
	font-style: italic;
}

// =============================================================================
// LISTS - Properly Indented with Clear Visual Structure
// =============================================================================

// Shared list styles
.ul,
.ol {
	margin: 0.875rem 0;
	padding-inline-start: 1.75rem; // Uses logical property for RTL support
	line-height: 1.6;

	&:first-child {
		margin-top: 0;
	}

	&:last-child {
		margin-bottom: 0;
	}

	// Nested list spacing
	.ul,
	.ol {
		margin-top: 0.5rem;
		margin-bottom: 0.5rem;
	}
}

// Unordered lists
.ul {
	list-style-type: disc;

	// Nested unordered lists use different bullet styles
	.ul {
		list-style-type: circle;

		.ul {
			list-style-type: square;
		}
	}
}

// Ordered lists
.ol {
	list-style-type: decimal;

	// Nested ordered lists
	.ol {
		list-style-type: lower-alpha;

		.ol {
			list-style-type: lower-roman;
		}
	}
}

// List items
.li {
	margin: 0.375rem 0;
	line-height: 1.6;
	padding-inline-start: 0.25rem; // Small padding after bullet/number

	// First and last items have tighter spacing
	&:first-child {
		margin-top: 0;
	}

	&:last-child {
		margin-bottom: 0;
	}

	// Paragraphs inside list items
	.p {
		margin: 0.375rem 0;

		&:first-child {
			margin-top: 0;
		}

		&:last-child {
			margin-bottom: 0;
		}
	}

	// Nested lists inside list items
	> .ul,
	> .ol {
		margin-top: 0.5rem;
	}
}

// =============================================================================
// LINKS
// =============================================================================

.link {
	color: var(--header-question);
	text-decoration: underline;
	text-underline-offset: 2px;
	text-decoration-thickness: 1px;
	transition: color 0.2s ease, text-decoration-color 0.2s ease;

	&:hover {
		color: var(--btn-primary);
		text-decoration-color: var(--btn-primary);
	}

	&:focus-visible {
		outline: 2px solid var(--btn-primary);
		outline-offset: 2px;
		border-radius: 2px;
	}
}

// =============================================================================
// RTL SUPPORT - Using Logical Properties for Most Cases
// =============================================================================

// Note: padding-inline-start handles RTL automatically
// These are fallbacks for older browsers or specific overrides
[dir="rtl"] {
	.ul,
	.ol {
		padding-left: 0;
		padding-right: 1.75rem;
	}

	.li {
		padding-left: 0;
		padding-right: 0.25rem;
	}
}

// =============================================================================
// RESPONSIVE ADJUSTMENTS
// =============================================================================

@media (max-width: 600px) {
	.markdown {
		font-size: 0.95rem;
		line-height: 1.65;
	}

	.h1 {
		font-size: 1.5rem;
		font-weight: 800;
		margin: 1.5rem 0 0.75rem 0;
	}

	.h2 {
		font-size: 1.3rem;
		font-weight: 700;
		margin: 1.25rem 0 0.625rem 0;
	}

	.h3 {
		font-size: 1.15rem;
		font-weight: 700;
		margin: 1rem 0 0.5rem 0;
	}

	.h4 {
		font-size: 1.05rem;
		font-weight: 700;
		margin: 0.875rem 0 0.375rem 0;
	}

	.ul,
	.ol {
		padding-inline-start: 1.5rem;
	}
}

// =============================================================================
// ACCESSIBILITY
// =============================================================================

@media (prefers-reduced-motion: reduce) {
	.link {
		transition: none;
	}
}